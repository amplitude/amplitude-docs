## Amplitude Experiment Evaluation Proxy

Amplitude Experiment Evaluation Proxy is a stateless microservice that extends Amplitude's experimentation platform to environments lacking native SDK support. This infrastructure component bridges the gap between unsupported platforms and Amplitude's remote Evaluation APIs, enabling local evaluation capabilities while preserving the performance and analytical benefits of server-side experimentation.

## Core Architecture and Deployment

The proxy operates as a lightweight, containerized service deployable through multiple orchestration methods:

- **Docker Deployment**: Available as `amplitudeinc/evaluation-proxy` container image
- **Kubernetes Integration**: Production-ready deployment via Helm charts
- **Network Configuration**: Default operation on port 3546
- **Storage Dependencies**: Redis backend required for caching and deduplication operations

## Key Features and Capabilities

**Local Evaluation Extension**: Transforms remote evaluation calls into local operations by proxying requests to Amplitude's remote Evaluation APIs/SDKs, significantly reducing latency compared to direct remote API calls while maintaining experiment integrity.

**Automated Assignment Tracking**: Implements intelligent event tracking with built-in 24-hour deduplication logic, ensuring accurate experiment attribution without generating duplicate assignment events that could compromise analytical accuracy.

**Large-Scale Cohort Synchronization**: Facilitates sophisticated audience targeting through hourly cohort synchronization processes, enabling experiments on large user segments without performance degradation.

**Stateless Architecture**: Maintains no persistent state within the service itself, relying on Redis for necessary data persistence and enabling horizontal scaling and fault tolerance.

## Configuration and Integration Parameters

### Essential Configuration Elements
- **Flag Sync Interval**: Configurable frequency for experiment flag synchronization with Amplitude services
- **Management API Key**: Authentication credential for secure communication with Amplitude's backend services
- **Cohort Sync Schedule**: Hourly synchronization cadence for large cohort targeting updates
- **Deduplication Window**: 24-hour temporal window for assignment event deduplication logic

### API Surface
The proxy exposes HTTP endpoints that mirror Amplitude's native SDK interfaces, providing:
- User-specific experiment variant retrieval
- Automatic assignment event triggering
- Cohort-based targeting rule access
- Local evaluation execution with cached experiment configurations

## Key Nomenclature and Definitions

**Evaluation Proxy**: The stateless microservice that enables local evaluation capabilities for platforms without native SDK support

**Local Evaluation**: The process of determining experiment variants locally rather than through remote API calls, reducing latency while maintaining experiment integrity

**Assignment Tracking**: Automated event logging that records when users are assigned to experiment variants, with built-in deduplication to prevent analytical inaccuracies

**Cohort Synchronization**: The hourly process of updating large user segment data to enable sophisticated audience targeting in experiments

**Flag Sync**: The configurable process of synchronizing experiment flag states and configurations with Amplitude's backend services

**Deduplication Logic**: 24-hour temporal window mechanism that prevents duplicate assignment events from being recorded

**Management API Key**: Authentication credential required for secure communication between the proxy and Amplitude's backend services

## Product Ecosystem Integration

Within Amplitude's experimentation ecosystem, the Evaluation Proxy functions as a critical infrastructure extension that democratizes access to Amplitude Experiment's capabilities across diverse technology stacks. It maintains full compatibility with core Amplitude experimentation features:

- **User Targeting and Segmentation**: Preserves sophisticated targeting capabilities across platforms
- **Assignment Analytics**: Ensures consistent event tracking and attribution across all integration points
- **Cohort-Based Experimentation**: Enables large-scale audience experiments regardless of platform constraints
- **Real-Time Configuration**: Maintains synchronization with live experiment configurations and flag states

The proxy enables organizations to implement unified experimentation strategies across heterogeneous environments while maintaining the performance characteristics, analytical precision, and operational reliability of Amplitude's native experimentation platform. This architectural approach ensures that platform limitations don't constrain experimentation scope or analytical fidelity.
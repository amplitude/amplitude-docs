# Amplitude Flutter SDK

## Overview
The Amplitude Flutter SDK is a cross-platform analytics solution for tracking user behavior in Flutter applications across iOS, Android, macOS, and web platforms. It provides a unified API for event tracking, user property management, revenue tracking, and session handling while leveraging platform-specific capabilities through its architecture that wraps native SDKs.

## Key Features
- **Cross-Platform Support**: Works seamlessly across iOS, Android, macOS, and web
- **Comprehensive Event Tracking**: Track user interactions and custom events with properties
- **User Property Management**: Set, update, and manage user attributes
- **Revenue Tracking**: Monitor purchase events and revenue metrics
- **Session Management**: Configure and track user sessions
- **User Grouping**: Associate users with specific groups for segmentation
- **Batch Processing**: Configure event batching for network efficiency
- **EU Data Residency**: Support for European data storage requirements
- **Default Event Tracking**: Automatic tracking of common events (sessions, app lifecycles, deep links)
- **Dynamic Configuration**: Runtime configuration options for flexibility

## Product Architecture
The Flutter SDK functions as a wrapper around platform-specific SDKs:
- iOS SDK for iOS applications
- Android SDK for Android applications
- Browser SDK for web support

This architecture enables the Flutter SDK to provide consistent APIs while utilizing platform-specific capabilities. Version 4.0 wraps the latest versions of these underlying SDKs.

## Key Nomenclature and Definitions
- **BaseEvent**: The fundamental event object in SDK 4.0 representing user actions
- **DefaultTrackingOptions**: Configuration for automatic event tracking capabilities
- **identify()**: Method for setting user properties
- **track()**: Core method for sending events to Amplitude
- **setGroup()**: Method for associating users with groups
- **groupIdentify()**: Method for setting group properties
- **Revenue**: Object for tracking revenue-related events
- **flush()**: Method to immediately send events to Amplitude servers
- **Configuration**: Object for configuring SDK behavior
- **minIdLength**: Parameter for minimum user/device ID length validation

## Integration and Usage

### Installation
```yaml
dependencies:
  amplitude_flutter: ^4.0.0
```

### Initialization
```dart
import 'package:amplitude_flutter/amplitude.dart';

final amplitude = Amplitude.getInstance();
amplitude.init('API_KEY', 
  Configuration(
    defaultTracking: DefaultTrackingOptions(
      sessions: true,
      appLifecycles: true,
      deepLinks: true
    )
  )
);
```

### Event Tracking
```dart
// Basic event tracking
amplitude.track(BaseEvent('Button Clicked'));

// Event with properties
amplitude.track(BaseEvent('Product Purchased', 
  eventProperties: {'price': 10.99, 'product_id': '123'}
));
```

### User Properties
```dart
// Set user properties
amplitude.identify(Identify()
  .set('email', 'user@example.com')
  .set('plan_type', 'premium'));

// Increment properties
amplitude.identify(Identify()
  .add('login_count', 1));
```

### Revenue Tracking
```dart
amplitude.revenue(Revenue()
  .setProductId('product_id')
  .setPrice(3.99)
  .setQuantity(3));
```

## Product Ecosystem Integration
The Flutter SDK integrates with the broader Amplitude ecosystem, allowing data collected to be:
- Analyzed in Amplitude Analytics dashboards
- Used for user segmentation and cohort analysis
- Connected to other Amplitude products like Experiment for A/B testing
- Exported to third-party tools through Amplitude's data connections

## API Methods

### Core Methods
- `getInstance()`: Get SDK instance
- `init(String apiKey, Configuration config)`: Initialize the SDK
- `track(BaseEvent event)`: Track an event
- `identify(Identify identify)`: Set user properties
- `setUserId(String userId)`: Set user ID
- `setDeviceId(String deviceId)`: Set device ID
- `logEvent(String eventType, Map<String, dynamic> eventProperties)`: Legacy method for tracking events
- `uploadEvents()`: Force upload of events
- `flush()`: Immediately send events to Amplitude

### Configuration Options
- `flushQueueSize`: Number of events to batch before sending
- `flushIntervalMillis`: Time between event uploads
- `minIdLength`: Minimum length for user/device IDs
- `serverZone`: Server location (US or EU)
- `useBatch`: Enable/disable batch processing
- `trackingSessionEvents`: Enable/disable session tracking

## Version Information
- **Flutter SDK 4.0**: Current recommended version with simplified interfaces and improved functionality
- **Flutter SDK 3.0**: In maintenance mode, still supported but not actively developed

## Platform Requirements
- **iOS**: Requires iOS 13.0 or higher in SDK 4.0
- **Android**: Supports Android API level requirements of the underlying Android SDK
- **Web**: Requires additional configuration for proper initialization
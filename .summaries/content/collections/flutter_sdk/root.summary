# Amplitude Flutter SDK

## Overview
The Amplitude Flutter SDK is a cross-platform analytics solution for tracking user behavior in Flutter applications across iOS, Android, and web platforms. It provides event tracking, user identification, revenue tracking, and session management capabilities through a unified API that wraps native platform SDKs.

## Key Features
- **Event Tracking**: Standard and custom event tracking with properties
- **User Identification**: User ID management and property tracking
- **Revenue Tracking**: Specialized API for tracking revenue-generating activities
- **Session Management**: Automatic session tracking with configurable timeouts
- **Default Event Tracking**: Automatic tracking for app lifecycles and sessions
- **User Groups**: Group users by organization or other attributes
- **Offline Support**: Store events when offline and send later
- **Configuration Options**: Customizable tracking behavior and data handling

## Product Versions
- **Flutter SDK 4.0**: Current recommended version with simplified APIs
- **Flutter SDK 3.0**: Maintenance mode, still supported but not receiving new features

## Product Architecture
The Flutter SDK serves as a wrapper around native Amplitude SDKs:
- iOS SDK (requires iOS 13+)
- Android SDK
- Browser SDK (for web applications)

This architecture leverages platform-specific capabilities while providing a consistent API for Flutter developers.

## Key Nomenclature
- **BaseEvent**: Fundamental event object structure in SDK 4.0
- **DefaultTrackingOptions**: Configuration for automatic event tracking
- **Identify**: API for modifying user properties
- **Revenue**: Specialized event type for tracking monetary transactions
- **Configuration**: Object used during initialization to set SDK behavior
- **minIdLength**: Minimum length for valid user and device IDs
- **flush()**: Method to immediately send events to Amplitude servers

## Implementation Details

### Installation
```yaml
dependencies:
  amplitude_flutter: ^4.0.0
```

### Initialization
```dart
import 'package:amplitude_flutter/amplitude.dart';

final amplitude = Amplitude.getInstance();
amplitude.init('API_KEY', 
  Configuration(
    defaultTracking: DefaultTrackingOptions(
      sessions: true,
      appLifecycles: true,
    )
  )
);
```

### Event Tracking
```dart
// Basic event
amplitude.track('Button Clicked');

// Event with properties
amplitude.track('Product Viewed', 
  eventProperties: {'productId': '123', 'price': 29.99}
);
```

### User Identification
```dart
// Set user ID
amplitude.setUserId('user@example.com');

// Set user properties
amplitude.identify(
  Identify()
    .set('email', 'user@example.com')
    .set('plan', 'premium')
    .add('loginCount', 1)
);
```

### Revenue Tracking
```dart
amplitude.revenue(
  Revenue()
    .setProductId('product_123')
    .setPrice(29.99)
    .setQuantity(2)
);
```

### Group Identification
```dart
amplitude.setGroup('orgId', 'org_123');
amplitude.groupIdentify('orgId', 'org_123', 
  Identify().set('plan', 'enterprise')
);
```

## Ecosystem Integration
The Flutter SDK integrates with the broader Amplitude analytics platform, sending data to Amplitude's servers for analysis and visualization. It supports:
- EU data residency for regional compliance
- COPPA compliance controls
- Integration with Amplitude's experiment and targeting products

## Migration from v3 to v4
Key changes when migrating:
1. New initialization pattern using Configuration object
2. Default event tracking enabled by default
3. Simplified API interfaces
4. iOS 13+ requirement
5. New BaseEvent structure
6. Updated Identify API patterns
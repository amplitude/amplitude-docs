# Amplitude Flutter SDK

## Overview

The Amplitude Flutter SDK is a cross-platform analytics solution for tracking user behavior and events in Flutter applications across iOS, Android, macOS, and web platforms. It provides comprehensive event tracking capabilities, user identification, revenue tracking, and session management.

Two major versions are available:
- Flutter SDK 4.0 (latest recommended version)
- Flutter SDK 3.0 (maintenance mode)

The SDK enables developers to collect and analyze user interactions, set user properties, manage user groups, track revenue events, and configure session behavior with support for EU data residency, COPPA compliance, and dynamic configuration.

## Product Relationships and Features

### Core Components

1. **SDK Versions**:
   - **Flutter SDK 4.0**: Latest version with improved APIs, default event tracking, and simplified interfaces
   - **Flutter SDK 3.0**: Legacy version in maintenance mode

2. **Platform Support**:
   - iOS (iOS 13+ required for SDK 4.0)
   - Android
   - macOS
   - Web (Browser)

3. **Key Features**:
   - **Event Tracking**: Track user actions and custom events
   - **User Identification**: Associate events with specific users
   - **User Properties**: Store and update attributes about users
   - **User Groups**: Organize users into logical groups
   - **Revenue Tracking**: Monitor in-app purchases and revenue events
   - **Session Management**: Track user sessions with configurable timeouts
   - **Batch Processing**: Queue and send events in batches
   - **EU Data Residency**: Option to route data to EU servers

4. **Configuration Options**:
   - Default event tracking options
   - Minimum ID length requirements
   - Flush intervals
   - Batch event limits
   - Server zone settings
   - COPPA control
   - Tracking options

## Key Nomenclature and Definitions

1. **BaseEvent**: Core event object structure used for tracking events in SDK 4.0
2. **Configuration Object**: Used to initialize the SDK with specific settings
3. **track() API**: Method used to send events to Amplitude
4. **identify() API**: Method used to set or modify user properties
5. **Device ID**: Unique identifier for the device using the app
6. **User ID**: Custom identifier for the user of the app
7. **Event Properties**: Additional data attached to events for more detailed analysis
8. **User Properties**: Attributes that describe a user, such as name, email, or preferences
9. **DefaultTrackingOptions**: Configuration for automatic event tracking in SDK 4.0
10. **flush() Method**: Forces the SDK to send any queued events to Amplitude servers
11. **minIdLength**: Configuration parameter that sets the minimum length for user and device IDs
12. **Session**: A period of user engagement with the app, with configurable timeout
13. **Revenue**: Events specifically for tracking monetary transactions
14. **User Groups**: A feature allowing users to be associated with one or more groups

## Product Ecosystem Integration

The Flutter SDK integrates with the broader Amplitude Analytics ecosystem by:

1. Wrapping the native iOS, Android, and Browser SDKs to provide a unified cross-platform interface
2. Sending data to Amplitude's analytics backend for processing and visualization
3. Supporting EU data residency requirements by allowing configuration of server zones
4. Providing compatibility with Amplitude's user identification system for cross-platform user tracking
5. Enabling integration with other Amplitude products through consistent event tracking and user identification

## API Endpoints and Invocations

### SDK 4.0 Key API Methods

```dart
// Initialization
final amplitude = Amplitude.getInstance();
amplitude.init(apiKey);

// Configuration
amplitude.configuration.defaultTracking.sessions = true;
amplitude.configuration.flushIntervalMillis = 1000;
amplitude.configuration.minIdLength = 5;

// Event Tracking
amplitude.track(BaseEvent('Button Clicked'));
amplitude.track(BaseEvent('Purchase')
  ..eventProperties = {'price': 10.99, 'item': 'Premium Subscription'});

// User Identification
amplitude.setUserId('user_123');

// User Properties
amplitude.identify(Identify()
  ..set('email', 'user@example.com')
  ..set('plan_type', 'premium'));

// Revenue Tracking
amplitude.revenue(Revenue()
  ..price = 3.99
  ..quantity = 2
  ..productId = 'com.company.app.product_1');

// Flush Events
amplitude.flush();
```

### SDK 3.0 Key API Methods

```dart
// Initialization
final analytics = AmplitudeFlutter();
analytics.init(apiKey);

// Event Tracking
analytics.logEvent('Button Clicked');
analytics.logEvent('Purchase', eventProperties: {'price': 10.99});

// User Identification
analytics.setUserId('user_123');

// User Properties
analytics.identify(Identify()
  ..set('email', 'user@example.com')
  ..set('plan_type', 'premium'));

// Revenue Tracking
analytics.logRevenue('product_id', 2, 3.99);

// User Groups
analytics.setGroup('orgId', '15');
```
# Amplitude Analytics Flutter SDK

The Amplitude Analytics Flutter SDK is a comprehensive cross-platform analytics solution designed for Flutter applications to track user events, behaviors, and revenue data. The SDK provides unified analytics capabilities across Android, iOS, and web platforms through a modern HTTP V2 API architecture.

## Product Architecture and Evolution

The SDK has undergone significant architectural evolution across two major versions:

**Flutter SDK 3** operates as a wrapper-based architecture around native Android, iOS, and JavaScript SDKs, providing cross-platform analytics through Dart language integration. This version remains in maintenance mode for legacy compatibility.

**Flutter SDK 4** represents a complete architectural redesign, implementing Amplitude's HTTP V2 API directly to eliminate wrapper dependencies. This modernized approach delivers improved performance and consistency while requiring updated platform requirements (Kotlin 1.9.22, Gradle 8.2, iOS 13.0+).

## Core Analytics Features

The SDK centers around event tracking through `BaseEvent` objects, which serve as the primary data structure for capturing user interactions. User identification operates through dual mechanisms: `setUserId()` for authenticated users and `setDeviceId()` for anonymous tracking, both supporting validation through `minIdLength` parameters.

Revenue tracking utilizes a dedicated Revenue API for monetary transaction attribution, while user property management operates through `Identify` operations for dynamic attribute updates. The SDK provides automatic tracking capabilities via `DefaultTrackingOptions`, including session management, app lifecycle events, and deep link tracking.

Advanced functionality includes user grouping through `groupIdentify()` operations, batch event processing via `useBatch` configuration, and geographic data residency controls through `ServerZone.eu` settings. COPPA compliance controls and comprehensive opt-out mechanisms ensure privacy regulation adherence.

## Key Nomenclature and Technical Definitions

**BaseEvent**: Core event object containing structured event data and metadata for user interaction tracking
**Identify**: Operation class managing user properties and attribute modifications
**Revenue**: Specialized tracking object for monetary transactions and revenue attribution
**DefaultTrackingOptions**: Configuration object controlling automatic event collection behaviors
**ServerZone**: Geographic data residency configuration supporting US/EU compliance requirements
**deviceId/userId**: Primary user identification mechanisms with configurable validation requirements
**flushQueueSize/flushIntervalMillis**: Batch processing parameters controlling event upload timing and volume

## API Methods and Integration Points

Core tracking methods include:
- `track()` for event logging (replacing legacy `logEvent()`)
- `flush()` for immediate event upload (replacing `uploadEvents()`)
- `revenue()` for monetary transaction tracking
- `groupIdentify()` for user segmentation operations

Configuration utilizes `Configuration` object initialization replacing direct `instance()` calls, with parameters controlling batch processing, server zones, and automatic tracking options. Platform-specific setup requires CocoaPods for iOS/macOS and Browser SDK 2 snippet integration for Flutter Web applications.

SDK integration operates through `pubspec.yaml` dependency management, supporting both pub.dev distribution and local development workflows.

## Migration Architecture and Breaking Changes

The SDK 3 to 4 migration involves substantial breaking changes including API method renames, configuration object restructuring, and platform requirement updates. Critical migration points include:

- Replacing `instance()` patterns with `Configuration` objects
- Method call updates: `logEvent()` → `track()`, `uploadEvents()` → `flush()`
- Browser SDK 2 snippet implementation for web applications
- Session management changes with `sessionId -1` for out-of-session events

Removed functionality includes `clearUserProperties()`, `setUserProperties()`, `logRevenue()`, and `regenerateDeviceId()` methods, requiring alternative implementation approaches.

## Ecosystem Integration and Enterprise Features

The Flutter SDK integrates within Amplitude's unified analytics ecosystem through HTTP V2 API endpoints, ensuring consistent data collection and processing across platforms. Cross-platform compatibility maintains data consistency through centralized API architecture while supporting platform-specific optimizations.

Enterprise capabilities include EU data residency compliance through `ServerZone` configuration, batch processing optimization via configurable flush parameters, and comprehensive user privacy controls. The SDK supports advertising ID collection, dynamic configuration management, and scalable deployment across diverse application environments.

The solution positions as a comprehensive analytics platform supporting applications requiring robust tracking capabilities, regulatory compliance, and cross-platform consistency within modern Flutter development workflows.
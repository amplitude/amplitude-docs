## Amplitude Analytics Flutter SDK

The Amplitude Analytics Flutter SDK is a cross-platform analytics solution that enables Flutter applications to track user events and behaviors through Amplitude's analytics platform. The SDK provides comprehensive event tracking, user identification, revenue analytics, and session management capabilities across iOS, Android, and web platforms.

## Product Versions and Evolution

The documentation covers two major SDK versions with distinct architectures:

**Flutter SDK 3.x (Legacy - Maintenance Mode)**
- Cross-platform wrapper around native Android, iOS, and JavaScript SDKs
- Dart-based implementation with platform-specific bridges
- Supports traditional analytics patterns with mutable configuration

**Flutter SDK 4.x (Current)**
- Modern implementation using Amplitude's HTTP V2 API
- Immutable configuration architecture
- Enhanced type safety with BaseEvent system
- Improved performance and reliability

## Core Features and Capabilities

### Event Tracking System
- **Event Logging**: Primary tracking through `amplitude.track()` (v4) or `logEvent()` (v3)
- **BaseEvent Architecture**: Structured event system in v4 with consistent event typing
- **Custom Properties**: Support for arbitrary event properties and user attributes
- **Batch Processing**: Automatic event batching with configurable flush intervals

### User Management
- **User Identification**: `setUserId()` and `identify()` operations for user tracking
- **Device Management**: `setDeviceId()` with regeneration capabilities
- **User Properties**: Dynamic user attribute management through Identify operations
- **User Groups**: `setGroup()` and `groupIdentify()` for cohort analytics

### Revenue Analytics
- **Revenue Tracking**: Dedicated `revenue()` (v4) or `logRevenue()` (v3) methods
- **Transaction Management**: Support for purchase tracking and monetization analytics

### Session Management
- **Automatic Session Tracking**: Built-in session lifecycle management
- **Session Configuration**: Customizable session timeout and tracking options
- **Out-of-Session Events**: Support for background event tracking with `sessionId: -1`

## Technical Architecture and Platform Support

### Platform Requirements
- **iOS**: Minimum iOS 13.0 (v4), CocoaPods integration
- **Android**: Kotlin 1.9.22+, Gradle 8.2+, deep link tracking support
- **Web**: Browser SDK 2 integration, JavaScript interoperability
- **macOS**: Native support through CocoaPods

### Configuration Management
- **Immutable Configuration**: v4 introduces Configuration objects replacing setter methods
- **Server Zones**: EU data residency support through `ServerZone.eu`
- **Flush Controls**: `flushQueueSize` and `flushIntervalMillis` for performance tuning
- **Tracking Options**: `DefaultTrackingOptions` for session and lifecycle management

## Key API Endpoints and Methods

### Core Tracking APIs
```dart
amplitude.track()           // Event tracking (v4)
amplitude.identify()        // User identification
amplitude.revenue()         // Revenue tracking (v4)
amplitude.flush()          // Manual event upload (v4)
amplitude.reset()          // User session reset
```

### Legacy APIs (v3)
```dart
logEvent()                 // Event tracking
logRevenue()              // Revenue tracking
uploadEvents()            // Manual upload
```

## Integration and Ecosystem

### Package Management
- **Pub.dev Distribution**: `amplitude_flutter` package
- **Dependency Management**: Version-specific requirements in `pubspec.yaml`
- **Native Dependencies**: Platform-specific SDK integration

### Browser Integration
- **JavaScript Interoperability**: `dart:js_interop` for web platforms
- **Browser SDK Compatibility**: Integration with `amplitude-8.12.0-min.gz.js`
- **Cross-Platform Consistency**: Unified API across mobile and web

### Privacy and Compliance
- **COPPA Support**: Children's privacy compliance features
- **Opt-out Mechanisms**: User privacy controls
- **IDFA Management**: iOS advertising identifier handling
- **Data Residency**: EU server zone support for GDPR compliance

## Migration and Versioning

The SDK includes comprehensive migration guidance from v3 to v4, addressing:
- **Breaking API Changes**: Method name updates and parameter modifications
- **Configuration Refactoring**: Transition to immutable configuration patterns
- **Dependency Updates**: Platform requirement changes and minimum version bumps
- **Feature Deprecations**: Removal of legacy methods like `clearUserProperties()` and `regenerateDeviceId()`

The Flutter SDK integrates seamlessly with Amplitude's broader analytics ecosystem, providing consistent cross-platform tracking while maintaining platform-specific optimizations and native performance characteristics.
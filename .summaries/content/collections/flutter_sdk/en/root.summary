## Amplitude Analytics Flutter SDK

The Amplitude Analytics Flutter SDK is a comprehensive analytics solution that enables Flutter applications to track user events, behaviors, and revenue data. The SDK has evolved through multiple versions, with version 4 being the current release and version 3 in maintenance mode. The SDK provides cross-platform support for iOS, Android, macOS, and web applications, offering both native performance and Flutter-specific integrations.

## Product Relationships and Architecture

The Flutter SDK ecosystem consists of three distinct implementations:

**Flutter SDK v4** represents the modern, native implementation built specifically for Flutter applications. It communicates directly with Amplitude's HTTP V2 API and provides optimized performance with minimal dependencies.

**Flutter SDK v3** (maintenance mode) functions as a wrapper around Amplitude's native Android, iOS, and JavaScript SDKs, providing compatibility with existing native implementations while offering Flutter-specific APIs.

**Migration pathway** exists between versions, with comprehensive tooling and documentation to upgrade from v3 to v4, including API method mappings and configuration changes.

The web implementation integrates with Browser SDK 2, ensuring consistent analytics behavior across Flutter web applications and traditional web implementations.

## Key Nomenclature and Definitions

**BaseEvent**: The fundamental event object in SDK v4 that encapsulates all trackable user interactions, replacing the previous event structure from v3.

**Configuration Object**: Centralized configuration system introduced in v4 that replaces individual setter methods, managing SDK behavior including flush intervals, queue sizes, and server endpoints.

**DefaultTrackingOptions**: Automated tracking configuration that controls which default events (sessions, app lifecycles, deep links) are automatically captured without explicit instrumentation.

**ServerZone**: Geographic routing configuration that directs data to specific Amplitude data centers (US or EU) for compliance and performance optimization.

**Identify Operations**: User property management system that handles setting, updating, and clearing user attributes through dedicated identify calls.

**Revenue Tracking**: Specialized event type for tracking monetary transactions with built-in validation and formatting for financial data.

**Group Analytics**: Enterprise feature enabling user segmentation and group-level analytics through groupIdentify operations.

## Ecosystem Integration

The Flutter SDK integrates into Amplitude's broader analytics ecosystem through several key touchpoints:

**HTTP V2 API**: SDK v4 communicates directly with Amplitude's modern HTTP V2 API endpoints, ensuring optimal performance and feature compatibility with the latest platform capabilities.

**Cross-Platform Consistency**: The SDK maintains behavioral consistency with Amplitude's native Android, iOS, and JavaScript SDKs while providing Flutter-specific optimizations and APIs.

**Browser SDK Interoperability**: Flutter web applications can seamlessly integrate with existing Browser SDK 2 implementations, enabling hybrid deployment scenarios.

**Enterprise Features**: The SDK supports advanced enterprise capabilities including COPPA compliance controls, custom server zones for data residency, and group analytics for organizational tracking.

## Technical Implementation Details

**Installation Requirements**: SDK v4 requires Kotlin 1.9.22+ and Gradle 8.2+ for Android builds, with CocoaPods integration for iOS/macOS platforms.

**Core API Methods**:
- `amplitude.track()` - Event tracking (replaces `logEvent()` from v3)
- `amplitude.identify()` - User property management
- `amplitude.revenue()` - Revenue event tracking (replaces `logRevenue()`)
- `amplitude.flush()` - Manual event upload (replaces `uploadEvents()`)
- `amplitude.reset()` - User session reset

**Configuration Parameters**:
- `flushQueueSize` / `flushIntervalMillis` - Event batching and upload timing
- `minIdLength` - User ID validation requirements
- `serverZone` / `serverUrl` - Data routing and custom endpoints
- `sessionId: -1` - Out-of-session event tracking

**Platform-Specific Features**:
- iOS 13.0+ minimum platform requirement for v4
- Android deep link tracking through DefaultTrackingOptions
- Flutter web integration with Browser SDK 2 snippet replacement
- macOS support through CocoaPods integration

The SDK provides comprehensive session management, automatic app lifecycle tracking, and configurable default event collection, making it suitable for applications ranging from simple mobile apps to complex enterprise analytics implementations.
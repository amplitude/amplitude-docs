# Amplitude Flutter SDK Product Overview

The Amplitude Flutter SDK is a cross-platform analytics solution that enables developers to track user behavior and events in Flutter applications across iOS, Android, and web platforms. The SDK provides comprehensive analytics capabilities including event tracking, user identification, revenue tracking, session management, and more.

## Product Versions and Status

- **Flutter SDK 4.0**: The current recommended version for new implementations, featuring simplified APIs and improved functionality.
- **Flutter SDK 3.0**: In maintenance mode, still supported but not receiving new features.

## Key Features and Capabilities

1. **Event Tracking**
   - Standard event tracking via `track()` method
   - Default event tracking for lifecycle events (app opens, sessions)
   - Custom event properties support
   - Batch event processing

2. **User Identification and Properties**
   - User ID management
   - Device ID tracking and customization
   - User property management via `identify()` API
   - User groups functionality

3. **Revenue Tracking**
   - Dedicated revenue tracking API
   - Support for product ID, quantity, price, and revenue type

4. **Session Management**
   - Automatic session tracking
   - Configurable session timeout
   - Session events

5. **Configuration Options**
   - EU data residency support
   - COPPA compliance controls
   - Offline data storage
   - Flush intervals and event upload thresholds
   - Opt-out functionality

6. **Platform Support**
   - iOS (requires iOS 13+)
   - Android
   - Web (via Flutter web)

## Product Relationships and Architecture

The Flutter SDK serves as a wrapper around the native Amplitude SDKs:
- iOS SDK
- Android SDK
- Browser SDK (for web applications)

This architecture allows the Flutter SDK to leverage platform-specific capabilities while providing a unified API for Flutter developers. The SDK handles the communication between the Flutter application layer and the underlying native SDKs.

## Key Nomenclature and Definitions

- **BaseEvent**: The fundamental event object structure in SDK 4.0
- **DefaultTrackingOptions**: Configuration for automatic event tracking
- **Identify**: API for setting, adding to, or removing user properties
- **Revenue**: Specialized event type for tracking revenue-generating activities
- **Configuration object**: Used during initialization to set SDK behavior
- **minIdLength**: Minimum length for valid user and device IDs
- **flush()**: Method to immediately send events to Amplitude servers

## API and Implementation Details

### Installation

```yaml
dependencies:
  amplitude_flutter: ^4.0.0
```

### Initialization

SDK 4.0:
```dart
import 'package:amplitude_flutter/amplitude.dart';

final amplitude = Amplitude.getInstance();
amplitude.init('API_KEY', 
  Configuration(
    defaultTracking: DefaultTrackingOptions(
      sessions: true,
      appLifecycles: true,
    )
  )
);
```

### Event Tracking

```dart
// Basic event
amplitude.track('Button Clicked');

// Event with properties
amplitude.track('Product Viewed', 
  eventProperties: {'productId': '123', 'price': 29.99}
);
```

### User Identification

```dart
// Set user ID
amplitude.setUserId('user@example.com');

// Set user properties
amplitude.identify(
  Identify()
    .set('email', 'user@example.com')
    .set('plan', 'premium')
    .add('loginCount', 1)
);
```

### Revenue Tracking

```dart
amplitude.revenue(
  Revenue()
    .setProductId('product_123')
    .setPrice(29.99)
    .setQuantity(2)
);
```

### Group Identification

```dart
amplitude.setGroup('orgId', 'org_123');
amplitude.groupIdentify('orgId', 'org_123', 
  Identify().set('plan', 'enterprise')
);
```

## Migration from v3 to v4

Key changes when migrating from Flutter SDK 3 to 4:

1. **Initialization Pattern**: Changed to use a Configuration object
2. **Default Event Tracking**: Now enabled by default
3. **API Simplification**: Streamlined interfaces for tracking and identification
4. **Platform Requirements**: iOS 13+ now required
5. **Event Structure**: New BaseEvent structure for all events
6. **User Property Management**: Updated Identify API patterns

The migration requires updating dependency versions, adjusting initialization code, and potentially modifying event tracking implementations to align with the new API patterns.

## Integration with Amplitude Ecosystem

The Flutter SDK integrates with the broader Amplitude analytics platform, sending data to Amplitude's servers for analysis, visualization, and user behavior insights. The SDK supports EU data residency for compliance with regional data regulations and can be configured to work with Amplitude's experiment and targeting products.
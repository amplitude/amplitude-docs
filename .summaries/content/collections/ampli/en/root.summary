# Amplitude Ampli: Type-Safe Analytics Implementation System

## Product Overview

Ampli is a comprehensive analytics implementation system from Amplitude that provides type safety, validation, and automation for tracking analytics events in applications. It consists of two main components: the Ampli CLI tool and the Ampli Wrapper. Together, they enable developers to implement analytics tracking that strictly adheres to predefined tracking plans, reducing errors and improving code quality through type checking and autocompletion.

Key features include:
- Type-safe event tracking with compile-time validation
- Automated code generation based on tracking plans
- Continuous validation against tracking plans in CI/CD pipelines
- Progressive migration path from traditional Amplitude SDK
- Source control integration for team collaboration
- Support for multiple environments and branches

## Product Relationships and Architecture

The Ampli ecosystem consists of these interconnected components:

1. **Amplitude Data** - The central platform where tracking plans are defined and managed
2. **Ampli CLI** - Command-line tool that pulls tracking plans and generates type-safe code
3. **Ampli Wrapper** - The generated code that provides a strongly-typed API for event tracking
4. **CI/CD Integration** - Validation tools that run in continuous integration environments

The workflow typically follows this pattern:
- Product/analytics teams define tracking plans in Amplitude Data
- Developers use Ampli CLI to pull these plans and generate type-safe code
- The generated Ampli Wrapper is used in application code for event tracking
- CI/CD pipelines validate that implementation matches the tracking plan

## Key Nomenclature and Definitions

- **Tracking Plan**: A specification that defines events, their properties, and validation rules
- **ampli.json**: Configuration file that stores Ampli settings and tracking plan information
- **Ampli Wrapper**: Generated code that provides type-safe methods for tracking events
- **ampli pull**: CLI command to download tracking plan and generate wrapper code
- **ampli status**: CLI command to verify implementation status against tracking plan
- **ampli configure**: CLI command to set up Ampli in a project
- **is-merged flag**: Indicates if tracking plan changes have been merged to main branch
- **is-latest flag**: Indicates if local implementation matches the latest tracking plan

## Integration with Amplitude Ecosystem

Ampli integrates with the broader Amplitude product ecosystem in several ways:

1. It connects directly to Amplitude Data for tracking plan definitions
2. The generated code works with existing Amplitude SDKs for event transmission
3. Events tracked through Ampli appear in Amplitude Analytics dashboards
4. It supports progressive migration from traditional Amplitude SDK implementations

Ampli serves as a bridge between tracking plan design in Amplitude Data and implementation in code, ensuring that analytics data collection matches the intended design.

## Key Commands and API Usage

### Ampli CLI Commands

```bash
# Initial setup
ampli configure --apiKey <API_KEY>

# Pull tracking plan and generate code
ampli pull

# Check implementation status
ampli status

# Check status with branch flags
ampli status --is-merged --is-latest
```

### Ampli Wrapper Usage

```javascript
// Initialize Ampli
ampli.load();

// Track events with type safety
ampli.track(
  new ampli.SongPlayed({
    songId: "song-123",
    songName: "Bohemian Rhapsody"
  })
);

// For migration scenarios, can use alongside traditional SDK
amplitude.track("Song Played", {
  songId: "song-123",
  songName: "Bohemian Rhapsody"
});
```

### CI Integration

```yaml
# Example GitHub Actions workflow
steps:
  - uses: actions/checkout@v2
  - name: Validate analytics implementation
    run: |
      docker run --rm \
        -e AMPLI_TOKEN=${{ secrets.AMPLI_TOKEN }} \
        -v $(pwd):/app \
        amplitudeinc/ampli status
```

Ampli provides a structured, type-safe approach to analytics implementation that helps teams maintain data quality and consistency while reducing the potential for errors in tracking code.
## Ampli: Type-Safe Analytics Code Generation Platform

Ampli is Amplitude's code generation platform that creates strongly-typed analytics libraries from Amplitude Data tracking plans, enabling developers to implement analytics with compile-time validation, autocomplete support, and guaranteed consistency with data schemas.

## Product Architecture and Feature Relationships

The Ampli ecosystem consists of three interconnected components that work together to provide end-to-end type-safe analytics:

**Ampli CLI** serves as the central orchestration tool, available via Homebrew or npm (@amplitude/ampli package), that synchronizes tracking plans from Amplitude Data and generates platform-specific tracking libraries. The CLI manages the entire development lifecycle through commands like `ampli pull` for code generation, `ampli status` for implementation verification, and `ampli configure` for project setup.

**Ampli Wrapper** is the generated strongly-typed API layer that replaces manual JSON object creation with method-based event tracking. Generated by `ampli pull`, the wrapper provides autocomplete-like functionality with methods such as `ampli.songPlayed()` and validation against Tracking Plan definitions before sending events to Amplitude Data.

**Source Control Integration** enables parallel development workflows where tracking plan branches in Amplitude Data coordinate with Git branches, using commands like `ampli checkout` and status flags (`--is-merged`, `--is-latest`) to enforce branch synchronization policies in CI/CD pipelines.

## Key Nomenclature and Definitions

**Tracking Plan**: The schema definition in Amplitude Data that specifies event structures, properties, and validation rules, serving as the source of truth for analytics implementation.

**ampli.json**: The configuration file that stores project settings, API tokens, source mappings, and branch information for the Ampli CLI operations.

**Ampli Wrapper/Generated Library**: The platform-specific code generated by `ampli pull` that provides strongly-typed methods for event tracking, replacing manual SDK instrumentation.

**Data Branch**: A branch within an Amplitude Data tracking plan that allows parallel development of schema changes alongside code branches.

**Implementation Status**: The verification state of analytics code against the tracking plan, checked via `ampli status` to identify missing, outdated, or incorrectly implemented events.

**Progressive Migration**: The three-phase approach for transitioning from direct Amplitude SDK usage to Ampli: SDK-only → SDK+Ampli hybrid → Ampli-only implementation.

## Broader Product Ecosystem Integration

Ampli integrates deeply with the Amplitude analytics ecosystem, serving as the bridge between Amplitude Data (schema management) and Amplitude Analytics (event collection). The platform supports the broader Amplitude SDK ecosystem (@amplitude/analytics-browser and platform variants) through its hybrid implementation model, where `ampli.load({ client: { instance: amplitude }})` allows gradual adoption.

The CI/CD integration capabilities position Ampli as a development workflow tool that enforces data governance policies through automated validation. Using Docker containers (amplitudeinc/ampli and amplitudeinc/ampli-all), teams can integrate tracking plan validation into GitHub Actions, Bitbucket Pipelines, and other CI systems.

Ampli supports enterprise development practices through monorepo compatibility, branch-based development workflows, and API token-based authentication (AMPLI_TOKEN environment variable) for secure CI/CD operations.

## API Endpoints and Command Line Interface

**Core CLI Commands:**
- `ampli pull` - Downloads tracking plan and generates platform-specific tracking library
- `ampli status` - Verifies source code implementation against tracking plan
- `ampli configure` - Sets up project configuration and authentication
- `ampli checkout` - Switches between tracking plan branches

**Status Command Flags:**
- `ampli status --is-merged` - Checks if current branch is merged to main
- `ampli status --is-latest` - Verifies branch is up-to-date with latest changes

**Generated API Methods:**
- `ampli.load()` - Initializes the Ampli wrapper with configuration
- `ampli.track()` - Generic event tracking method accepting event objects
- `ampli.{eventName}()` - Generated type-safe methods for specific events (e.g., `ampli.songPlayed()`, `ampli.productViewed()`)

**Docker Integration:**
- `amplitudeinc/ampli` - Standard container for CI/CD validation
- `amplitudeinc/ampli-all` - Extended container with additional platform support

The platform emphasizes developer experience through autocomplete support, compile-time validation, and seamless integration with existing development workflows while maintaining strict adherence to data governance policies defined in Amplitude Data tracking plans.
# Amplitude Java SDK

## Overview

The Amplitude Java SDK is an analytics tracking solution designed for Java applications running on the Java Runtime Environment (JRE). It enables developers to track user behavior and application events in server-side Java applications, desktop applications, and other JRE-based environments. The SDK provides robust capabilities for identifying users, tracking events, managing user properties, and supporting group analytics.

## Product Architecture

The Amplitude Java SDK ecosystem consists of two main components:

1. **JRE Java SDK**: The core SDK that provides fundamental event tracking capabilities for Java applications.
2. **Ampli for Java SDK**: A strongly-typed wrapper around the core SDK that provides type safety and code completion for tracking events.

These components work together to provide a comprehensive analytics solution for Java applications, with the core SDK handling the fundamental tracking functionality and the Ampli wrapper providing additional type safety and integration with Amplitude's data planning features.

## Key Nomenclature and Definitions

- **Event**: A discrete user action or occurrence tracked in the application
- **User ID**: A unique identifier for a user
- **Device ID**: A unique identifier for a device when user ID is not available
- **Event Properties**: Additional data associated with an event
- **User Properties**: Attributes associated with a user
- **Group**: A collection of users that can be analyzed together
- **Middleware**: Custom code that can transform events before they are sent
- **Batch Mode**: Sending events in batches rather than individually
- **Flush**: The process of sending queued events to Amplitude servers
- **Identify**: Operations to set, update, or modify user properties
- **Ampli**: The strongly-typed wrapper and associated CLI tools

## JRE Java SDK Features

The core JRE Java SDK provides the following key features:

- Event tracking in Java applications
- User identification and user property management
- Batch processing of events
- HTTP proxy configuration
- Group analytics support
- Middleware capabilities for event transformation
- Callback support for event processing
- Configurable event flushing and thread timeout

### Installation

The JRE Java SDK can be installed via Maven or Gradle:

```gradle
implementation 'com.amplitude:analytics-java:1.10.0'
```

### Initialization and Configuration

```java
Amplitude amplitude = Amplitude.getInstance()
    .init("API_KEY")
    .setServerUrl("https://api.amplitude.com")
    .setServerZone(ServerZone.US)
    .setUseBatch(true)
    .setEventUploadThreshold(50)
    .setEventUploadPeriodMillis(10000)
    .setFlushQueueSize(200)
    .setFlushMaxRetries(5)
    .setUseBatch(true)
    .setLogLevel(LogLevel.DEBUG)
    .setMinIdLength(5);
```

### Core API Methods

- `init(apiKey)`: Initialize the SDK
- `track(event)`: Track an event
- `identify(identify, options)`: Set user properties
- `setGroup(groupType, groupName, options)`: Associate a user with a group
- `flush()`: Manually send queued events
- `shutdown()`: Properly close the SDK and send remaining events

### Event Tracking Example

```java
amplitude.track(
    BaseEvent.builder()
        .eventType("EVENT_TYPE")
        .userId("USER_ID")
        .build()
);
```

### User Properties Management

```java
amplitude.identify(
    Identify.builder()
        .set("key", "value")
        .setOnce("key", "value")
        .add("key", 1)
        .build(),
    new EventOptions().setUserId("USER_ID")
);
```

### Group Analytics

```java
amplitude.setGroup("GROUP_TYPE", "GROUP_NAME", new EventOptions().setUserId("USER_ID"));
```

## Ampli for Java SDK Features

The Ampli wrapper provides additional features on top of the core SDK:

- Strongly-typed wrapper for the core Java SDK
- Type-safe event tracking
- Code completion for event properties
- Integration with Amplitude's data planning features
- CLI tools for tracking implementation status

### Installation

```gradle
implementation 'com.amplitude:analytics-java:1.10.0'
implementation 'com.amplitude:ampli-java:1.0.0'
```

### Initialization

```java
ampli.load(LoadOptions.builder()
    .client(Amplitude.getInstance().init("API_KEY"))
    .build());
```

### Ampli API Methods

- `load(options)`: Initialize the Ampli wrapper
- `identify(identify, options)`: Set user properties
- `setGroup(groupType, groupName, options)`: Associate a user with a group
- `track(event, options)`: Track a custom event
- `flush()`: Manually send queued events

### Strongly-Typed Event Tracking

```java
ampli.songPlayed(SongPlayed.builder()
    .songId("song-1")
    .songName("Bohemian Rhapsody")
    .build());
```

### CLI Commands

The Ampli CLI provides tools for managing the implementation:

- `ampli pull`: Pull the latest tracking plan
- `ampli status`: Check implementation status against the tracking plan

## Integration with Amplitude Ecosystem

The Java SDK integrates with the broader Amplitude product ecosystem:

1. **Data Collection**: The SDK sends data to Amplitude's event collection endpoints
2. **Data Planning**: The Ampli wrapper integrates with Amplitude's data planning features
3. **Analytics**: Events tracked via the SDK appear in Amplitude's analytics dashboards
4. **Cross-Platform Tracking**: Can be used alongside other Amplitude SDKs for comprehensive tracking

The Java SDK is part of Amplitude's cross-platform tracking solution, allowing developers to track user behavior consistently across different platforms and environments. Events tracked via the Java SDK are sent to Amplitude's servers and can be analyzed alongside data from other sources in Amplitude's analytics dashboards.
Amplitude Experiment is a comprehensive feature flagging and A/B testing platform that enables teams to manage experiments, feature flags, and traffic allocation through both evaluation and management APIs. The platform supports both remote and local evaluation modes, allowing for flexible deployment strategies across client-side and server-side applications.

## Core Product Architecture

The Amplitude Experiment platform consists of two primary API systems:

**Evaluation API** handles real-time feature flag evaluation and variant assignment through two key endpoints:
- `/v1/vardata` for remote evaluation and variant assignment retrieval
- `/v1/flags` for downloading flag configurations to bootstrap local evaluation in client-side SDKs

**Management API** provides comprehensive CRUD operations across six core resource categories:
- Flags and experiments for A/B testing and feature rollouts
- Deployments for environment-based assignment management
- Mutex groups for traffic allocation and experiment mutual exclusion
- Holdout groups for control group management
- Versions for tracking configuration history
- User inclusions/exclusions for targeted rollouts

## Key Nomenclature and Definitions

**Deployments** represent environments or contexts where experiments and flags can be assigned, supporting both client and server deployment types with unique deployment keys for authentication.

**Variants** define the different experiences or configurations within an experiment or flag, containing payload data and rollout weights for traffic distribution.

**Bucketing Configuration** controls user assignment through configurable parameters:
- `bucketingKey` (amplitude_id, device_id, or custom)
- `bucketingSalt` for randomization
- `bucketingUnit` for consistent assignment

**Evaluation Modes** determine how flags are processed:
- Remote evaluation via API calls to `/v1/vardata`
- Local evaluation using downloaded configurations from `/v1/flags`

**Target Segments** enable sophisticated user targeting through conditions and user properties, allowing precise audience definition for experiments and flags.

**Mutex Groups** manage traffic allocation across multiple experiments through slot-based distribution, preventing experiment overlap and ensuring proper traffic splitting.

**Holdout Groups** create control populations excluded from experiments, enabling measurement of overall experiment program impact.

## Traffic Management and Allocation

The platform implements sophisticated traffic management through multiple mechanisms:

**Rollout Controls** support percentage-based traffic allocation with `rolloutPercentage` and weighted distribution via `rolloutWeights` across variants.

**Sticky Bucketing** ensures consistent user experiences by maintaining assignment consistency across sessions.

**Experiment States** track lifecycle progression through planning, running, and decision-made phases, with decisions including rollout, rollback, or continue-running options.

## Authentication and Regional Support

The platform uses deployment keys for evaluation API authentication via `Api-Key` header and management API keys with Bearer token authentication for administrative operations. Regional server support includes both US (api.lab.amplitude.com) and EU (api.lab.eu.amplitude.com) endpoints for data residency compliance.

## Integration and Tracking

The system integrates with Amplitude's analytics platform through automatic [Experiment] Assignment event tracking controlled by the `X-Amp-Exp-Track` header. Version history tracking maintains detailed audit trails of all configuration changes with ISO 8601 timestamps and user attribution.

Rate limiting enforces 100 requests per second with 100,000 daily limits on management API operations, while cursor-based pagination supports efficient data retrieval across all list endpoints using `nextCursor` parameters.
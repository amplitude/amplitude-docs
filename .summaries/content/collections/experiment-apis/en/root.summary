# Amplitude Experiment Product Overview

Amplitude Experiment is a comprehensive experimentation and feature flagging platform that enables product teams to test hypotheses, roll out features safely, and make data-driven decisions. The platform provides robust APIs for both evaluation and management of experiments and feature flags.

## Key Features and Concepts

1. **Feature Flags**: Toggles that allow teams to control feature visibility and behavior in production environments.
2. **Experiments**: Controlled tests that compare variants of a feature to determine which performs better.
3. **Remote and Local Evaluation**: Options for evaluating flags and experiments either server-side (remote) or client-side (local).
4. **Deployments**: Configurations that determine how experiments and flags are deployed to different environments.
5. **Mutex Groups**: Mechanisms to ensure users are only assigned to one experiment within a group, managing experiment exclusivity.
6. **Holdout Groups**: Controls that exclude users from experiments to measure the overall impact of experimentation.
7. **Versioning**: Tracking of changes to experiments and flags over time.
8. **User Targeting**: Ability to include or exclude specific users or segments in experiments.

## Product Relationships and Architecture

The Amplitude Experiment platform consists of several interconnected components:

1. **Evaluation Layer**:
   - **Experiment Evaluation API**: Provides remote variant assignments for users
   - **Flags API**: Delivers flag configurations for local evaluations

2. **Management Layer**:
   - **Experiment Management API**: Controls the creation and configuration of:
     - Flags
     - Experiments
     - Deployments
     - Mutex Groups
     - Holdout Groups
     - Versions

3. **Deployment Types**:
   - **Client-side**: For front-end applications
   - **Server-side**: For back-end services

## Key Nomenclature and Definitions

1. **Variant**: A specific version of a feature being tested in an experiment.
2. **Deployment Key**: Authentication credential used for evaluation APIs.
3. **Management API Key**: Authentication credential used for management APIs.
4. **Bucketing**: The process of consistently assigning users to experiment variants.
5. **Bucketing Key**: The identifier used to determine variant assignment.
6. **Bucketing Salt**: A value that ensures random distribution of users across variants.
7. **Evaluation Mode**: Determines how variants are assigned (e.g., key-based).
8. **Rollout Percentage**: Controls what percentage of users are included in an experiment.
9. **User Context**: Information about the user for determining variant assignment.
10. **Slot**: A portion of traffic allocation within a mutex group.
11. **Individual Inclusion/Exclusion**: Explicit lists of users to include or exclude from experiments.
12. **Targeting Segments**: Criteria for including specific user segments in experiments.

## Product Ecosystem Integration

Amplitude Experiment appears to be part of the broader Amplitude analytics ecosystem, with:

1. Integration with Amplitude Analytics for tracking experiment results
2. Regional deployment options for global compliance
3. API-first architecture enabling integration with various development workflows
4. Support for both client and server-side implementation patterns

## API Endpoints

### Evaluation APIs

1. **Remote Evaluation API**:
   - `POST /v1/variantAssignments`: Retrieves variant assignments for users
   - Headers: `Authorization: Api-Key <deployment_key>`
   - Optional header: `X-Amp-Exp-Track` to control assignment tracking

2. **Flags API**:
   - `GET /v1/flags`: Downloads flag configurations for local evaluation
   - Headers: `Authorization: Api-Key <deployment_key>`

### Management APIs

1. **Experiment Endpoints**:
   - `GET /experiments`: List experiments
   - `POST /experiments`: Create experiment
   - `PATCH /experiments/{experimentKey}`: Edit experiment
   - `GET /experiments/{experimentKey}/variants`: List variants
   - `POST /experiments/{experimentKey}/variants`: Create variant
   - `PATCH /experiments/{experimentKey}/variants/{variantKey}`: Edit variant
   - `GET /experiments/{experimentKey}/deployments`: List deployments
   - `POST /experiments/{experimentKey}/deployments`: Add deployment
   - `DELETE /experiments/{experimentKey}/deployments/{deploymentKey}`: Remove deployment
   - `GET /experiments/{experimentKey}/inclusions`: List user inclusions
   - `POST /experiments/{experimentKey}/inclusions`: Add user inclusion
   - `DELETE /experiments/{experimentKey}/inclusions/{userId}`: Remove user inclusion

2. **Flag Endpoints**:
   - Similar structure to experiment endpoints, with `/flags` as the base path

3. **Deployment Endpoints**:
   - `GET /deployments`: List deployments
   - `POST /deployments`: Create deployment
   - `PATCH /deployments/{deploymentKey}`: Edit deployment

4. **Mutex Group Endpoints**:
   - `GET /mutexes`: List mutex groups
   - `POST /mutexes`: Create mutex group
   - `PATCH /mutexes/{mutexKey}`: Edit mutex group

5. **Holdout Group Endpoints**:
   - `GET /holdouts`: List holdout groups
   - `POST /holdouts`: Create holdout group
   - `PATCH /holdouts/{holdoutKey}`: Edit holdout group

6. **Version Endpoints**:
   - `GET /versions`: Retrieve version history

All Management API endpoints require authentication using:
- Header: `Authorization: Bearer <management_api_key>`

Regional endpoints are available with the format:
- `https://api.experiment.amplitude.com` (US)
- `https://api.eu.experiment.amplitude.com` (EU)
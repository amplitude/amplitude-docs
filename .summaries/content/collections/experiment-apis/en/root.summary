# Amplitude Experiment: Product Overview

Amplitude Experiment is a comprehensive experimentation and feature flagging platform that enables product teams to test hypotheses, roll out features safely, and make data-driven decisions. The platform combines feature flagging, A/B testing, and holdout capabilities with robust management and evaluation APIs.

## Key Features and Concepts

1. **Feature Flags**: Toggle features on/off or serve different variants to different users
2. **Experiments**: Test hypotheses by comparing different variants against control groups
3. **Deployments**: Configuration environments (client-side or server-side) for flags and experiments
4. **Mutex Groups**: Ensure users are only included in one experiment at a time from a group of experiments
5. **Holdout Groups**: Exclude users from experiments to measure long-term product impact
6. **Remote and Local Evaluation**: Options for determining which variant a user receives
7. **User Targeting**: Target specific users or segments for experiments and flags

## Product Relationships and Architecture

Amplitude Experiment consists of two primary API categories:

1. **Management API**: For creating and configuring experiments, flags, and related resources
2. **Evaluation API**: For determining which variant a user should receive

The platform supports both client-side and server-side implementations through different deployment types, allowing for flexibility in how features and experiments are delivered to users.

### Management API Components

- **Flags API**: Manage feature flags, variants, deployments, and targeting rules
- **Experiments API**: Configure A/B tests with variants, targeting, and rollout percentages
- **Mutex Groups API**: Create and manage experiment exclusivity groups
- **Holdout Groups API**: Configure control groups excluded from experiments
- **Deployments API**: Manage deployment environments
- **Versions API**: Track change history for flags and experiments

### Evaluation API Components

- **Remote Evaluation API**: Server determines variant assignments and tracks events
- **Flags API**: Download flag configurations for local evaluation

## Key Nomenclature and Definitions

- **Flag**: A feature toggle that can be turned on/off or serve different variants
- **Experiment**: A controlled test comparing different variants against a control
- **Variant**: A specific version or implementation of a feature being tested
- **Deployment**: An environment configuration (client/server) for flags and experiments
- **Deployment Key**: Authentication credential for accessing the Evaluation API
- **Management API Key**: Authentication credential for accessing the Management API
- **Mutex Group**: A group of experiments where a user can only be in one experiment at a time
- **Holdout Group**: A control group excluded from experiments to measure baseline metrics
- **Bucketing**: The process of consistently assigning users to variants
- **Bucketing Key**: The user attribute used to determine variant assignment
- **Evaluation Mode**: How variant assignments are determined (local or remote)
- **User Inclusions**: Explicitly targeting specific users for a variant

## Product Ecosystem Integration

Amplitude Experiment integrates with the broader Amplitude Analytics platform, allowing experiment results to be analyzed using Amplitude's analytics capabilities. The platform supports:

1. Tracking experiment exposures as events in Amplitude Analytics
2. Using Amplitude user properties for targeting and segmentation
3. Analyzing experiment results using Amplitude's reporting tools

## API Endpoints

### Evaluation API

- **Remote Evaluation**: `GET /vardata`
  - Required: `deployment_key` (auth)
  - Parameters: `user_id`, `device_id`, `flag_keys`, `context`
  - Header: `X-Amp-Exp-Track` (control tracking)

- **Flags API**: `GET /flags`
  - Required: `deployment_key` (auth)
  - Used for local evaluation

### Management API

- **Flags Endpoints**:
  - `GET /flags`: List flags
  - `POST /flags`: Create flag
  - `GET /flags/{flagKey}`: Get flag details
  - `PATCH /flags/{flagKey}`: Edit flag
  - Additional endpoints for variants, deployments, and user inclusions

- **Experiments Endpoints**:
  - `GET /experiments`: List experiments
  - `POST /experiments`: Create experiment
  - `GET /experiments/{experimentKey}`: Get experiment details
  - `PATCH /experiments/{experimentKey}`: Edit experiment
  - Additional endpoints for variants, deployments, and user inclusions

- **Mutex Group Endpoints**:
  - `GET /mutex-groups`: List mutex groups
  - `POST /mutex-groups`: Create mutex group
  - `PATCH /mutex-groups/{mutexGroupKey}`: Edit mutex group
  - Additional endpoints for slot management

- **Holdout Group Endpoints**:
  - `GET /holdout-groups`: List holdout groups
  - `POST /holdout-groups`: Create holdout group
  - `PATCH /holdout-groups/{holdoutGroupKey}`: Edit holdout group

- **Deployment Endpoints**:
  - `GET /deployments`: List deployments
  - `POST /deployments`: Create deployment
  - `PATCH /deployments/{deploymentId}`: Edit deployment

- **Version Endpoints**:
  - `GET /versions`: Get version history for flags or experiments

All Management API endpoints require authentication via a management API key in the Authorization header and support pagination through cursor-based mechanisms.
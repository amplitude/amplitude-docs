## Amplitude Single Sign-On (SSO) Product Overview

Amplitude's Single Sign-On (SSO) solution provides SAML 2.0-based authentication integration for organizations on Growth and Enterprise plans. The system enables centralized identity management through major identity providers while maintaining granular project permissions and organizational access controls within Amplitude.

## Product Architecture and Feature Relationships

The SSO implementation follows a standard SAML 2.0 Service Provider model where Amplitude acts as the Service Provider (SP) and integrates with external Identity Providers (IdP). The core integration pattern is consistent across all supported providers:

**Supported Identity Providers:**
- Auth0 (with SAML2 addon configuration)
- Microsoft Azure Active Directory (Enterprise Applications)
- G Suite (SAML Apps)
- Okta (SAML 2.0 applications)
- OneLogin (SAML 2.0 apps)
- Custom SAML 2.0 compliant providers (via "Other" option)

**Integration Components:**
- **Metadata Exchange**: Bidirectional XML metadata file exchange between IdP and Amplitude
- **Entity ID Configuration**: Unique identifier for the SAML relationship
- **Assertion Consumer Service (ACS) URL**: Endpoint for receiving SAML assertions
- **Just-in-Time (JIT) Provisioning**: Automatic user account creation upon first SSO login

## Key Nomenclature and Definitions

**SAML 2.0 Terms:**
- **Entity ID**: Unique identifier that distinguishes the service provider (Amplitude) in SAML transactions
- **Assertion Consumer Service (ACS) URL**: The callback URL where the identity provider sends SAML assertions after authentication
- **IdP Metadata**: XML file containing identity provider configuration, certificates, and endpoints
- **SAML Assertion**: Authenticated user data package containing email and other claims

**Amplitude-Specific Terms:**
- **Organization Settings > Access & SSO Settings**: Primary configuration interface for SSO setup
- **Org ID**: Organization identifier required for certain integrations (OneLogin)
- **JIT Provisioning**: Automatic user account creation using email claims from SAML assertions
- **Project Permissions**: Granular access controls maintained independently of SSO authentication

**Email Resolution Hierarchy:**
The system resolves user email addresses from SAML assertions using this priority order:
1. `http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress`
2. `http://schemas.xmlsoap.org/claims/EmailAddress`
3. `email` attribute
4. `mail` attribute

## Product Ecosystem Integration

Amplitude's SSO operates as a gateway authentication layer that preserves the existing organizational and project structure. Once authenticated via SSO, users maintain their established project permissions and organizational roles. The system supports enterprise identity governance while allowing Amplitude's native permission model to control feature access and data visibility.

The SSO implementation integrates with Amplitude's broader access control framework, supporting both federated identity management and local permission assignment. This hybrid approach enables organizations to centralize authentication while maintaining flexible, project-specific authorization within Amplitude's analytics platform.

## Configuration Endpoints and Processes

**Primary Configuration Path:**
`Organization Settings > Access & SSO Settings > Single Sign-On Settings`

**Standard Integration Workflow:**
1. Identity Provider app/client creation
2. SAML configuration with Amplitude-provided Entity ID and ACS URL
3. Metadata file download from IdP
4. Metadata upload to Amplitude SSO settings
5. SSO activation and user testing

**Provider-Specific Variations:**
- **Auth0**: Requires SAML2 addon activation in Auth0 clients page
- **Azure AD**: Uses Enterprise Applications with user.mail identifier mapping
- **G Suite**: Configured through Google Admin console SAML apps
- **Okta**: Utilizes admin dashboard app integration with email username format
- **OneLogin**: Requires Amplitude org ID in app configuration
- **Custom Providers**: Manual metadata upload with Entity ID and ACS URL entry
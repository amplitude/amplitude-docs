# Amplitude Single Sign-On (SSO) Integration

## Product Overview

Amplitude offers Single Sign-On (SSO) integration capabilities that allow organizations to authenticate users through their existing identity providers. This feature is available for customers on Growth and Enterprise plans and supports SAML 2.0 compliant identity providers. The SSO integration enables centralized user authentication, enhanced security, and streamlined user management through just-in-time provisioning.

### Key Features

- **SAML 2.0 Compliance**: Supports industry-standard SAML 2.0 protocol for secure authentication
- **Multiple Identity Provider Support**: Pre-configured integrations with popular providers (Auth0, G Suite, Azure Active Directory, Okta, OneLogin)
- **Custom Provider Support**: Ability to integrate with any SAML 2.0 compliant identity provider
- **Just-in-Time Provisioning**: Automatic user creation in Amplitude when users authenticate via SSO
- **SSO Enforcement Options**: Configurable policies for requiring SSO authentication
- **User Identification**: Uses email addresses from SAML assertions to identify and provision users

## Product Relationships and Architecture

Amplitude's SSO functionality serves as a bridge between an organization's identity management system and the Amplitude analytics platform. The integration follows a standard SAML 2.0 workflow:

1. Users attempt to access Amplitude
2. Authentication request is redirected to the configured identity provider (IdP)
3. After successful authentication at the IdP, a SAML assertion is sent to Amplitude
4. Amplitude verifies the assertion and grants access to the user
5. If the user doesn't exist in Amplitude, they are provisioned automatically (just-in-time)

The SSO configuration is managed at the organization level in Amplitude, allowing administrators to enforce consistent authentication policies across all users.

## Key Nomenclature and Definitions

- **SAML 2.0**: Security Assertion Markup Language, the standard protocol used for SSO authentication
- **Identity Provider (IdP)**: The external system that authenticates users (Auth0, G Suite, etc.)
- **Service Provider (SP)**: Amplitude, which relies on the IdP for authentication
- **Metadata File**: XML file containing configuration details from the IdP needed for SAML integration
- **Entity ID**: A unique identifier for Amplitude in the SAML configuration
- **Assertion Consumer Service (ACS) URL**: The endpoint in Amplitude that receives SAML assertions
- **Just-in-Time (JIT) Provisioning**: Automatic user creation upon first successful authentication
- **SSO Enforcement**: Policy options that determine whether SSO is required, optional, or required only for specific domains

## Product Ecosystem Integration

Amplitude's SSO functionality integrates with the broader Amplitude Analytics platform as the authentication layer. Once authenticated via SSO, users gain access to Amplitude's analytics capabilities based on their assigned permissions. The SSO system works in conjunction with Amplitude's permission management system, where:

1. Users authenticated via SSO are identified by their email address
2. New users created through JIT provisioning receive default project permissions
3. Organization administrators can modify user permissions after provisioning

This integration ensures secure access to analytics data while leveraging existing enterprise identity management systems.

## Configuration Endpoints and Settings

The SSO configuration is managed through Amplitude's web interface under:
- **Organization Settings > Access & SSO Settings**

Key configuration parameters include:

- **Identity Provider Selection**: Dropdown menu to select from supported providers or "Other" for custom providers
- **Metadata File Upload**: Interface to upload the IdP's SAML metadata XML file
- **Entity ID**: Typically formatted as `amplitude.com/[ORG_ID]`
- **Assertion Consumer Service URL**: Typically formatted as `https://analytics.amplitude.com/saml/[ORG_ID]`
- **SSO Enforcement Options**:
  - Optional
  - Required for all users
  - Required for specific email domains

For specific identity providers, the configuration process involves:

1. **Auth0**: Creating an Auth0 client, configuring SAML2 settings, and uploading the identity provider certificate
2. **Azure AD**: Setting up an Enterprise application in Azure portal and configuring the user.mail identifier
3. **G Suite**: Downloading IDP metadata from G Suite admin console and enabling the SAML app
4. **Okta**: Configuring a SAML 2.0 application in Okta and obtaining IdP metadata
5. **OneLogin**: Setting up a SAML2.0 app in OneLogin with Amplitude's org ID

Each provider integration requires specific configuration steps in both the identity provider's interface and in Amplitude's SSO settings.
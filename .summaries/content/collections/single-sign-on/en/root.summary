# Amplitude Single Sign-On (SSO) Integration

## Product Overview

Amplitude offers Single Sign-On (SSO) integration capabilities that allow organizations to authenticate users through their existing identity providers. This feature is available for Growth and Enterprise plan customers and supports SAML 2.0 protocol for secure authentication. Amplitude's SSO implementation enables seamless user access management while maintaining security standards for enterprise environments.

### Key Features

- **SAML 2.0 Compliance**: Supports industry-standard SAML 2.0 protocol for secure authentication
- **Multiple Identity Provider Support**: Pre-configured integrations with popular providers (Auth0, G Suite, Azure Active Directory, Okta, OneLogin)
- **Custom Provider Support**: Ability to integrate with any SAML 2.0 compliant identity provider
- **Just-in-Time Provisioning**: Automatically creates user accounts upon first successful authentication
- **Required SSO Enforcement**: Option to enforce SSO as the only authentication method
- **Email Address Identification**: Uses email addresses to match users between systems

## Product Relationships and Architecture

Amplitude's SSO functionality is part of the organization-level security settings, accessible through the Organization Settings > Access & SSO Settings interface. This feature integrates with the broader Amplitude analytics platform by:

1. **User Authentication**: Controlling how users authenticate to access Amplitude projects
2. **User Provisioning**: Creating user accounts automatically through the just-in-time provisioning feature
3. **Permission Management**: Working alongside Amplitude's project permission system to determine what authenticated users can access

The SSO integration sits between the organization's identity provider (IdP) and Amplitude's authentication system, acting as a service provider (SP) in the SAML architecture.

## Key Nomenclature and Definitions

- **SAML 2.0**: Security Assertion Markup Language, the protocol standard used for SSO authentication
- **Identity Provider (IdP)**: The external system that authenticates users (Auth0, G Suite, etc.)
- **Service Provider (SP)**: Amplitude, which relies on the IdP for authentication
- **Metadata File**: XML file containing configuration details from the identity provider
- **Entity ID**: A unique identifier for Amplitude in the SAML configuration
- **Assertion Consumer Service (ACS) URL**: The endpoint where Amplitude receives SAML assertions
- **Just-in-Time Provisioning**: Automatic user account creation upon first successful authentication
- **Required SSO**: Setting that enforces SSO as the only authentication method
- **SAML Assertion**: The authentication data package sent from IdP to SP

## Integration with Identity Providers

Amplitude provides specific integration guides for the following identity providers:

1. **Auth0**: Requires creating an Auth0 client, configuring SAML2 settings, and uploading certificate metadata
2. **Azure Active Directory**: Involves setting up an Enterprise application in Azure portal and configuring identifier values
3. **G Suite**: Requires downloading IDP metadata from G Suite admin console and configuring ACS URL and Entity ID
4. **Okta**: Involves configuring SAML 2.0 settings in Okta and obtaining IdP metadata
5. **OneLogin**: Requires configuring the SAML2.0 app in OneLogin and uploading metadata to Amplitude

For unlisted providers, Amplitude supports custom SSO integration as long as the provider is SAML 2.0 compliant.

## Implementation Process

The general implementation process follows these steps:

1. Configure the SAML application in your identity provider
2. Set the Entity ID and ACS URL in your identity provider
   - Entity ID: Unique to your Amplitude organization
   - ACS URL: Amplitude's endpoint for receiving SAML assertions
3. Download the metadata XML file from your identity provider
4. In Amplitude, navigate to Organization Settings > Access & SSO Settings
5. Select your identity provider from the dropdown or choose "Other" for custom providers
6. Upload the metadata file
7. Configure additional settings like Required SSO if needed
8. Test the SSO integration

## User Authentication Flow

When SSO is implemented:

1. Users attempt to access Amplitude
2. They are redirected to their organization's identity provider
3. After successful authentication with the IdP, users are redirected back to Amplitude
4. Amplitude verifies the SAML assertion from the IdP
5. If the user's email matches an existing account, they are logged in
6. If no matching account exists and just-in-time provisioning is enabled, a new account is created

This integration ensures secure, streamlined access to Amplitude while leveraging existing enterprise authentication systems.
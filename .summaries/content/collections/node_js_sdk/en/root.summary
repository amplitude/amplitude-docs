## Amplitude Node.js SDK Ecosystem

The Amplitude Node.js SDK ecosystem provides comprehensive analytics tracking capabilities for Node.js applications through multiple SDK variants and code generation tools. The ecosystem centers around event tracking, user identification, and analytics data collection with strong TypeScript support and flexible configuration options.

## Product Relationships and Architecture

The ecosystem consists of four interconnected components:

**Core SDKs:**
- **@amplitude/analytics-node** - The current, actively maintained Node.js SDK built on HTTP V2 API with modern plugin architecture
- **@amplitude/node** - The legacy maintenance-mode SDK with middleware-based architecture

**Code Generation Tools:**
- **Ampli Wrapper** - Available in two variants that generate strongly-typed tracking APIs from Amplitude Data tracking plans, supporting both legacy and current SDK runtimes

The relationship flows from tracking plan definition in Amplitude Data → Ampli CLI code generation → strongly-typed wrapper integration → underlying SDK implementation → event transmission to Amplitude servers.

## Key Nomenclature and Definitions

**Core Tracking Concepts:**
- **Event Tracking**: Primary analytics data collection through `track()` (current) or `logEvent()` (legacy) methods
- **User Identification**: User property management via `identify()` with Identify operations (set, setOnce, add, prepend, append, remove)
- **Group Analytics**: Organization-level tracking using `groupIdentify()` with groupType and groupName parameters
- **Revenue Tracking**: Monetization analytics through Revenue interface implementation

**Configuration Parameters:**
- **flushIntervalMillis/uploadIntervalInSec**: Batching frequency for event transmission
- **flushQueueSize/maxCachedEvents**: Buffer size before forced transmission
- **serverZone**: Data residency control (EU/US)
- **useBatch**: Batch API endpoint utilization toggle
- **minIdLength**: User ID validation threshold

**Architecture Components:**
- **Plugin System** (current): EnrichmentPlugin and DestinationPlugin with PluginType enumeration
- **Middleware Chain** (legacy): Event processing pipeline using MiddlewarePayload
- **Transport Layer**: Configurable HTTP transport with custom transportProvider support

## Broader Product Ecosystem Integration

The Node.js SDK ecosystem integrates with Amplitude's broader analytics platform through multiple touchpoints:

**Amplitude Data Integration**: Ampli Wrapper connects directly to Amplitude Data tracking plans, enabling schema-driven development with `ampli pull` for code generation and `ampli status` for validation.

**API Infrastructure**: Both SDKs utilize Amplitude's HTTP V2 API with batch processing capabilities, connecting to api2.amplitude.com (US) or analytics.eu.amplitude.com (EU) endpoints.

**Development Workflow**: The ecosystem supports comprehensive development practices through TypeScript definitions, JSDoc annotations, Prettier linting integration, and migration tooling between SDK versions.

## API Endpoints and CLI Commands

**Ampli CLI Operations:**
- `ampli pull` - Downloads and generates strongly-typed tracking code from tracking plans
- `ampli status` - Validates local implementation against tracking plan schemas

**Core SDK Methods:**
- Initialization: `init(apiKey, config)` (current) or constructor-based (legacy)
- Event tracking: `track(eventType, eventProperties, eventOptions)` or `logEvent(event)`
- User management: `identify(userId, identifyEvent)` with Identify operations
- Group analytics: `groupIdentify(groupType, groupName, identifyEvent)`
- Revenue tracking: Revenue interface with price, quantity, productId properties
- Utility methods: `flush()`, `setOptOut()`, `createInstance()`

**Configuration APIs:**
- Plugin registration: `add(plugin)` with EnrichmentPlugin/DestinationPlugin
- Middleware attachment: `addEventMiddleware(middleware)` (legacy)
- Instance management: `createInstance()` for multi-tenant applications

The ecosystem provides comprehensive analytics tracking capabilities with strong typing, flexible architecture, and seamless integration with Amplitude's broader analytics platform.
# Amplitude Session Replay: Product Overview

## Product Overview

Amplitude Session Replay is a user behavior analytics tool that captures and recreates user sessions across web and mobile platforms. It provides video-like replays of user interactions, allowing product teams to visualize exactly how users navigate through applications. The product complements Amplitude's core analytics platform by adding visual context to quantitative data.

Key features include:
- Video-like session recordings across web, iOS, Android, and React Native platforms
- Heatmaps showing user clicks, scrolls, and element interactions
- Privacy controls with configurable masking levels for sensitive data
- Integration options with various analytics providers (Amplitude, Segment, Rudderstack)
- Implementation health monitoring through the Ingestion Monitor

Primary use cases include:
- Debugging user experience issues
- Understanding user behavior patterns
- Validating quantitative analytics data with visual context
- Identifying UI/UX improvement opportunities
- Troubleshooting conversion funnel drop-offs

## Product Relationships and Architecture

Amplitude Session Replay operates as an add-on to Amplitude's core analytics platform, available to Growth and Enterprise plans. The product consists of several components:

1. **SDK Implementations**:
   - **Browser SDK Plugin**: For web applications using Amplitude Browser SDK 2
   - **Standalone SDK**: For web applications using third-party analytics providers
   - **Mobile SDKs**: Native implementations for iOS and Android (available as plugins, middleware, or standalone)
   - **React Native SDK Plugin**: For cross-platform mobile applications

2. **Integration Options**:
   - **Direct Amplitude Integration**: Primary implementation using Amplitude SDKs
   - **Third-party Integrations**: Support for Segment, Rudderstack, and Google Tag Manager
   - **Standalone Implementation**: For applications using other analytics providers

3. **Visualization Tools**:
   - **Session Replay Viewer**: For watching recorded user sessions
   - **Heatmaps**: Visual aggregation of user interactions
   - **Ingestion Monitor**: For tracking implementation health

4. **Data Processing Pipeline**:
   - Captures DOM/view tree changes
   - Processes and stores session data
   - Applies privacy masking rules
   - Connects session recordings with analytics events

## Key Nomenclature and Definitions

- **Session Replay**: The core feature that captures and recreates user sessions as video-like recordings.
- **deviceId**: Unique identifier for a user's device, used to link analytics events to session recordings.
- **sessionId**: Unique identifier for a user session, used to group interactions within a single visit.
- **sampleRate**: Configuration parameter determining what percentage of sessions to record (0.0-1.0).
- **maskLevel**: Privacy setting that determines how sensitive data is handled (Conservative, Light, Medium).
- **Heatmaps**:
  - **Click Map**: Shows most clicked areas by coordinates.
  - **Selector Map**: Highlights most interacted elements with rankings.
  - **Scroll Map**: Displays aggregate scroll activity and average page fold.
- **Ingestion Monitor**: Tool for tracking implementation health and request statuses.
- **Remote Configuration**: Ability to update Session Replay settings without code changes.

## Product Ecosystem Integration

Amplitude Session Replay integrates with the broader Amplitude ecosystem in several ways:

1. **Core Analytics Integration**: Session recordings are linked to analytics events via deviceId and sessionId, allowing users to navigate from analytics data to visual session context.

2. **Behavioral Cohorts**: Users can create cohorts based on specific behaviors and view session replays for those cohorts.

3. **Cross-Platform Support**: Consistent implementation across web and mobile platforms allows for comprehensive user journey analysis.

4. **Privacy Controls**: Aligns with Amplitude's broader data privacy features, including EU data residency options and DSAR API integration.

5. **Organization Settings**: Configuration options are managed through Amplitude's organization settings interface.

## Implementation Details

### Web Implementation

**Browser SDK Plugin**:
```javascript
import * as amplitude from '@amplitude/analytics-browser';
import { sessionReplayPlugin } from '@amplitude/session-replay-browser-plugin';

amplitude.init('API_KEY', {
  plugins: [sessionReplayPlugin()]
});
```

**Standalone SDK**:
```javascript
import { SessionReplay } from '@amplitude/session-replay-browser';

const sessionReplay = new SessionReplay({
  apiKey: 'API_KEY',
  deviceId: 'USER_DEVICE_ID',
  sessionId: 'USER_SESSION_ID'
});

// Start recording
sessionReplay.start();
```

### Mobile Implementation

**iOS Plugin**:
```swift
import AmplitudeSwift
import AmplitudeSessionReplay

let sessionReplayPlugin = SessionReplayPlugin()
let amplitude = Amplitude(
    configuration: Configuration(
        apiKey: "API_KEY",
        plugins: [sessionReplayPlugin]
    )
)
```

**Android Plugin**:
```kotlin
import com.amplitude.android.Amplitude
import com.amplitude.android.Configuration
import com.amplitude.android.plugins.sessionreplay.SessionReplayPlugin

val sessionReplayPlugin = SessionReplayPlugin()
val amplitude = Amplitude(
    Configuration(
        apiKey = "API_KEY",
        context = applicationContext,
        plugins = listOf(sessionReplayPlugin)
    )
)
```

### Third-Party Integrations

**Segment Integration**:
```javascript
import { createSegmentActionsPlugin } from '@amplitude/segment-actions-session-replay-plugin';

analytics.ready(() => {
  analytics.register(createSegmentActionsPlugin());
});
```

**Google Tag Manager**:
Enable the Session Replay toggle in the Amplitude Analytics Browser SDK template.

**Rudderstack Integration**:
```javascript
import { initSessionReplayForRudderstack } from '@amplitude/session-replay-rudderstack-plugin';

initSessionReplayForRudderstack(rudderAnalytics, {
  apiKey: 'AMPLITUDE_API_KEY'
});
```

## Configuration Options

Common configuration parameters across implementations:

- **sampleRate**: Controls percentage of sessions to record (0.0-1.0)
- **maskLevel**: Privacy level (Conservative, Light, Medium)
- **enableRemoteConfig**: Enables updating settings without code changes
- **euDataResidency**: Routes data to EU servers when true
- **optOut**: Disables recording for specific users
- **additionalEventProperties**: Custom properties to include with session data

The product also supports custom CSS selector overrides for fine-grained privacy control, allowing specific elements to be masked, unmasked, or excluded from recording.
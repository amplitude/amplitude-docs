## Amplitude Session Replay

Amplitude Session Replay is a comprehensive user behavior analytics solution that captures and reconstructs user interactions across web, mobile, and React Native applications. The platform provides visual insights through session recordings, heatmaps, and behavioral analytics while maintaining robust privacy controls and compliance capabilities.

## Product Architecture and Integration Ecosystem

Session Replay operates through multiple SDK implementations designed for different development environments and analytics configurations:

**Core SDK Types:**
- **Plugin Architecture**: Integrates with existing Amplitude Analytics SDKs (Browser SDK 2, Android-Kotlin SDK, iOS Swift SDK)
- **Middleware Integration**: Works with maintenance/legacy Amplitude SDKs (Android SDK 2.40.1+, iOS SDK 8.21.0+)
- **Standalone SDKs**: Independent implementation for third-party analytics providers
- **Third-Party Integrations**: Specialized wrappers for Segment, Rudderstack, and Google Tag Manager

**Platform Coverage:**
- Web browsers via `@amplitude/plugin-session-replay-browser`
- Android applications through SessionReplayPlugin/SessionReplayMiddleware
- iOS/iPadOS via AmplitudeSwiftSessionReplayPlugin/AmplitudeiOSSessionReplayMiddleware
- React Native with `@amplitude/plugin-session-replay-react-native`
- Cross-platform segment integrations with dedicated plugins

## Key Features and Capabilities

**Session Recording Technology:**
- DOM capture and diff-based replay construction for web applications
- View tree capture for mobile platforms (Android/iOS)
- Real-time session reconstruction with compressed data transmission
- IndexedDB storage with configurable retention periods
- WebWorker compression for performance optimization

**Heatmaps and Visual Analytics:**
- Click maps showing user interaction hotspots
- Selector maps for element-specific engagement analysis
- Scroll maps indicating content consumption patterns
- Microscope feature for detailed behavioral analysis
- Integration with Behavioral Cohorts for user segmentation

**Privacy and Compliance Framework:**
- Three-tier masking system: Conservative, Light, and Medium levels
- CSS selector-based masking overrides with `.amp-block`, `amp-mask`, `amp-unmask` classes
- AmpMaskView components for React Native privacy controls
- UGC filter rules using glob patterns for URL sanitization
- Configurable data retention and opt-out mechanisms
- GDPR compliance tools and consent management integration

## Technical Configuration and API

**Core Configuration Parameters:**
- `sampleRate`: Controls percentage of sessions recorded (0.0-1.0)
- `maskLevel`/`privacyConfig`: Defines data masking intensity
- `deviceId`/`sessionId`: Identity management for session correlation
- `serverZone`: EU data residency configuration
- `enableRemoteConfig`: Dynamic configuration management
- `optOut`: User consent and privacy controls

**Key API Methods:**
- `sessionReplay.init()`: SDK initialization with configuration
- `sessionReplay.setSessionId()`/`sessionReplay.setDeviceId()`: Identity synchronization
- `getSessionReplayProperties()`: Event property injection for third-party analytics
- `start()`/`stop()`: Recording control methods
- `flush()`: Manual data transmission
- `amplitude.add()`/`amplitude.remove()`: Plugin lifecycle management

**Integration Endpoints:**
- Session data ingestion with HTTP status monitoring (200, 429, 402)
- Remote configuration via `configServerUrl`
- Event tracking through `trackServerUrl`
- DSAR API for data subject access requests
- User Privacy API for consent management

## Monitoring and Debugging

**Session Replay Ingestion Monitor:**
- Real-time ingestion status tracking
- HTTP response code analysis (successful requests, throttling, quota exceeded)
- Invalid session ID detection and debugging
- Users & Sessions tab for implementation troubleshooting

**Privacy and Consent Management:**
- Cookie banner integration with Consent Management Platforms (CMPs)
- First-party cookie categorization as analytics cookies
- Privacy policy disclosure requirements and sample language
- Conflict resolution between SDK and UI privacy settings

The Session Replay ecosystem integrates seamlessly with Amplitude's broader analytics platform while providing flexible deployment options for organizations using third-party analytics providers, ensuring comprehensive user behavior insights regardless of existing technical infrastructure.
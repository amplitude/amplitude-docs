## Amplitude Session Replay

Amplitude Session Replay is a comprehensive user behavior analytics feature that captures and reconstructs user interactions on web, mobile, and React Native applications. The product provides visual insights through session recordings, heatmaps, and behavioral analytics to help teams understand user engagement patterns and optimize digital experiences.

## Core Features and Capabilities

**Session Recording and Playback**: Captures DOM interactions, user clicks, scrolls, and navigation patterns through view tree capture and diff-based replay construction. Sessions are stored with configurable retention periods and can be filtered by various criteria including device identifiers, behavioral cohorts, and URL patterns.

**Heatmaps Analytics**: Provides three visualization types - click maps showing user interaction hotspots, selector maps ranking interactive elements by engagement, and scroll maps displaying viewport scroll depth patterns. Available exclusively for web-based applications on Growth/Enterprise plans.

**Privacy and Masking Controls**: Implements three masking levels (Conservative, Light, Medium) with CSS selector-based overrides, data attributes (data-amp-mask, data-amp-unmask), and .amp-block class exclusions. Supports GDPR compliance through consent management platform integration and user opt-out mechanisms.

**Multi-Platform SDK Support**: Offers comprehensive instrumentation across platforms including Browser SDK Plugin, Android Plugin/Middleware, iOS Plugin/Middleware, React Native SDK Plugin, and Standalone SDKs for third-party analytics integration.

## Product Architecture and Integration Patterns

**SDK Integration Models**: Session Replay supports three primary integration patterns:
- **Plugin Architecture**: For applications already using Amplitude SDKs (Browser SDK 2, Android-Kotlin SDK, iOS Swift SDK)
- **Middleware Integration**: For applications using maintenance SDKs (Android SDK 2.40.1+, iOS SDK 8.21.0+)
- **Standalone Implementation**: For applications using third-party analytics providers requiring manual session/device ID management

**Third-Party Analytics Integration**: Provides wrapper SDKs and plugins for Segment (Analytics-Swift, AnalyticsBrowser), Rudderstack, and Google Tag Manager, enabling session replay functionality without migrating from existing analytics platforms.

**Data Synchronization**: Maintains session continuity through sessionId and deviceId synchronization, with automatic Session Replay ID injection into analytics events via getSessionReplayProperties() method.

## Key Technical Components

**Configuration Parameters**:
- `sampleRate`: Controls recording percentage (0.0-1.0)
- `privacyConfig`/`maskLevel`: Defines data masking strictness
- `serverZone`: Supports EU data residency requirements
- `enableRemoteConfig`: Enables server-side configuration management
- `optOut`: Provides user consent controls

**Storage and Performance**:
- IndexedDB storage (`storeType`) for browser implementations
- Configurable flush policies and retry mechanisms
- WebWorker support for performance optimization (`experimental.useWebWorker`)
- Idle compression through `performanceConfig`

**API Endpoints and Methods**:
- `amplitude.add(sessionReplayPlugin())` - Plugin installation
- `sessionReplay.start()`/`sessionReplay.stop()` - Recording control
- `sessionReplay.setSessionId()`/`sessionReplay.setDeviceId()` - ID management
- `getSessionReplayProperties()` - Session metadata retrieval
- `addEventMiddleware()`/`removeEventMiddleware()` - Middleware management

## Monitoring and Debugging

**Ingestion Monitor**: Provides real-time tracking of session replay ingestion status with HTTP status code monitoring (200 success, 429 throttling, 402 quota exceeded) and invalid session ID detection for implementation troubleshooting.

**Data Subject Rights**: Integrates with DSAR API for data deletion requests and User Privacy API for compliance with data protection regulations.

## Platform-Specific Considerations

**Browser Limitations**: Canvas/WebGL content capture limitations, Shadow DOM support, CSS stylesheet inlining requirements, and multiple Amplitude instance handling.

**Mobile Constraints**: WebView tracking capabilities on React Native, Jetpack Compose support on Android, and view tree capture limitations on iOS/iPadOS.

**Enterprise Features**: Remote configuration management, EU data residency options, bot filtering, and configurable retention periods for organizational compliance requirements.
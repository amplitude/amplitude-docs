## Amplitude Session Replay

Amplitude Session Replay is a comprehensive user behavior analytics platform that captures and reconstructs user interactions across web, mobile, and React Native applications. The platform provides visual insights through session recordings, heatmaps, and behavioral analytics to help teams understand user engagement patterns and optimize digital experiences.

## Core Features and Capabilities

**Session Recording**: Captures complete user sessions through DOM-based recording for web applications and view tree capture for mobile platforms, using diff-based replay construction for efficient storage and playback.

**Heatmaps**: Provides visual engagement analytics including click maps, selector maps, and scroll maps that show user interaction patterns, element popularity rankings, and viewport scroll depth analysis.

**Multi-Platform Support**: Comprehensive SDK coverage across Browser, Android, iOS, React Native, with specialized integrations for Google Tag Manager, Segment, and RudderStack analytics platforms.

**Privacy Controls**: Three-tier masking system (Conservative, Light, Medium) with CSS selector-based overrides, data attributes (data-amp-mask, data-amp-unmask), and .amp-block class support for granular privacy management.

**Ingestion Monitoring**: Real-time tracking of session replay ingestion status with HTTP status code monitoring (200, 429, 402) and invalid session ID detection for implementation debugging.

## Product Architecture and Integration Patterns

The Session Replay ecosystem follows three primary integration patterns:

**Plugin Architecture**: For applications already using Amplitude Analytics SDKs, Session Replay integrates as plugins (Browser SDK Plugin, Android Plugin, iOS Plugin) that extend existing instrumentation with `amplitude.add()` and `amplitude.remove()` methods.

**Middleware Integration**: For legacy Amplitude SDK implementations, middleware components (Android Middleware, iOS Middleware) use `addEventMiddleware()` patterns to inject session replay capabilities into existing analytics pipelines.

**Standalone SDKs**: For third-party analytics environments, standalone implementations require manual session/device ID management with `setSessionId()`, `setDeviceId()`, and `getSessionReplayProperties()` methods for synchronization.

## Key Nomenclature and Technical Definitions

**Session Replay ID**: Primary identifier property `[Amplitude] Session Replay ID` attached to analytics events for linking behavioral data with replay recordings.

**Sample Rate**: Configuration parameter (`sampleRate`) controlling the percentage of sessions recorded, supporting both local configuration and remote configuration management.

**Device ID Synchronization**: Critical requirement for linking replay data with analytics, using `deviceId` mapping from analytics providers or manual management in standalone implementations.

**Session Management**: Time-based session tracking with session ID generation, timestamp management, and explicit session boundaries through `Session Start`/`Session End` events.

**Privacy Configuration**: `privacyConfig` and `maskLevel` settings that control data masking behavior, with CSS selector precedence over SDK-level configurations.

## Ecosystem Integration and Third-Party Support

Session Replay integrates extensively with the broader analytics ecosystem through specialized wrappers and plugins:

**Segment Integration**: Multiple destination modes including Amplitude Actions, Device-mode, and Cloud-mode integrations with Source Middleware for `analytics_session_id` cookie synchronization.

**Google Tag Manager**: GTM Web Template implementation for client-side browser deployments with Session Replay Plugin toggle configuration.

**RudderStack Integration**: Cloud-mode wrapper with Rudderstack Anonymous ID to deviceId mapping and method overrides for `track()` and `page()` events.

## API Endpoints and Configuration Methods

**Core SDK Methods**:
- `sessionReplay.init()` - Standalone SDK initialization
- `sessionReplay.setSessionId()` - Manual session management
- `sessionReplay.getSessionReplayProperties()` - Property extraction for third-party analytics
- `amplitude.add(sessionReplayPlugin)` - Plugin installation
- `amplitude.uploadEvents()` - Event transmission with middleware

**Configuration Parameters**:
- `sampleRate` - Recording percentage control
- `serverZone` - EU data residency configuration
- `enableRemoteConfig` - Remote configuration enablement
- `optOut` - User consent management
- `storeType` - IndexedDB storage configuration
- `forceSessionTracking` - Session boundary enforcement

**Privacy Controls**:
- `data-amp-mask` / `data-amp-unmask` - Element-level masking
- `.amp-block` - CSS class-based exclusion
- `AmpMaskView` - React Native masking component

The platform supports Maven Central and npm/yarn distribution channels, with specialized repositories like AmplitudeSessionReplay-iOS and plugin-session-replay-android for platform-specific implementations. Integration requires minimum SDK versions (Browser SDK 2.0+, Android SDK 2.40.1+, iOS SDK 8.21.0+) and supports advanced features like WebView tracking, Shadow DOM capture, and experimental WebWorker processing.
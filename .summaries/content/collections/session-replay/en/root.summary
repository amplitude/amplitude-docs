## Amplitude Session Replay

Amplitude Session Replay is a comprehensive user behavior analytics platform that captures, reconstructs, and analyzes user interactions across web, mobile (iOS/Android), and React Native applications. The platform provides visual insights through session recordings, heatmaps, and behavioral analytics to help teams understand user engagement patterns and optimize digital experiences.

## Product Architecture and Integration Ecosystem

Session Replay operates through multiple SDK implementations designed for different technical architectures:

**Browser/Web Implementation:**
- **Browser SDK Plugin** (`@amplitude/plugin-session-replay-browser`) - Primary integration for sites using Amplitude Browser SDK 2
- **Standalone SDK** (`@amplitude/session-replay-browser`) - For applications using third-party analytics providers
- **Google Tag Manager Integration** - GTM Web Template for client-side implementations without direct code changes

**Mobile Platform Support:**
- **iOS Plugin/Middleware** - `AmplitudeSwiftSessionReplayPlugin` for iOS Swift SDK and `AmplitudeiOSSessionReplayMiddleware` for maintenance iOS SDK
- **Android Plugin/Middleware** - `SessionReplayPlugin` for Android-Kotlin SDK and `SessionReplayMiddleware` for maintenance Android SDK
- **React Native Plugin** - `@amplitude/plugin-session-replay-react-native` for cross-platform mobile applications

**Third-Party Analytics Integrations:**
- **Segment Integration** - Multiple destination modes including Amplitude Actions, Classic Device-mode, and Cloud-mode
- **Rudderstack Integration** - Session Replay wrapper with Cloud-mode support
- **Standalone SDKs** - For iOS, Android, and web applications using non-Amplitude analytics providers

## Core Features and Capabilities

**Session Recording and Replay:**
Session Replay captures user interactions through DOM capture and diff processing (web) or view tree capture (mobile), reconstructing user sessions for playback. The system uses IndexedDB storage for web applications and supports real-time compression through `performanceConfig` idle compression.

**Heatmaps Analytics:**
The platform provides three types of heatmaps exclusively for web-based applications:
- **Click Maps** - Visual representation of user click patterns
- **Selector Maps** - Element-specific interaction tracking
- **Scroll Maps** - Viewport scroll depth analysis with behavioral cohorts integration

**Privacy and Masking Controls:**
Session Replay implements comprehensive privacy protection through:
- **Three Masking Levels**: Conservative, Light, and Medium with different sensitivity thresholds
- **CSS Selector Overrides** - Custom masking rules that take precedence over SDK settings
- **Element-Level Controls** - `amp-mask`, `amp-unmask`, and `.amp-block` class selectors
- **Remote Configuration** - Centralized privacy settings management

## Key Technical Nomenclature

**Session Management:**
- **Session ID** - Unique identifier for user sessions, managed automatically or manually depending on implementation
- **Device ID** - Persistent device identifier for cross-session user tracking
- **Sample Rate** - Percentage of sessions to record (0.0 to 1.0)
- **Session Replay ID** - Event property `[Amplitude] Session Replay ID` attached to analytics events

**Configuration Parameters:**
- **`sampleRate`** - Controls recording frequency across all SDK implementations
- **`privacyConfig`/`maskLevel`** - Privacy protection settings
- **`serverZone`** - EU data residency configuration
- **`optOut`** - User consent management
- **`enableRemoteConfig`** - Centralized configuration management
- **`forceSessionTracking`** - Override default session behavior

**Integration Methods:**
- **`amplitude.add()`/`amplitude.remove()`** - Plugin management for Amplitude SDKs
- **`addEventMiddleware()`/`removeEventMiddleware()`** - Middleware integration for maintenance SDKs
- **`getSessionReplayProperties()`** - Method for retrieving session replay metadata for third-party analytics
- **`setSessionId()`/`setDeviceId()`** - Manual ID management for standalone implementations

## Monitoring and Debugging Tools

**Session Replay Ingestion Monitor:**
Real-time monitoring dashboard tracking session replay ingestion health through:
- **HTTP Status Code Tracking** - 200 (success), 429 (throttling), 402 (quota exceeded)
- **Invalid Session ID Detection** - Debugging tool for implementation issues
- **Users & Sessions Tab** - Ingestion status visualization over time

## API Endpoints and Technical Integration

**Core SDK Methods:**
- **Recording Control**: `start()`/`stop()` methods for manual recording management
- **Configuration**: `sessionReplay.init()` for standalone implementations
- **Event Integration**: `track()`/`page()` method overrides for third-party analytics
- **Privacy Management**: CSS selector-based masking with organizational settings precedence

**Advanced Configuration:**
- **`storeType`** - IndexedDB storage configuration for web applications
- **`debugMode`** - Development debugging capabilities
- **`experimental.useWebWorker`** - Performance optimization through web workers
- **`shouldInlineStylesheet`** - CSS handling for accurate replay reconstruction

The platform requires minimum SDK versions (Browser SDK Plugin 1.7.0+, Standalone SDK 1.14.0+) and is available exclusively for Growth and Enterprise plans, with comprehensive GDPR compliance tools including DSAR API integration and User Privacy API for data deletion requests.
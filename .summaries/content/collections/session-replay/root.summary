## Amplitude Session Replay

Amplitude Session Replay is a comprehensive user behavior analytics platform that captures, reconstructs, and visualizes user interactions across web, mobile, and React Native applications. The solution provides session recordings, heatmaps, and behavioral analytics while maintaining enterprise-grade privacy controls and regulatory compliance capabilities.

## Product Architecture and Integration Ecosystem

Session Replay operates through a multi-tiered SDK architecture designed to accommodate diverse development environments and existing analytics infrastructures:

**SDK Implementation Tiers:**
- **Plugin Architecture**: Native integration with current Amplitude Analytics SDKs (Browser SDK 2, Android-Kotlin SDK, iOS Swift SDK) using `amplitude.add(sessionReplayPlugin)`
- **Middleware Integration**: Compatibility layer for legacy Amplitude SDKs (Android SDK 2.40.1+, iOS SDK 8.21.0+) via `addEventMiddleware(SessionReplayMiddleware)`
- **Standalone SDKs**: Independent implementations enabling integration with third-party analytics providers through manual session/device ID synchronization
- **Third-Party Wrappers**: Specialized integrations for Segment (AmplitudeSession plugin), Rudderstack, and Google Tag Manager template-based deployments

**Cross-Platform Coverage:**
- Web browsers through Browser SDK Plugin and Standalone implementations
- Android applications via Plugin, Middleware, and Standalone SDKs
- iOS/iPadOS through comprehensive SDK options
- React Native cross-platform applications with AmpMaskView privacy components
- Google Tag Manager web implementations with template-based configuration

## Core Features and Technical Capabilities

**Session Recording Technology:**
- DOM capture with diff-based replay reconstruction for web applications
- View tree capture for native mobile application recording
- Real-time session reconstruction with visual playback capabilities
- IndexedDB storage with configurable retention periods and WebWorker compression
- Automatic session correlation through `deviceId` and `sessionId` management

**Visual Analytics Suite:**
- **Click Maps**: User interaction hotspot visualization
- **Selector Maps**: Element-specific engagement analysis
- **Scroll Maps**: Content consumption pattern tracking
- **Microscope Feature**: Granular interaction detail analysis
- URL pattern matching for targeted behavioral analysis

**Privacy and Compliance Framework:**
- Three-tier masking system (Conservative, Light, Medium) via `maskLevel`/`privacyConfig`
- CSS selector-based masking overrides using `.amp-block`, `amp-mask`, `amp-unmask` attributes
- AmpMaskView components for React Native privacy controls
- UGC Filter Rules with glob pattern URL sanitization
- GDPR compliance through Consent Management Platform (CMP) integration
- EU data residency via `serverZone` configuration

## Technical Implementation and API Reference

**Core Configuration Parameters:**
- `sampleRate`: Session recording percentage control (0.0-1.0 range)
- `maskLevel`/`privacyConfig`: Data masking intensity configuration
- `deviceId`/`sessionId`: Cross-platform identity management
- `serverZone`: Geographic data residency compliance
- `enableRemoteConfig`: Dynamic configuration management
- `optOut`: User consent and privacy control mechanisms

**Primary API Methods:**
- `sessionReplay.init()`: SDK initialization and configuration
- `sessionReplay.setSessionId()`/`sessionReplay.setDeviceId()`: Identity synchronization
- `getSessionReplayProperties()`: Event property injection for third-party analytics correlation
- `start()`/`stop()`: Recording lifecycle control
- `flush()`: Manual data transmission trigger
- `amplitude.add()`/`amplitude.remove()`: Plugin lifecycle management

**Integration Command Patterns:**
- **Plugin Integration**: `amplitude.add(sessionReplayPlugin)` for native Amplitude implementations
- **Middleware Integration**: `addEventMiddleware(SessionReplayMiddleware)` for legacy SDK compatibility
- **Standalone Integration**: Manual session/device ID synchronization with third-party analytics platforms
- **Segment Integration**: Automatic session ID extraction via AmplitudeSession plugin architecture

## Data Management and Operational Monitoring

**Ingestion Monitoring System:**
- Session Replay Ingestion Monitor with HTTP status code tracking (200, 429, 402)
- Invalid session ID detection and debugging capabilities
- Real-time ingestion health monitoring and alerting

**Privacy Control Mechanisms:**
- Element-level masking with HTML attribute-based controls
- Automatic form field and text input masking
- CSS selector-based privacy rule overrides
- Remote configuration for dynamic privacy policy updates
- Conflict resolution between SDK-level and UI-configured privacy settings

**Compliance and Data Governance:**
- Configurable session replay data retention periods
- DSAR API compliance for data subject access requests
- User Privacy API for consent management workflows
- First-party cookie categorization for analytics compliance frameworks

## Product Ecosystem Integration

Session Replay integrates as a core component within Amplitude's broader analytics ecosystem while maintaining deployment flexibility for organizations utilizing third-party analytics providers. The platform supports hybrid architectures where session replay data can be captured independently while maintaining correlation with existing analytics implementations through standardized identity management and event property injection mechanisms.

The solution's modular architecture enables progressive adoption, allowing organizations to implement session replay capabilities without disrupting existing analytics infrastructure while providing pathways for deeper integration with Amplitude's comprehensive digital analytics platform.
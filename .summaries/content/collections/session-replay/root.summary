## Amplitude Session Replay

Amplitude Session Replay is a comprehensive user behavior analytics platform that captures, reconstructs, and visualizes user interactions across web, mobile, and React Native applications. The product delivers actionable insights through session recordings, heatmaps, and behavioral analytics, enabling teams to understand user engagement patterns and optimize digital experiences.

## Product Architecture and Integration Framework

Session Replay employs a multi-tiered SDK architecture designed for flexible integration with existing analytics infrastructure:

**SDK Implementation Strategies:**
- **Plugin Architecture**: Extends core Amplitude SDKs (Browser SDK 2, Android-Kotlin SDK, iOS Swift SDK) through modular plugin systems
- **Middleware Integration**: Provides compatibility layers for legacy Amplitude SDK implementations
- **Standalone SDKs**: Independent implementations supporting teams using third-party analytics providers
- **Third-Party Wrappers**: Specialized connectors for Segment, Rudderstack, and Google Tag Manager ecosystems

**Cross-Platform Coverage:**
- Web browsers via Browser SDK Plugin and Standalone SDK implementations
- Android applications through Plugin and Middleware integration approaches
- iOS/iPadOS through Plugin and Middleware implementations
- React Native cross-platform development support
- Google Tag Manager web template integration

## Core Feature Set and Capabilities

**Session Recording Engine**: Captures comprehensive user interactions through DOM manipulation tracking, view tree change detection, and behavioral event logging. The system utilizes diff-based replay construction, DOM capture techniques, view tree diffing algorithms, and compressed IndexedDB storage for web applications.

**Heatmap Analytics**: Delivers visual engagement insights through click maps, selector maps, and scroll maps, revealing user interaction patterns, viewport scroll depth metrics, and average page fold analytics. Available for Growth/Enterprise tier customers using Browser SDK Plugin 1.7.0+ or Standalone SDK 1.14.0+.

**Privacy and Data Masking Framework**: Implements three-tier masking levels (Conservative, Light, Medium) with CSS selector-based override capabilities, PII masking compliance, and form field protection mechanisms. Includes AmpMaskView components for React Native and .amp-block class exclusion functionality.

**User Consent Management System**: Comprehensive GDPR compliance infrastructure through cookie banner integration, Consent Management Platform (CMP) support, privacy policy disclosure templates, and SDK consent controls with granular opt-out mechanisms.

## Technical Implementation and Configuration

**Core Configuration Parameters:**
- `sampleRate`: Controls recording frequency and data volume management
- `enableRemoteConfig`: Enables server-side configuration management capabilities
- `privacyConfig`/`maskLevel`: Configures data masking and privacy protection settings
- `serverZone`: Supports EU data residency compliance requirements
- `optOut`: Provides user consent control mechanisms

**Primary API Methods:**
- `amplitude.add(plugin)` / `amplitude.remove(plugin)`: Plugin lifecycle management
- `sessionReplay.init()`: Standalone SDK initialization
- `getSessionReplayProperties()`: Session metadata retrieval for event tagging
- `setSessionId()` / `setDeviceId()`: Manual identifier management for third-party integrations
- `start()` / `stop()`: Recording state control methods

**Data Management Infrastructure:**
- Session Replay ID property injection into analytics event streams
- Device ID and Session ID synchronization across platform implementations
- IndexedDB storage with compression for web application data persistence
- UGC Filter Rules utilizing glob pattern matching for URL sanitization

## Monitoring and Debugging Infrastructure

**Ingestion Monitor System**: Provides session replay ingestion status tracking with HTTP status code monitoring (200, 429, 402), invalid session ID detection capabilities, and comprehensive implementation troubleshooting tools.

**Privacy Control Management**: Remote configuration precedence over local settings, organizational privacy settings administration, and conflict resolution between SDK and UI configuration states.

## Third-Party Integration Ecosystem

**Segment Integration**: Multiple destination modes including Amplitude Actions (utilizing analytics_session_id cookie), Amplitude Classic Device-mode, and Cloud-mode implementations with Source Middleware support capabilities.

**Rudderstack Integration**: Cloud-mode configuration with deviceId/sessionId mapping from Rudderstack Anonymous ID and Session ID, including method override support for track/page events.

**Google Tag Manager Integration**: GTM Web Template with Session Replay plugin enablement and troubleshooting support for multiple SDK instantiation scenarios.

## Key Nomenclature and Definitions

**Session Replay ID**: Unique identifier linking recorded sessions to analytics events
**Masking Levels**: Privacy protection tiers (Conservative, Light, Medium) controlling data capture sensitivity
**Sample Rate**: Percentage-based configuration controlling recording frequency and data volume
**Plugin Architecture**: Modular extension system for integrating Session Replay with existing Amplitude SDKs
**Middleware Integration**: Compatibility layer for legacy SDK implementations
**UGC Filter Rules**: URL sanitization system using glob patterns to exclude user-generated content
**Remote Configuration**: Server-side setting management overriding local SDK configurations
**Ingestion Monitor**: Real-time tracking system for session replay data processing status

## Broader Product Ecosystem Integration

Session Replay integrates deeply within the Amplitude Analytics ecosystem, functioning as both a standalone product and complementary enhancement to existing Amplitude implementations. The product emphasizes privacy compliance, flexible deployment architectures, and seamless integration with existing analytics infrastructure while delivering comprehensive user behavior insights through session recordings and heatmap analytics. The multi-SDK approach ensures compatibility across diverse technology stacks while maintaining consistent data quality and privacy standards across all implementation methods.
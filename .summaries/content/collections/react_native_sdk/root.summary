# Amplitude React Native SDK

## High-Level Overview

The Amplitude React Native SDK is a client-side analytics solution for tracking user behavior in React Native mobile applications. It supports both JavaScript and TypeScript applications and offers comprehensive event tracking, user identification, revenue tracking, session management, and data synchronization with Amplitude's analytics platform.

The SDK is available in two versions:
- Latest SDK (`@amplitude/analytics-react-native`) - Recommended version with modern plugin architecture
- Maintenance SDK (`@amplitude/react-native`) - Legacy version with continued support but limited development

Key features include:
- Event tracking with custom properties
- User identification and property management
- Revenue tracking
- Session management
- Batch event uploading
- EU data residency support
- COPPA compliance controls
- Plugin architecture for extensibility
- Type-safe event tracking through Ampli Wrapper

## Product Relationships and Features

### Core Components

1. **Main SDK Packages**
   - Latest: `@amplitude/analytics-react-native` - Modern architecture with plugin support
   - Maintenance: `@amplitude/react-native` - Legacy version with basic functionality

2. **Ampli Wrapper**
   - Code-generated wrapper providing type-safe event tracking
   - Based on Amplitude Data tracking plans
   - Ensures data quality and consistency

3. **Plugin System** (Latest SDK only)
   - Extensible architecture allowing custom functionality
   - Enables integration with other services and platforms

### Feature Comparison

| Feature | Latest SDK | Maintenance SDK |
|---------|------------|-----------------|
| Event Tracking | `track()` | `logEvent()` |
| User Identification | `identify()` | `identify()` |
| Revenue Tracking | `revenue()` | `logRevenueV2()` |
| Session Management | Automatic | Configurable |
| Batch Processing | Supported | Supported |
| EU Data Residency | Supported | Supported |
| COPPA Compliance | Supported | Supported |
| Plugin Architecture | Yes | No |
| TypeScript Support | Full | Limited |
| Flush Events | `flush()` | `uploadEvents()` |

## Key Nomenclature and Definitions

1. **Event** - A tracked user action or occurrence within the application
   
2. **User Properties** - Persistent attributes associated with a user across sessions

3. **Identify API** - Methods for modifying user properties (set, increment, append, etc.)

4. **Session** - A period of continuous user engagement with the application

5. **Device ID** - Unique identifier for the device running the application

6. **User ID** - Custom identifier for the user, typically set by the application

7. **Tracking Plan** - Schema defining events and properties to be tracked

8. **Ampli Wrapper** - Type-safe, code-generated client based on a tracking plan

9. **Plugin** - Extension that adds functionality to the SDK

10. **COPPA** - Children's Online Privacy Protection Act regulations for applications used by children under 13

## Product Ecosystem Integration

The React Native SDK integrates with the broader Amplitude ecosystem:

1. **Amplitude Analytics Platform** - Sends event data for processing and visualization

2. **Amplitude Data** - Works with tracking plans to ensure data quality

3. **Ampli CLI** - Command-line tool that generates the Ampli Wrapper

4. **Cross-Platform Strategy** - Part of Amplitude's multi-platform SDK offerings

5. **HTTP V2 API** - Uses Amplitude's HTTP V2 API for backend communication

## API Endpoints and Commands

### Latest SDK Installation and Setup

```bash
npm install @amplitude/analytics-react-native
```

```javascript
import { createInstance } from '@amplitude/analytics-react-native';

const amplitude = createInstance('API_KEY', {
  // Configuration options
});
```

### Event Tracking

```javascript
amplitude.track('Event Name', {
  property1: 'value1',
  property2: 'value2'
});
```

### User Identification

```javascript
amplitude.setUserId('user_id');
amplitude.identify(new Identify()
  .set('property1', 'value1')
  .add('property2', 5)
  .append('property3', ['value']));
```

### Event Flushing

```javascript
amplitude.flush();
```

### Ampli Wrapper Usage

```bash
# CLI commands
ampli pull
ampli status
ampli generate
```

```javascript
// Initialization
import { ampli } from './ampli';

ampli.load({
  client: {
    apiKey: 'API_KEY',
    // Additional configuration
  }
});

// Type-safe event tracking
ampli.track('Event Name', {
  property1: 'value1'
});
```
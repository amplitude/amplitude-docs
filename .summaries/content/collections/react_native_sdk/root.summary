## React Native SDK for Amplitude Analytics

The React Native SDK for Amplitude is a comprehensive analytics tracking solution designed for React Native applications, providing both JavaScript and TypeScript support for event tracking, user analytics, and revenue measurement. The SDK offers multiple implementation approaches including a standard SDK and an enhanced Ampli Wrapper that generates strongly-typed APIs from Amplitude Data tracking plans.

## Product Architecture and Feature Relationships

The React Native SDK ecosystem consists of three main components:

**Current SDK (`@amplitude/analytics-react-native`)**: The actively maintained, feature-rich analytics SDK that serves as the foundation for modern React Native analytics implementation. This SDK provides core functionality including event tracking, user property management, revenue tracking, and advanced features like plugin architecture and advertising identifier support.

**Ampli Wrapper**: An enhanced layer built on top of the current SDK that generates strongly-typed APIs based on Amplitude Data tracking plans. The Ampli Wrapper requires the current SDK as a dependency and provides additional type safety and schema validation for event properties and user properties.

**Maintenance SDK (`@amplitude/react-native`)**: The legacy SDK in maintenance mode that provides basic analytics functionality but lacks the advanced features and optimizations of the current SDK.

The relationship between these components follows a clear evolution path, with migration tools and automatic data migration capabilities (starting in v1.3.4) facilitating the transition from legacy to current implementations.

## Key Nomenclature and Definitions

**Core Analytics Concepts:**
- **Event Tracking**: Primary method for recording user actions using `track()` method (current SDK) or `logEvent()` (maintenance SDK)
- **User Properties**: Persistent attributes associated with users, managed through the `Identify` class with operations like `set()`, `add()`, `remove()`
- **Group Properties**: Analytics data associated with user groups, managed via `groupIdentify()` operations
- **Revenue Tracking**: Specialized event tracking for monetary transactions using the `Revenue` interface

**Technical Infrastructure:**
- **Device ID**: Unique identifier for device-level analytics tracking, manageable via `setDeviceId()`
- **Session Management**: Automatic session tracking with configurable session timeout and manual session ID control via `setSessionId()`
- **Plugin Architecture**: Extensible system supporting `EnrichmentPlugin` and `DestinationPlugin` for custom analytics processing
- **Transport Provider**: Configurable HTTP client system supporting custom implementations and batch processing

**Configuration and Compliance:**
- **Server Zone**: Geographic data routing configuration supporting EU data residency requirements
- **COPPA Control**: Children's Online Privacy Protection Act compliance features
- **Tracking Options**: Granular control over automatic data collection including advertising identifiers
- **Advertising Identifiers**: Platform-specific identifiers including ADID (Android), IDFV/IDFA (iOS), and AppSetId

## Product Ecosystem Integration

The React Native SDK integrates into the broader Amplitude analytics ecosystem through several key mechanisms:

**Data Pipeline Integration**: Events flow through Amplitude's HTTP V2 API endpoint with support for batch processing and EU server zones for data residency compliance. The SDK supports both real-time event transmission and batched uploads with configurable thresholds.

**Amplitude Data Integration**: The Ampli Wrapper connects directly to Amplitude Data tracking plans, enabling schema-driven analytics implementation with compile-time validation and automatic code generation via `ampli pull` commands.

**Cross-Platform Compatibility**: The SDK maintains compatibility with React Native CLI, Expo (including OTA updates), and various React Native versions while supporting both Android and iOS platform-specific features.

**Development Workflow Integration**: The SDK provides comprehensive debugging capabilities through configurable log levels, status checking via `ampli status` commands, and development-time validation of event schemas and properties.

## API Endpoints and Command Line Interface

**Core SDK Methods:**
- `init(apiKey, config)`: Initialize the SDK with API key and configuration options
- `track(eventType, eventProperties)`: Record analytics events with optional properties
- `identify(identifyObject)`: Update user properties using Identify operations
- `revenue(revenueObject)`: Track revenue events with monetary values
- `flush()`: Force immediate upload of queued events
- `setUserId(userId)`: Associate events with specific user identifiers

**Ampli-Specific Methods:**
- `ampli.load(configuration)`: Initialize the Ampli wrapper with tracking plan configuration
- `ampli.identify(userId, identifyObject)`: Type-safe user property updates
- `ampli.track(eventObject)`: Strongly-typed event tracking based on schema definitions
- `ampli.flush()`: Force event upload through the Ampli wrapper

**Command Line Tools:**
- `ampli pull`: Download latest tracking plan schemas and generate typed APIs
- `ampli status`: Verify tracking plan synchronization and implementation status

**Configuration APIs:**
- Server zone configuration for EU compliance: `serverZone: 'EU'`
- Legacy data migration: `migrateLegacyData: true`
- Custom transport providers: `transportProvider: customHttpClient`
- Advertising identifier tracking: `trackingOptions.adid`, `trackingOptions.idfv`

The SDK supports both programmatic configuration through initialization options and runtime configuration changes for dynamic analytics behavior adjustment.
# Amplitude React Native SDK

## Overview

The Amplitude React Native SDK is a client-side analytics solution that enables developers to track user interactions and events within React Native applications. The SDK provides a comprehensive set of features for event tracking, user identification, revenue tracking, and session management, with support for both JavaScript and TypeScript implementations.

The product consists of two main versions:
1. The latest SDK (`@amplitude/analytics-react-native`) - The recommended version with a modern plugin architecture
2. The maintenance SDK (`@amplitude/react-native`) - The legacy version still supported for existing implementations

Key features include:
- Event tracking with custom properties
- User identification and property management
- Revenue tracking
- Session management
- Group property tracking
- EU data residency support
- Batch event processing
- Plugin architecture for extensibility
- Strongly typed tracking via Ampli Wrapper

## Product Relationships and Features

### Core SDK Components

1. **Main SDK Package**
   - Latest: `@amplitude/analytics-react-native`
   - Maintenance: `@amplitude/react-native`

2. **Ampli Wrapper**
   - A code-generated tracking library that provides type-safe event tracking based on a tracking plan
   - Integrates with the core SDK to provide strongly typed analytics

3. **Plugins**
   - The latest SDK uses a plugin architecture for extensibility
   - Includes built-in plugins for event enrichment and customization

### Feature Comparison

| Feature | Latest SDK | Maintenance SDK |
|---------|------------|-----------------|
| Event Tracking | `track()` | `logEvent()` |
| User Identification | `identify()` | `identify()` |
| Revenue Tracking | `revenue()` | `logRevenueV2()` |
| Session Management | Automatic | Configurable |
| Group Properties | Supported | Supported |
| EU Data Residency | Supported | Supported |
| Plugin Architecture | Yes | No |
| Batch Event Processing | `flush()` | `uploadEvents()` |
| COPPA Compliance | Supported | Supported |
| Strongly Typed Tracking | Via Ampli | Via Ampli |

## Key Nomenclature and Definitions

1. **Event** - A user interaction or action tracked in the application
2. **User Properties** - Attributes associated with a specific user
3. **Device ID** - Unique identifier for a device
4. **User ID** - Custom identifier for a user, typically from your authentication system
5. **Session** - A period of continuous user engagement with the app
6. **Identify API** - Methods for setting, adding to, or removing user properties
7. **Group** - A collection of users that can have shared properties
8. **Ampli Wrapper** - A code-generated SDK wrapper that provides type-safe event tracking
9. **Plugin** - An extension point in the latest SDK for customizing behavior
10. **COPPA** - Children's Online Privacy Protection Act compliance controls
11. **Server Zone** - Geographic region for data processing (US or EU)

## Product Ecosystem Integration

The React Native SDK is part of Amplitude's broader analytics ecosystem:

1. **Integration with Amplitude Analytics Backend**
   - Sends data to Amplitude's HTTP V2 API
   - Supports both US and EU data residency options

2. **Tracking Plan Integration**
   - Works with Amplitude's Data tracking plans via the Ampli Wrapper
   - Enables consistent event tracking across platforms

3. **Cross-Platform Compatibility**
   - Designed for React Native applications
   - Compatible with both iOS and Android platforms
   - Specific compatibility requirements for different React Native versions

4. **Data Consistency**
   - Maintains consistent user and device identification across sessions
   - Supports migration of user data when upgrading from the maintenance SDK

## API Endpoints and Commands

### SDK Initialization

Latest SDK:
```javascript
import { createInstance } from '@amplitude/analytics-react-native';

const amplitude = createInstance('API_KEY', {
  // Optional configuration
  serverZone: 'EU',
  useBatch: true,
  flushQueueSize: 30,
  flushIntervalMillis: 10000
});
```

Maintenance SDK:
```javascript
import { Amplitude } from '@amplitude/react-native';

Amplitude.getInstance().init('API_KEY', 'USER_ID', {
  // Optional configuration
  optOut: false,
  enableCoppaControl: false,
  batchEvents: true
});
```

### Event Tracking

Latest SDK:
```javascript
amplitude.track('Button Clicked', {
  buttonColor: 'red',
  buttonText: 'Purchase'
});
```

Maintenance SDK:
```javascript
Amplitude.getInstance().logEvent('Button Clicked', {
  buttonColor: 'red',
  buttonText: 'Purchase'
});
```

### User Identification

Latest SDK:
```javascript
amplitude.identify(
  new Identify()
    .set('email', 'user@example.com')
    .set('role', 'admin')
    .add('loginCount', 1)
);
```

Maintenance SDK:
```javascript
const identify = new Amplitude.Identify()
  .set('email', 'user@example.com')
  .set('role', 'admin')
  .add('loginCount', 1);
  
Amplitude.getInstance().identify(identify);
```

### Ampli Wrapper Commands

```bash
# Install Ampli CLI
npm install -g @amplitude/ampli

# Pull tracking plan
ampli pull

# Generate tracking library
ampli status
```

Ampli Usage:
```javascript
// Initialize
ampli.load({
  client: {
    apiKey: 'API_KEY',
    configuration: {
      // SDK configuration options
    }
  }
});

// Track events with type safety
ampli.eventName({
  requiredProperty: 'value',
  optionalProperty: 123
});
```

### Batch Processing

Latest SDK:
```javascript
amplitude.flush();
```

Maintenance SDK:
```javascript
Amplitude.getInstance().uploadEvents();
```

The React Native SDK provides a comprehensive solution for tracking user behavior in React Native applications, with options for both simple implementation and advanced customization through the plugin architecture and Ampli Wrapper.
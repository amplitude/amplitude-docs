# Amplitude Android SDK

## Overview

Amplitude's Android SDK is a comprehensive analytics tracking solution for Android applications that enables developers to capture user behavior, track events, manage user identities, and monitor application performance. The SDK comes in two versions:

1. **Android-Kotlin SDK** (`com.amplitude:analytics-android`) - The modern, actively developed SDK written in Kotlin with a plugin-based architecture
2. **Android SDK** (`com.amplitude:android-sdk`) - The legacy SDK currently in maintenance mode

Both SDKs provide core analytics capabilities while integrating with Amplitude's broader analytics platform to deliver insights into user engagement and application performance.

## Key Features

- **Event Tracking**: Record user actions and in-app behaviors
- **User Identification**: Associate events with specific users through user IDs
- **User Properties**: Track and update user attributes and characteristics
- **Revenue Tracking**: Monitor in-app purchases and revenue-generating events
- **Session Management**: Track user engagement sessions with configurable timeouts
- **Offline Support**: Queue events when offline and send when connectivity returns
- **Autocapture** (Android-Kotlin SDK): Automatically track sessions, app lifecycles, screen views, deep links, and element interactions
- **Plugin Architecture** (Android-Kotlin SDK): Extensible system for adding functionality
- **COPPA Compliance**: Controls for children's privacy protection
- **Dynamic Configuration**: Server-side configuration options

## Product Relationships

The Android SDK ecosystem consists of several interconnected components:

1. **Android-Kotlin SDK**: The modern implementation recommended for new projects, featuring a plugin architecture for extensibility.

2. **Legacy Android SDK**: The original implementation that continues to be maintained but isn't receiving new features.

3. **Ampli Wrapper**: A code-generated layer that sits on top of either SDK version, providing:
   - Strongly typed APIs based on Amplitude Data tracking plans
   - Event schema enforcement to prevent instrumentation errors
   - Autocompletion for events and properties

4. **Plugins** (Android-Kotlin SDK): Extend functionality through:
   - **DestinationPlugin**: Sends event data to specific endpoints
   - **EnrichmentPlugin**: Adds or modifies event data before sending
   - **UtilityPlugin**: Provides additional functionality without modifying events

5. **Middleware** (Legacy SDK): Intercept and modify events before sending to Amplitude

## Key Nomenclature and Definitions

- **Event**: A discrete user action or occurrence tracked in the application
- **User Properties**: Attributes associated with a user (e.g., name, email)
- **Device ID**: Unique identifier for the device, with configurable lifecycle management
- **User ID**: Custom identifier for authenticated users
- **Session**: A period of continuous user engagement with the app
- **Batch**: Collection of events sent together to optimize network usage
- **Identify**: Operation to set or update user properties
- **Group**: Collection of users that can have their own properties
- **Tracking Plan**: Schema definition for events and properties in Amplitude

## Integration with Amplitude Ecosystem

The Android SDK integrates with the broader Amplitude product ecosystem by:

1. Sending tracked events to the Amplitude Analytics platform
2. Supporting the Amplitude Data tracking plan system through the Ampli wrapper
3. Enabling multiple data destinations through the plugin architecture
4. Providing compatibility with Amplitude's user identity resolution system
5. Supporting Amplitude's revenue tracking and attribution features

## API and Implementation Details

### Android-Kotlin SDK Key Methods

```kotlin
// Initialization
val amplitude = Amplitude(
    Configuration(
        apiKey = AMPLITUDE_API_KEY,
        context = applicationContext
    )
)

// Event tracking
amplitude.track(
    "Button Clicked",
    mapOf("buttonColor" to "blue", "buttonText" to "Submit")
)

// User identification
amplitude.setUserId("user@example.com")

// User properties
val identifyObj = Identify()
identifyObj.set("email", "user@example.com")
identifyObj.set("name", "User Example")
amplitude.identify(identifyObj)

// Group association
amplitude.setGroup("orgId", "org-123")

// Group properties
val groupIdentify = Identify()
groupIdentify.set("plan", "enterprise")
amplitude.groupIdentify("orgId", "org-123", groupIdentify)

// Force send events
amplitude.flush()

// Reset user
amplitude.reset()
```

### Ampli Wrapper Key Methods

```kotlin
// Initialize Ampli wrapper
ampli.load(Context)

// Track typed events
ampli.songPlayed(
    SongPlayed.EventProperties(
        songId = "song-123",
        songName = "Bohemian Rhapsody",
        artist = "Queen"
    )
)

// Identify with typed properties
ampli.identify(
    userId = "user-123",
    UserProperties(
        userPlan = "premium",
        signupDate = "2023-01-01"
    )
)

// CLI commands
// ampli pull - Pull tracking plan
// ampli status - Check tracking plan status
```

The Android SDK provides developers with a robust solution for tracking and analyzing user behavior in Android applications, with the Android-Kotlin SDK representing the modern, recommended implementation path for new projects.
# Amplitude Android SDK

## Overview

Amplitude's Android SDK ecosystem provides analytics tracking capabilities for Android applications. It consists of three main components:

1. **Android-Kotlin SDK** (`com.amplitude:analytics-android`) - The current, actively developed SDK with modern architecture
2. **Android SDK** (`com.amplitude:android-sdk`) - The legacy SDK in maintenance mode
3. **Ampli Wrapper** - A code-generated layer that enforces tracking plan schemas

These SDKs enable developers to track user behavior, identify users, manage sessions, and send analytics data to Amplitude's servers, supporting both Java and Kotlin development environments.

## Product Relationships and Features

### Android-Kotlin SDK

The recommended implementation for Android applications features:

- Modern plugin architecture for extensibility
- Autocapture capabilities (sessions, app lifecycles, screen views, deep links, element interactions)
- User identification and property management
- Session tracking and management
- Event batching and offline support
- Privacy controls (COPPA compliance)
- Device ID management
- Revenue tracking
- Group identification

### Legacy Android SDK

In maintenance mode without new feature updates, providing:

- Basic event tracking
- User identification
- Revenue tracking
- Session management
- Middleware capabilities
- Offline mode
- Device ID management

### Ampli Wrapper

A layer that sits on top of either SDK, offering:

- Strongly typed API based on Amplitude Data tracking plans
- Autocompletion for events and properties
- Schema enforcement to prevent instrumentation errors
- Methods that map to the underlying SDK functionality

## Key Nomenclature and Definitions

- **Track/LogEvent**: Methods to record user actions and events
- **Identify**: API for setting user properties
- **Device ID**: Unique identifier for a device, with configurable lifecycle management
- **User ID**: Custom identifier for a user that persists across devices
- **Session**: A period of user engagement with the app
- **Event**: A discrete user action or occurrence to be tracked
- **Plugins**: Modular components that extend SDK functionality in the Android-Kotlin SDK
- **Middleware**: Extension points in the legacy Android SDK
- **Tracking Plan**: Schema definition of events and properties in Amplitude Data
- **GroupIdentify/SetGroup**: Methods for identifying and setting properties for groups of users
- **Flush**: Method to immediately send queued events to Amplitude servers
- **LoadOptions**: Configuration options for initializing the Ampli Wrapper
- **EventOptions**: Per-event configuration options

## Product Ecosystem Integration

The Android SDKs integrate with Amplitude's broader analytics platform:

1. They send data to Amplitude's analytics backend for processing and visualization
2. The Ampli Wrapper integrates with Amplitude Data for tracking plan management
3. The SDKs can be used alongside other Amplitude products like Experiment for A/B testing

The Android-Kotlin SDK's plugin architecture enables integration with other services and custom functionality.

## API Endpoints and Commands

### Android-Kotlin SDK

```kotlin
// Initialization
val amplitude = Amplitude(
    Configuration(
        apiKey = "YOUR-API-KEY",
        context = applicationContext
    )
)

// Track events
amplitude.track("Button Clicked", mapOf("buttonColor" to "blue"))

// Identify users
amplitude.identify(
    Identify().set("email", "user@example.com")
)

// Flush events
amplitude.flush()

// Set user ID
amplitude.setUserId("user-123")
```

### Ampli Wrapper

```kotlin
// Initialization
ampli.load(LoadOptions(client = amplitude))

// Track typed events
ampli.songPlayed(
    SongPlayed.Properties(songId = "song-123", songName = "Bohemian Rhapsody")
)

// Identify users
ampli.identify("user-123", Identify().set("plan", "premium"))

// Flush events
ampli.flush()

// CLI Commands
// ampli pull - Pull tracking plan
// ampli status - Check tracking plan status
```

### Migration Commands

When migrating from the legacy SDK to the Android-Kotlin SDK:

1. Update dependency from `com.amplitude:android-sdk` to `com.amplitude:analytics-android`
2. Replace `Amplitude.getInstance().initialize()` with `Amplitude(Configuration())`
3. Replace `logEvent()` with `track()`
4. Replace `uploadEvents()` with `flush()`
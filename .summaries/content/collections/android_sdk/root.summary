# Amplitude Android SDK

## Overview

Amplitude's Android SDK enables developers to track user behavior, identify users, manage sessions, and capture events in Android applications. The product offers two main SDK variants:

1. **Android-Kotlin SDK** (`com.amplitude:analytics-android`) - The modern, actively developed SDK built for Kotlin-first development with full Java support.
2. **Android SDK** (`com.amplitude:android-sdk`) - The legacy SDK in maintenance mode, not receiving new features.

Both SDKs support automatic event capture and manual event tracking with customizable properties, allowing developers to gain insights into user behavior and application performance.

## Product Relationships and Features

### SDK Variants

- **Android-Kotlin SDK**: The current recommended SDK built with a plugin architecture for extensibility. While designed for Kotlin, it fully supports Java applications.
- **Android SDK**: The legacy SDK that remains functional but is in maintenance mode only.
- **Ampli Wrapper**: A code-generated layer that works with either SDK to provide type-safe analytics based on tracking plans defined in Amplitude Data.

### Core Features

**Event Tracking**
- Manual event tracking with custom properties
- Automatic event capture (screen views, app lifecycle events)
- Revenue tracking for purchase events

**User Management**
- User identification with unique IDs
- User property tracking and updates
- Cross-platform identity management

**Session Management**
- Automatic session tracking
- Configurable session timeouts
- Background/foreground transition handling

**Data Management**
- Offline event storage
- Batched event uploading
- Event filtering and transformation

**Privacy Controls**
- EU data residency support
- COPPA compliance options
- Opt-out mechanisms

**Android-Kotlin SDK Specific Features**
- Plugin architecture for extensibility
- Network tracking plugin for HTTP request monitoring
- Element interaction tracking
- Improved configuration API
- Enhanced type safety with Kotlin

## Key Nomenclature and Definitions

- **Ampli Wrapper**: Code-generated SDK wrapper providing type-safe analytics based on tracking plans
- **Tracking Plan**: Schema defining expected events and their properties
- **Device ID**: Unique identifier for the device, persisted across app installations
- **User ID**: Custom identifier set by the application to identify a specific user
- **Event**: Action or occurrence tracked in the application
- **Identify**: Operations that update user properties without sending events
- **Group**: Collection of users that can be analyzed together
- **Session**: Period of continuous user engagement with the app
- **Middleware**: Components that intercept and modify events before sending
- **Plugin**: Modular components extending SDK functionality in the Android-Kotlin SDK
- **Flush**: Process of sending batched events to Amplitude servers

## Product Ecosystem Integration

The Android SDKs integrate with the broader Amplitude ecosystem:

1. **Amplitude Analytics**: The SDKs send data to Amplitude Analytics for visualization and analysis
2. **Amplitude Data**: Provides tracking plans used with the Ampli Wrapper for type-safe analytics
3. **Experiment**: Can be used alongside the SDKs for A/B testing and feature flagging
4. **Cross-Platform Identity**: Supports Amplitude's cross-platform user identity system

The Ampli Wrapper connects with Amplitude Data through the `ampli` CLI tool, which pulls tracking plan updates and checks implementation status.

## API Methods and Commands

### Android-Kotlin SDK Key Methods

```kotlin
// Initialization
val amplitude = Amplitude(Configuration(
    apiKey = "YOUR-API-KEY",
    context = applicationContext
))

// Event tracking
amplitude.track("Event Name", mapOf("property" to "value"))

// User identification
amplitude.setUserId("user@example.com")
amplitude.identify(Identify().set("property", "value"))

// Group operations
amplitude.setGroup("groupType", "groupName")
amplitude.groupIdentify("groupType", "groupName", Identify().set("property", "value"))

// Flush events
amplitude.flush()
```

### Ampli CLI Commands

```bash
# Pull tracking plan updates
ampli pull

# Check implementation status
ampli status
```

### Migration Path

When migrating from the legacy Android SDK to the Android-Kotlin SDK, developers need to:

1. Update dependencies from `com.amplitude:android-sdk` to `com.amplitude:analytics-android`
2. Replace initialization code with the new Configuration object
3. Update method calls according to the new API (e.g., `logEvent()` to `track()`)
4. Adapt to the new plugin architecture for custom functionality
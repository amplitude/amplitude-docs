# Amplitude Android SDK Product Overview

## Product Overview

Amplitude offers analytics tracking solutions for Android applications through two main SDK variants:

1. **Android-Kotlin SDK** (`com.amplitude:analytics-android`) - The current, actively developed SDK that provides modern features and a plugin-based architecture.
2. **Android SDK** (`com.amplitude:android-sdk`) - The legacy SDK that is in maintenance mode and not actively developed.

Additionally, Amplitude provides the **Ampli Wrapper** for both SDKs, which generates type-safe code based on tracking plans defined in Amplitude Data.

## Key Features and Concepts

### Core Analytics Capabilities
- **Event Tracking**: Record user actions and behaviors
- **User Identification**: Associate events with specific users
- **Session Management**: Track user engagement sessions
- **Revenue Tracking**: Monitor in-app purchases and revenue events
- **Group Analytics**: Analyze user behavior within organizational groups
- **Offline Mode**: Queue events when offline for later transmission

### Advanced Features
- **Autocapture**: Automatically track:
  - Element interactions (clicks, taps)
  - Screen views
  - App lifecycle events (start, stop, background)
  - Deep links
- **Plugin Architecture**: Extend functionality through custom plugins
- **EU Data Residency**: Option to route data to EU servers
- **COPPA Compliance**: Controls for children's privacy protection
- **Device ID Management**: Options for device identification

## Product Relationships and Architecture

### SDK Hierarchy
- **Android-Kotlin SDK**: The recommended, modern implementation
  - Supports both Kotlin and Java
  - Plugin-based architecture for extensibility
  - Enhanced autocapture capabilities
  - Improved configuration options

- **Android SDK (Legacy)**: Maintenance-only implementation
  - Still functional but not receiving new features
  - Compatible with both Java and Kotlin
  - Being phased out in favor of Android-Kotlin SDK

- **Ampli Wrapper**: Code generation layer
  - Available for both SDK variants
  - Provides type-safe API based on tracking plans
  - Enforces event schemas to prevent instrumentation errors

### Integration with Amplitude Ecosystem
- Works with **Amplitude Data** for tracking plan management
- Supports the **Amplitude HTTP V2 API** for event transmission
- Compatible with Amplitude's analytics dashboard for visualization and analysis

## Key Nomenclature and Definitions

- **Tracking Plan**: A schema that defines expected events and their properties
- **Event**: A user action or occurrence that is tracked (e.g., button click, page view)
- **User Properties**: Attributes associated with a user (e.g., name, email)
- **Device ID**: Unique identifier for a device
- **User ID**: Custom identifier for a user, typically from your authentication system
- **Session**: A period of continuous user engagement with the app
- **Group**: An organization or collection of users (e.g., company, team)
- **Plugin**: Modular component that extends SDK functionality
- **Middleware**: Components that can intercept and modify events before processing
- **Flush**: The process of sending queued events to Amplitude servers

## API and Implementation Details

### Android-Kotlin SDK

**Initialization:**
```kotlin
val amplitude = Amplitude(
    Configuration(
        apiKey = "YOUR-API-KEY",
        context = applicationContext
    )
)
```

**Key Methods:**
- `track(event)`: Record an event
- `identify(identify)`: Set or update user properties
- `setUserId(userId)`: Identify a user
- `flush()`: Send queued events immediately
- `groupIdentify(groupType, groupName, identify)`: Set group properties
- `setGroup(groupType, groupName)`: Associate user with a group

### Ampli Wrapper

**Initialization:**
```kotlin
ampli.load(Ampli.LoadOptions()
    .client(amplitude)
)
```

**Key Methods:**
- `ampli.identify(userId, identifyObj)`: Identify users with strongly-typed properties
- `ampli.track(EventObj)`: Track strongly-typed events
- `ampli.flush()`: Send events immediately
- `ampli.groupIdentify()`: Set group properties with type safety

### CLI Commands for Ampli

- `ampli pull`: Pull the latest tracking plan
- `ampli status`: Check tracking plan implementation status

## Migration Path

When migrating from the legacy Android SDK to the Android-Kotlin SDK:

1. Update dependencies from `com.amplitude:android-sdk` to `com.amplitude:analytics-android`
2. Replace initialization code with the new Configuration object
3. Update method calls according to the mapping:
   - `logEvent()` → `track()`
   - `uploadEvents()` → `flush()`
   - `setUserProperties()` → `identify()`
4. Adapt to new plugin architecture for custom functionality
5. Review storage provider implementation for data migration

The Android-Kotlin SDK maintains backward compatibility for most core functionality while providing a more modern, extensible architecture.
## Amplitude Browser SDK Product Ecosystem

The Amplitude Browser SDK is a comprehensive analytics tracking solution for web applications, offering multiple SDK versions and specialized tools for event tracking, user analytics, and marketing attribution. The ecosystem centers around strongly-typed JavaScript/TypeScript SDKs that integrate with Amplitude's HTTP V2 API for robust web analytics.

## Product Architecture and Relationships

### Core SDK Offerings

**Browser SDK 2.0** (`@amplitude/analytics-browser`) represents the current flagship offering, featuring built-in autocapture functionality for comprehensive user interaction tracking including page views, sessions, form interactions, file downloads, element interactions, and network requests. This SDK includes integrated marketing attribution tracking with automatic UTM parameter capture, referrer tracking, and click ID collection (gclid, fbclid, dclid).

**Browser SDK 1.0** operates in maintenance mode, providing the foundational analytics capabilities without the advanced autocapture features of version 2.0. Both SDKs utilize the HTTP V2 API and support TypeScript/JavaScript implementations.

**Legacy JavaScript SDK** (`amplitude-js`) remains available in maintenance mode for existing implementations, though migration to Browser SDK 2.0 is recommended for new projects.

### Specialized Extensions

**Marketing Analytics Browser SDK** (`@amplitude/marketing-analytics-browser`) extends the core Browser SDK with enhanced marketing attribution capabilities, though it's now in maintenance mode with functionality consolidated into Browser SDK 2.0's default tracking features.

**Unified SDK** (`@amplitude/unified`) provides a single initialization point for Analytics, Experiment, and Session Replay products through the `initAll()` method, optimizing bundle size and configuration management across the Amplitude product suite.

### Code Generation and Type Safety

**Ampli Wrappers** generate strongly-typed APIs from Amplitude Data tracking plans, available for Browser SDK 1.0, 2.0, and JavaScript SDK implementations. These wrappers use the Ampli CLI with `ampli pull` and `ampli status` commands to synchronize tracking schemas and provide compile-time type checking for event properties.

## Key Nomenclature and Definitions

### Core Tracking Concepts

- **deviceId**: Persistent identifier stored in cookies with AMP_ prefix and API key suffix
- **userId**: User-specific identifier for cross-session tracking
- **sessionId**: Temporary identifier for user session management
- **Autocapture**: Automatic tracking of user interactions without manual instrumentation
- **Default Tracking**: Built-in event collection for attribution, page views, sessions, and interactions

### Cookie and Storage Management

The SDK implements a sophisticated cookie system using the `AMP_{api_key}` naming convention for first-party cookies. Marketing attribution data uses `AMP_MKTG_{api_key}` prefixes. The `identityStorage` configuration supports multiple storage backends including cookies, localStorage, sessionStorage, or none for cookieless implementations.

### Plugin Architecture

The SDK employs a plugin system with two primary types:
- **Enrichment Plugins**: Modify event data before transmission
- **Destination Plugins**: Handle event delivery to endpoints

Notable plugins include the Page URL Enrichment plugin for automatic URL property addition and the deprecated Autocapture plugin (functionality now built into Browser SDK 2.0).

### Event Tracking Methods

Core API methods include:
- `track()`: Log custom events with properties
- `identify()`: Set user properties using Identify objects
- `flush()`: Force immediate event transmission
- `load()`/`init()`: SDK initialization with configuration
- `setGroup()`: Assign users to groups for organizational tracking

## Integration Patterns and Configuration

### Consent Management and GDPR Compliance

The SDK provides comprehensive consent management through deferred initialization patterns, supporting GDPR compliance and CNIL France exemptions for first-party analytics cookies. The `deferInitialization` option combined with `enableTracking()` enables consent-first implementations.

### Transport and Performance Options

Multiple transport mechanisms support various deployment scenarios:
- **sendBeacon**: Browser-native reliable event transmission
- **fetch/xhr**: Standard HTTP transport methods
- **Batch processing**: Configurable via `flushQueueSize` and `flushIntervalMillis`

### Cross-Domain and Attribution Tracking

Advanced features include cross-domain tracking via shared deviceId parameters, UTM parameter preservation, and campaign-based session management through `resetSessionOnNewCampaign` configuration.

### Content Security Policy and Security

The SDK supports Content Security Policy (CSP) implementations with configurable security headers and provides secure cookie options including `sameSite` and `secure` flags for enhanced privacy protection.

## Migration Pathways

The documentation provides comprehensive migration guides for transitioning between SDK versions, addressing breaking changes in API methods, configuration options, and architectural differences. Key migration paths include moving from the legacy JavaScript SDK to Browser SDK 2.0, upgrading from Browser SDK 1.0 to 2.0, and consolidating Marketing Analytics SDK functionality into the unified Browser SDK 2.0 offering.

The ecosystem emphasizes backward compatibility where possible while encouraging adoption of the latest Browser SDK 2.0 for optimal feature availability and long-term support.
## Amplitude Browser SDK Product Ecosystem

The Amplitude Browser SDK is a comprehensive analytics tracking solution for web applications, offering multiple SDK versions and specialized tools for event tracking, user analytics, and marketing attribution. The ecosystem centers around strongly-typed JavaScript/TypeScript SDKs that integrate with Amplitude's HTTP V2 API for robust web analytics.

## Product Architecture and Relationships

### Core SDK Evolution
The product ecosystem follows a clear evolutionary path with three main SDK generations:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK providing basic event tracking through `amplitude.getInstance()` patterns and `logEvent()` methods. This SDK uses the legacy HTTP API and serves as the foundation for migration paths.

**Browser SDK 1.0 (@amplitude/analytics-browser v1)** - The first modern TypeScript implementation featuring HTTP V2 API integration, plugin architecture, and unified `track()` APIs. This version introduced strongly-typed event handling and modular plugin systems while maintaining maintenance mode status.

**Browser SDK 2.0 (@amplitude/analytics-browser v2+)** - The current flagship SDK offering enhanced autocapture functionality, consolidated marketing attribution, server-side user agent parsing, and streamlined configuration options. This version provides the most comprehensive feature set including automatic page view tracking, session management, and form interaction capture.

### Specialized SDK Variants

**Marketing Analytics Browser SDK (@amplitude/marketing-analytics-browser)** - A maintenance-mode extension focused on automatic marketing attribution tracking, UTM parameter capture, referrer analysis, and click ID tracking (gclid, fbclid, dclid). This SDK provides first-touch and multi-touch attribution capabilities with campaign-based session management.

**Browser Unified SDK (@amplitude/unified)** - A beta integration layer providing unified access to Analytics, Experiment, and Session Replay features through a single `initAll()` initialization method with shared configuration options.

### Code Generation and Type Safety

**Ampli Wrapper System** - Generates strongly-typed JavaScript/TypeScript APIs from Amplitude Data tracking plans across all SDK versions (1.0, 2.0, and JavaScript SDK). The Ampli CLI provides `pull` and `status` commands for synchronizing tracking schemas, while generated wrappers offer `load()`, `identify()`, `track()`, and `flush()` methods with compile-time type checking and autocompletion.

## Key Nomenclature and Definitions

### Core Tracking Concepts
- **deviceId**: Persistent browser identifier stored in cookies with AMP_ prefix
- **sessionId**: Temporary session identifier for grouping related events
- **userId**: Custom user identifier for cross-device tracking
- **Autocapture**: Automatic tracking of page views, sessions, form interactions, file downloads, and element interactions
- **defaultTracking**: Configuration object controlling automatic event collection in SDK 2.0

### Cookie and Storage Management
- **AMP_{api_key}**: Cookie naming convention combining AMP prefix with API key
- **AMP_MKTG_{api_key}**: Marketing attribution cookie storage
- **identityStorage**: Configuration for storage backend (cookies, localStorage, sessionStorage, none)
- **cookieOptions**: Consolidated cookie configuration including expiration, secure, sameSite, and domain settings

### Plugin Architecture
- **EnrichmentPlugin**: Plugins that modify event data before transmission
- **DestinationPlugin**: Plugins that handle event delivery to endpoints
- **Plugin Interface**: Simplified plugin structure with optional properties in SDK 2.0

### Attribution and Marketing
- **Web Attribution V1/V2**: Marketing attribution tracking systems with UTM parameter capture
- **resetSessionOnNewCampaign**: Configuration for campaign-based session management
- **excludeReferrers**: Referrer filtering for attribution accuracy
- **trackHistoryChanges**: Single-page application navigation tracking

## Integration Patterns and API Endpoints

### Initialization Methods
- **amplitude.init(apiKey, options)**: Standard SDK initialization
- **initAll()**: Unified SDK initialization for multiple Amplitude products
- **deferInitialization**: Consent management pattern for GDPR compliance

### Event Tracking APIs
- **amplitude.track(eventType, eventProperties)**: Primary event tracking method
- **amplitude.identify(identifyObject)**: User property management
- **amplitude.revenue(revenueObject)**: Revenue event tracking
- **amplitude.flush()**: Force event queue transmission

### Advanced Configuration
- **flushQueueSize/flushIntervalMillis**: Batch processing configuration
- **sendBeacon**: Browser beacon API transport for reliable delivery
- **serverZone**: EU data residency configuration
- **trackingOptions**: Granular control over automatic data collection

### Plugin Management
- **amplitude.add(plugin)**: Plugin registration for SDK extensions
- **autocapturePlugin()**: Built-in autocapture functionality configuration

## Compliance and Privacy Features

The SDK ecosystem provides comprehensive privacy and compliance capabilities including GDPR consent management through deferred initialization patterns, CNIL France exemption handling for analytics cookies, opt-out mechanisms via `setOptOut()` methods, and configurable data retention policies. Cookie management supports secure, SameSite, and cross-domain configurations with automatic fallback to localStorage when cookies are disabled.

## Migration and Maintenance Strategy

The product ecosystem maintains clear migration paths between SDK versions with detailed breaking change documentation, configuration mapping guides, and API transformation instructions. The legacy JavaScript SDK and Browser SDK 1.0 operate in maintenance mode, encouraging migration to Browser SDK 2.0 for access to the latest features including enhanced autocapture, consolidated attribution tracking, and improved plugin architecture.
## Amplitude Browser SDK Product Ecosystem

The Amplitude Browser SDK is a comprehensive analytics tracking solution for web applications, offering multiple SDK versions and specialized tools for event tracking, user analytics, and marketing attribution. The ecosystem centers around strongly-typed JavaScript/TypeScript SDKs that integrate with Amplitude's HTTP V2 API for robust web analytics.

## Product Architecture and Relationships

### Core SDK Evolution
The product ecosystem follows a clear evolutionary path with three main SDK generations:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK providing basic event tracking, user identification, and analytics capabilities through `amplitude.getInstance()` patterns and `logEvent()` methods.

**Browser SDK 1.0 (@amplitude/analytics-browser v1)** - The first modern TypeScript/JavaScript SDK introducing HTTP V2 API integration, plugin architecture, and unified `track()` APIs replacing legacy `logEvent()` variants.

**Browser SDK 2.0 (@amplitude/analytics-browser v2+)** - The current flagship SDK featuring built-in autocapture functionality, consolidated marketing attribution tracking, simplified configuration patterns, and enhanced plugin interfaces.

### Specialized Extensions
**Marketing Analytics Browser SDK (@amplitude/marketing-analytics-browser)** - A maintenance-mode extension providing automatic marketing attribution tracking for UTM parameters, referrers, and click IDs with campaign-based session management.

**Browser Unified SDK (@amplitude/unified)** - A beta integration layer providing single entry point initialization for Analytics, Experiment, and Session Replay through `initAll()` methods with shared configuration.

### Code Generation Tools
**Ampli Wrappers** - Strongly-typed API generators creating JavaScript/TypeScript tracking functions from Amplitude Data tracking plans, available for JavaScript SDK, Browser SDK 1.0, and Browser SDK 2.0 with CLI commands (`ampli pull`, `ampli status`) and core methods (`ampli.load()`, `ampli.identify()`, `ampli.track()`, `ampli.flush()`).

## Key Nomenclature and Definitions

### Core Tracking Concepts
- **deviceId** - Unique device identifier persisted in cookies with AMP_ prefix
- **userId** - User identifier for cross-device tracking, Base64 encoded in cookies
- **sessionId** - Session identifier for grouping events within user sessions
- **Autocapture** - Built-in tracking for page views, sessions, form interactions, file downloads, and element interactions
- **defaultTracking** - Configuration object controlling automatic event collection

### Cookie and Storage Management
- **AMP_{api_key}** - Cookie naming convention using API key suffix
- **AMP_MKTG_{api_key}** - Marketing attribution cookie storage
- **identityStorage** - Storage configuration supporting cookies, localStorage, sessionStorage, or none
- **cookieOptions** - Configuration for expiration, secure flags, sameSite policies, and domain settings

### Plugin Architecture
- **EnrichmentPlugin** - Plugins that modify event data before transmission
- **DestinationPlugin** - Plugins that handle event delivery to endpoints
- **Plugin Interface** - Simplified architecture with optional properties for extensibility

### Attribution and Marketing
- **Web Attribution V1/V2** - Marketing attribution tracking systems for UTM parameters and campaign data
- **UTM Parameters** - Campaign tracking parameters (utm_source, utm_medium, utm_campaign, etc.)
- **Click IDs** - Platform-specific identifiers (gclid, fbclid, dclid) for attribution
- **First-touch/Multi-touch Attribution** - Attribution models for campaign effectiveness

## Broader Product Ecosystem Integration

The Browser SDK ecosystem integrates with several Amplitude platform components:

**Amplitude Data** - Provides tracking plan schemas for Ampli wrapper generation, ensuring type-safe event tracking and schema enforcement across development teams.

**HTTP V2 API** - Modern API endpoint supporting batch event transmission, enhanced payload structures, and improved performance characteristics.

**Session Replay** - Integrated through the Unified SDK for comprehensive user behavior analysis combining analytics events with session recordings.

**Experiment** - A/B testing platform accessible through unified initialization patterns for coordinated feature flagging and analytics tracking.

**GDPR/CNIL Compliance** - Built-in consent management supporting deferred initialization, opt-out mechanisms, and regulatory compliance for EU data residency through `serverZone` configuration.

## API Endpoints and Command Line Interfaces

### CLI Commands
- `ampli pull` - Downloads tracking plan schemas and generates strongly-typed tracking code
- `ampli status` - Verifies tracking plan synchronization and implementation status

### Core SDK Methods
- `amplitude.init(apiKey, options)` - SDK initialization with configuration
- `amplitude.track(eventType, eventProperties)` - Event tracking with properties
- `amplitude.identify(identify)` - User property updates using Identify objects
- `amplitude.setUserId(userId)` - User identification for cross-device tracking
- `amplitude.setDeviceId(deviceId)` - Custom device identifier assignment
- `amplitude.flush()` - Force event queue transmission
- `amplitude.reset()` - Clear user data and reset tracking state

### Configuration Parameters
- `flushQueueSize` / `flushIntervalMillis` - Event batching and transmission timing
- `trackingOptions` - Granular control over automatic property collection
- `serverZone` - EU data residency and regional endpoint selection
- `sendBeacon` - Browser beacon API for reliable event transmission
- `cookieExpiration` - Cookie persistence duration configuration

### Plugin Integration
- `amplitude.add(plugin)` - Plugin registration for enrichment or destination handling
- `autocapturePlugin()` - Built-in autocapture functionality configuration
- `pageUrlEnrichmentPlugin()` - Automatic page URL property enrichment

The ecosystem supports multiple installation methods including script loader integration, npm/yarn package management, and CDN-based implementations, with comprehensive migration paths between SDK versions and legacy system upgrades.
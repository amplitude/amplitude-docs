## Amplitude Browser SDK Product Ecosystem

Amplitude's Browser SDK is a comprehensive analytics platform for web applications that has evolved through multiple generations, currently centered around Browser SDK 2.0 as the primary offering. The ecosystem provides strongly-typed event tracking, user analytics, marketing attribution, and advanced features like autocapture and session replay through a modular plugin architecture.

## Product Relationships and Evolution

The Browser SDK ecosystem consists of three main SDK generations with clear migration paths:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK that uses the getInstance() pattern and older HTTP API endpoints. This SDK is being phased out in favor of newer versions.

**Browser SDK 1.0** - An intermediate version that introduced the modern plugin architecture and HTTP V2 API while maintaining some legacy compatibility patterns.

**Browser SDK 2.0 (@amplitude/analytics-browser)** - The current flagship SDK featuring built-in autocapture, consolidated marketing attribution, simplified configuration, and server-side user agent parsing.

**Specialized Extensions:**
- **Marketing Analytics Browser SDK** - A maintenance-mode extension focused on automatic UTM parameter tracking and campaign attribution
- **Browser Unified SDK (@amplitude/unified)** - A beta integration layer that provides unified access to Analytics, Experiment, and Session Replay through a single initialization point

## Key Nomenclature and Definitions

**Ampli Wrapper** - Code generation tool that creates strongly-typed JavaScript/TypeScript APIs from Amplitude Data tracking plans, available for all SDK versions with CLI commands (`ampli pull`, `ampli status`) and core methods (`load()`, `identify()`, `track()`, `flush()`)

**Autocapture** - Built-in functionality in Browser SDK 2.0+ that automatically tracks user interactions including:
- Page views and navigation changes
- Form submissions and interactions  
- File downloads
- Element interactions (clicks, changes)
- Network requests
- Marketing attribution (UTM parameters, click IDs)

**Plugin Architecture** - Extensible system supporting two plugin types:
- **Enrichment Plugins** - Modify events before sending (e.g., user agent parsing, URL enrichment)
- **Destination Plugins** - Handle event delivery and storage

**Cookie Management** - Persistent storage system using `AMP_{api_key}` naming convention for:
- `deviceId` - Unique device identifier
- `sessionId` - Session tracking
- `userId` - User identification (Base64 encoded)
- Marketing cookies with `AMP_MKTG_` prefix for UTM parameters and click IDs

**Identity Storage Options** - Configurable storage mechanisms:
- `cookies` (default) - Browser cookies with configurable expiration
- `localStorage` - Persistent browser storage
- `sessionStorage` - Session-scoped storage  
- `none` - Memory-only storage

## Core API Methods and Configuration

**Initialization:**
```javascript
amplitude.init('API_KEY', 'user@example.com', options)
```

**Event Tracking:**
- `track(eventType, eventProperties)` - Log custom events
- `identify(identifyObject)` - Set user properties
- `revenue(revenueObject)` - Track revenue events
- `flush()` - Force send queued events

**User Management:**
- `setUserId(userId)` - Set user identifier
- `setDeviceId(deviceId)` - Set device identifier  
- `setGroup(groupType, groupName)` - Set user groups
- `reset()` - Clear user data and generate new device ID

**Configuration Options:**
- `serverZone` - Data residency (US/EU)
- `flushQueueSize` - Batch size for event sending
- `flushIntervalMillis` - Automatic flush interval
- `sessionTimeout` - Session expiration time
- `trackingOptions` - Control which properties to track
- `cookieOptions` - Cookie configuration (expiration, domain, secure, sameSite)

## Plugin Ecosystem

**Built-in Plugins:**
- **Web Attribution Plugin** - Marketing attribution tracking
- **Autocapture Plugin** - Automatic interaction tracking (deprecated standalone, now built-in)

**Official Extension Plugins:**
- `@amplitude/plugin-user-agent-enrichment-browser` - Server-side user agent parsing
- `@amplitude/plugin-page-url-enrichment-browser` - Automatic page URL property enrichment

## Compliance and Privacy Features

**Consent Management:**
- Deferred initialization patterns for GDPR compliance
- `optOut` functionality to disable tracking
- Cookie-less operation modes
- CNIL France exemption support for first-party analytics cookies

**Data Controls:**
- 13-month cookie expiration limits
- 25-month data retention policies
- Cross-domain tracking controls
- Content Security Policy (CSP) compatibility
- User Privacy API integration

## Transport and Delivery

**Transport Methods:**
- `sendBeacon` - Browser beacon API for reliable delivery
- `xhr` - Standard XMLHttpRequest
- `fetch` - Modern fetch API

**Offline Support:**
- Automatic event queuing during network outages
- Configurable retry mechanisms
- Local storage fallbacks for event persistence

The Browser SDK ecosystem represents Amplitude's comprehensive approach to web analytics, providing migration paths from legacy implementations while introducing modern features like autocapture, unified product integration, and enhanced privacy controls. The modular plugin architecture allows for extensibility while maintaining performance and compliance with modern web standards.
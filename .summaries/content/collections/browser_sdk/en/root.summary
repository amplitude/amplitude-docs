# Amplitude Browser SDK Product Overview

## Product Overview

Amplitude's Browser SDK is a JavaScript/TypeScript library designed for tracking user events and analytics in web applications. The product has evolved through several versions, with Browser SDK 2.0 being the current recommended version, while older versions (Browser SDK 1.0 and JavaScript SDK) are in maintenance mode.

The Browser SDK enables developers to track user interactions, manage user identities, capture sessions, track revenue, and attribute marketing campaigns. It supports both traditional websites and single-page applications (SPAs) with features like autocapture, cross-domain tracking, and offline event collection.

Key use cases include:
- Product analytics tracking
- User behavior analysis
- Marketing attribution
- Revenue tracking
- Cross-domain user journey analysis

## Product Relationships and Features

### SDK Versions and Relationships

1. **Browser SDK 2.0** (@amplitude/analytics-browser)
   - Current recommended version
   - Includes built-in autocapture (since v2.10.0)
   - Consolidated marketing attribution tracking
   - Simplified cookie management
   - Server-side user agent parsing
   - Streamlined plugin interface

2. **Browser SDK 1.0** (@amplitude/analytics-browser)
   - Maintenance mode
   - Predecessor to Browser SDK 2.0
   - Introduced plugin architecture

3. **JavaScript SDK** (amplitude-js)
   - Legacy SDK in maintenance mode
   - Older architecture without plugin support

4. **Marketing Analytics Browser SDK**
   - Specialized SDK for marketing attribution
   - Functionality now consolidated into Browser SDK 2.0

5. **Ampli Wrapper**
   - Available for all SDK versions
   - Provides strongly typed API based on tracking plans
   - Supports TypeScript and JavaScript

### Core Features

1. **Event Tracking**
   - Basic event tracking via `track()` method
   - Revenue tracking
   - Automatic session tracking
   - Batch event processing

2. **User Management**
   - User identification via `identify()` method
   - User properties management
   - User groups via `setGroup()` method
   - Device ID management

3. **Autocapture**
   - Automatic tracking of element interactions
   - Configurable via `defaultTracking.elementInteractions`
   - Previously available as a plugin, now built into Browser SDK 2.0

4. **Marketing Attribution**
   - UTM parameter tracking
   - Click ID tracking
   - Referrer tracking
   - First-touch and multi-touch attribution
   - Page view tracking

5. **Advanced Features**
   - Cross-domain tracking
   - Offline mode
   - Plugin architecture
   - Content Security Policy (CSP) compatibility
   - EU data residency support
   - Ad blocker mitigation

## Key Nomenclature and Definitions

- **Ampli Wrapper**: A code-generated wrapper that provides type-safe event tracking based on a tracking plan defined in Amplitude Data.

- **Autocapture**: Functionality that automatically tracks user interactions with elements on a webpage without manual instrumentation.

- **Device ID**: A unique identifier for a user's device, stored in cookies or localStorage.

- **Event**: A user action or occurrence tracked in Amplitude, containing properties that describe the action.

- **Identity Storage**: Configuration option that determines where user identity information is stored (cookies, localStorage, or none).

- **Plugin**: Modular components that extend SDK functionality, following a middleware pattern.

- **SendBeacon**: Browser API used for reliable event sending, especially during page unload.

- **Session**: A period of user activity, typically ending after a period of inactivity.

- **Tracking Plan**: A schema that defines events and their properties, created in Amplitude Data.

- **User Properties**: Attributes associated with a user that persist across sessions.

- **UTM Parameters**: Marketing tracking parameters (source, medium, campaign, etc.) used for attribution.

## Product Ecosystem Integration

The Browser SDK integrates with the broader Amplitude ecosystem:

1. **Amplitude Data**: The Browser SDK works with tracking plans defined in Amplitude Data, especially when using the Ampli Wrapper.

2. **Amplitude Analytics**: All events tracked by the Browser SDK are sent to Amplitude Analytics for analysis.

3. **Amplitude Experiment**: The Browser SDK can be used alongside Amplitude Experiment for A/B testing.

4. **Amplitude CDP**: The Browser SDK can be part of a Customer Data Platform strategy, collecting web data for unified customer profiles.

## API Endpoints and Commands

### SDK Initialization

```javascript
// Browser SDK 2.0 initialization
import { init } from '@amplitude/analytics-browser';
init('API_KEY', 'user_id', {
  // Configuration options
});
```

### Core API Methods

- `track(eventName, eventProperties)`: Track an event
- `identify(identifyObj)`: Set user properties
- `setGroup(groupType, groupName)`: Associate user with a group
- `flush()`: Force send events in the queue
- `setUserId(userId)`: Set the user ID
- `reset()`: Reset the user ID and device ID

### Ampli CLI Commands

- `ampli pull`: Pull the tracking plan from Amplitude Data
- `ampli status`: Check the status of the local tracking plan

### Plugin Interface

```javascript
// Example plugin for Browser SDK 2.0
const plugin = {
  name: 'custom-plugin',
  setup: (config) => {
    // Setup code
    return config;
  },
  execute: (context) => {
    // Execution code
    return context;
  }
};
```

### Configuration Options

```javascript
// Browser SDK 2.0 configuration example
init('API_KEY', 'user_id', {
  defaultTracking: {
    pageViews: true,
    sessions: true,
    formInteractions: false,
    fileDownloads: true,
    elementInteractions: true
  },
  identityStorage: 'localStorage',
  flushQueueSize: 30,
  flushIntervalMillis: 10000,
  trackingOptions: {
    ipAddress: true,
    language: true,
    platform: true
  }
});
```

The Browser SDK provides a comprehensive solution for web analytics, with the latest version (Browser SDK 2.0) consolidating functionality from previous specialized SDKs into a single, powerful package.
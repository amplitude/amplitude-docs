## Amplitude Browser SDK Product Ecosystem

The Amplitude Browser SDK is a comprehensive JavaScript/TypeScript analytics platform designed for web applications, providing event tracking, user identification, and marketing attribution capabilities. The ecosystem consists of multiple SDK versions, specialized plugins, and code generation tools that work together to deliver robust analytics functionality.

## Product Architecture and Relationships

### Core SDK Evolution
The product ecosystem centers around three main SDK generations:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK that uses the getInstance() pattern and HTTP V1 API. This SDK is being phased out in favor of newer versions.

**Browser SDK 1.0 (@amplitude/analytics-browser v1)** - The first-generation modern SDK that introduced the HTTP V2 API, plugin architecture, and TypeScript support. This version is now in maintenance mode.

**Browser SDK 2.0 (@amplitude/analytics-browser v2+)** - The current flagship SDK featuring built-in autocapture functionality, consolidated marketing attribution, server-side user agent parsing, and enhanced cookie management.

### Specialized SDKs and Extensions

**Marketing Analytics Browser SDK (@amplitude/marketing-analytics-browser)** - A maintenance-mode extension that adds comprehensive marketing attribution tracking including UTM parameters, referrer data, and click ID capture.

**Browser Unified SDK (@amplitude/unified)** - A beta integration layer that provides unified access to Analytics, Experiment, and Session Replay features through a single initialization point.

### Code Generation and Type Safety

**Ampli Wrapper System** - Generates strongly-typed JavaScript/TypeScript APIs from Amplitude Data tracking plans, available for all SDK versions. Uses the Ampli CLI with commands like `ampli pull` and `ampli status` to synchronize with tracking schemas.

## Key Nomenclature and Definitions

### Core Tracking Concepts
- **Event Tracking**: Primary analytics function using `track()` method (modern SDKs) or `logEvent()` (legacy)
- **User Identification**: User property management through `identify()` method and Identify interface
- **Revenue Tracking**: Specialized tracking using Revenue interface and `revenue()` method
- **Group Properties**: Organization-level tracking via `groupIdentify()` and `setGroup()`

### Cookie and Storage Management
- **AMP_ Prefix**: Standard cookie naming convention using `AMP_{api_key}` format
- **AMP_MKTG_ Prefix**: Marketing attribution cookies for UTM and campaign data
- **Identity Storage**: Configurable storage backend (cookies, localStorage, sessionStorage, none)
- **Device ID**: Persistent user identifier across sessions
- **Session ID**: Temporary identifier for user sessions

### Plugin Architecture
- **Enrichment Plugins**: Add data to events before sending (e.g., user agent, page URL)
- **Destination Plugins**: Handle event transmission and routing
- **Plugin Interface**: Standardized plugin structure with setup, execute, and teardown methods

### Autocapture and Default Tracking
- **Autocapture**: Automatic tracking of user interactions without manual instrumentation
- **Default Tracking**: Built-in tracking for page views, sessions, form interactions, file downloads
- **Element Interactions**: Automatic tracking of clicks and interactions with configurable CSS selectors
- **Network Request Tracking**: Automatic monitoring of HTTP requests and responses

## Integration in Broader Product Ecosystem

### Data Pipeline Integration
The Browser SDK integrates with Amplitude's broader analytics platform through:
- **HTTP V2 API**: Modern event ingestion endpoint with batching and retry logic
- **Server Zones**: Support for EU data residency requirements
- **Remote Configuration**: Dynamic SDK configuration from Amplitude servers

### Cross-Product Integration
- **Amplitude Data**: Schema management and tracking plan enforcement through Ampli wrappers
- **Amplitude Experiment**: Feature flagging integration via Unified SDK
- **Session Replay**: User session recording integration via Unified SDK
- **Marketing Attribution**: First-party data collection for campaign attribution

### Third-Party Integrations
- **Consent Management Platforms**: GDPR/CNIL compliance through deferred initialization
- **Content Security Policy**: CSP-compatible implementation options
- **Google Tag Manager**: Container-based deployment support
- **RequireJS/AMD**: Module system compatibility

## API Endpoints and CLI Commands

### Core SDK Methods
- `amplitude.init(apiKey, options)` - SDK initialization
- `amplitude.track(eventType, eventProperties)` - Event tracking
- `amplitude.identify(identifyObject)` - User property updates
- `amplitude.revenue(revenueObject)` - Revenue tracking
- `amplitude.flush()` - Force event queue transmission
- `amplitude.reset()` - Clear user data and reset state

### Ampli CLI Commands
- `ampli pull` - Download tracking plan and generate typed APIs
- `ampli status` - Verify implementation against tracking plan
- Generated methods like `ampli.songPlayed(properties)` for type-safe event tracking

### Plugin Management
- `amplitude.add(plugin)` - Register plugins with SDK
- Plugin-specific methods like `pageUrlEnrichmentPlugin()` and `autocapturePlugin()`

### Configuration Options
- **Transport**: `sendBeacon`, `xhr`, `fetch` options for event transmission
- **Batching**: `flushQueueSize`, `flushIntervalMillis` for performance optimization
- **Tracking Options**: Granular control over data collection (IP, user agent, referrer)
- **Cookie Options**: Expiration, security, SameSite, and domain configuration

The ecosystem provides comprehensive migration paths between versions, extensive plugin extensibility, and robust consent management capabilities, making it suitable for enterprise-scale web analytics implementations while maintaining developer-friendly APIs and strong TypeScript support.
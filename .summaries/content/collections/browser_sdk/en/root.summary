## Amplitude Browser SDK Product Ecosystem

The Amplitude Browser SDK is a comprehensive analytics tracking solution for web applications, offering multiple SDK versions and specialized tools for event tracking, user analytics, and marketing attribution. The ecosystem centers around strongly-typed JavaScript/TypeScript libraries that integrate with Amplitude's analytics platform.

## Product Architecture and Relationships

### Core SDK Evolution
The product ecosystem follows a clear evolutionary path:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK using HTTP V1 API with `getInstance()` patterns and `logEvent()` methods.

**Browser SDK 1.0** (`@amplitude/analytics-browser@1.x`) - First-generation TypeScript SDK in maintenance mode, introducing HTTP V2 API, plugin architecture, and `track()` methods.

**Browser SDK 2.0** (`@amplitude/analytics-browser@2.x`) - Current flagship SDK with built-in autocapture, enhanced attribution tracking, improved cookie management, and server-side user agent parsing.

**Browser Unified SDK** (`@amplitude/unified`) - Beta integration layer providing single initialization point for Analytics, Experiment, and Session Replay products through `initAll()`.

### Specialized Extensions

**Marketing Analytics Browser SDK** (`@amplitude/marketing-analytics-browser`) - Maintenance-mode extension focused on automatic UTM parameter tracking, referrer attribution, and campaign-based session management.

**Ampli Wrappers** - Code generation tools creating strongly-typed tracking APIs from Amplitude Data tracking plans, available for JavaScript SDK, Browser SDK 1.0, and Browser SDK 2.0.

## Key Nomenclature and Definitions

### Core Tracking Concepts
- **track()** - Primary event logging method replacing legacy `logEvent()`
- **identify()** - User property management using Identify interface
- **Autocapture** - Automatic tracking of page views, sessions, form interactions, file downloads, and element interactions
- **Attribution Tracking** - Automatic capture of UTM parameters, referrer data, and click IDs (gclid, fbclid, dclid)

### Configuration and Storage
- **AMP_ Cookie Prefix** - Standard naming convention using `AMP_{api_key}` format for device ID, session ID, and user ID persistence
- **identityStorage** - Configurable storage options including cookies, localStorage, sessionStorage, or none
- **deviceId** - Persistent device identifier for cross-session tracking
- **sessionId** - Temporary session identifier with configurable timeout
- **serverZone** - Data residency configuration (US/EU)

### Plugin Architecture
- **Enrichment Plugins** - Modify event data before sending (e.g., Page URL Enrichment, User Agent Enrichment)
- **Destination Plugins** - Handle event transmission and storage
- **Plugin Interface** - Standardized plugin structure with setup(), execute(), and teardown() methods

### Advanced Features
- **Cross-domain Tracking** - Device ID sharing via URL parameters (`ampDeviceId`)
- **sendBeacon Transport** - Reliable event transmission using Navigator.sendBeacon API
- **Deferred Initialization** - Consent management pattern for GDPR/CNIL compliance
- **Remote Configuration** - Server-side SDK configuration via `fetchRemoteConfig()`

## Integration Patterns and API Endpoints

### Installation Methods
```javascript
// Script loader
<script src="https://cdn.amplitude.com/libs/analytics-browser-2.0.0-min.js.gz"></script>

// npm/yarn
npm install @amplitude/analytics-browser
```

### Core API Methods
- `amplitude.init(apiKey, options)` - SDK initialization
- `amplitude.track(eventType, eventProperties)` - Event tracking
- `amplitude.identify(identifyObject)` - User property updates
- `amplitude.revenue(revenueObject)` - Revenue tracking
- `amplitude.setUserId(userId)` - User identification
- `amplitude.setDeviceId(deviceId)` - Device identification
- `amplitude.flush()` - Force event transmission
- `amplitude.reset()` - Clear user data and regenerate device ID

### Ampli CLI Commands
- `ampli pull` - Generate tracking code from Amplitude Data tracking plans
- `ampli status` - Verify implementation against tracking plan

### Configuration Options
Key configuration parameters include `flushQueueSize`, `flushIntervalMillis`, `trackingOptions`, `cookieOptions`, `defaultTracking`, `autocapture`, and `attribution` settings.

## Broader Product Ecosystem Integration

The Browser SDK ecosystem integrates with several Amplitude platform components:

**Amplitude Data** - Provides tracking plan schemas for Ampli code generation and event validation.

**Amplitude Analytics** - Core event ingestion and analysis platform receiving data via HTTP V2 API.

**Amplitude Experiment** - Feature flagging service integrated through Unified SDK.

**Amplitude Session Replay** - User session recording integrated through Unified SDK with shared configuration.

**Content Security Policy (CSP)** - Supports nonce-based CSP implementation for secure deployments.

The migration path encourages users to move from legacy JavaScript SDK → Browser SDK 1.0 → Browser SDK 2.0, with comprehensive migration guides and backward compatibility considerations. The ecosystem emphasizes type safety, automatic tracking capabilities, and flexible plugin architecture while maintaining compliance with privacy regulations through robust consent management features.
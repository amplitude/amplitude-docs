## Amplitude Browser SDK Product Suite

Amplitude's Browser SDK is a comprehensive analytics platform for web applications that provides event tracking, user identification, and marketing attribution capabilities. The product suite consists of multiple SDK versions and specialized tools designed to capture user behavior and analytics data in browser environments.

## Product Relationships and Architecture

The Browser SDK ecosystem follows an evolutionary architecture with three main SDK generations:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK that provides basic event tracking and user identification through the `amplitude.getInstance()` pattern.

**Browser SDK 1.0 (@amplitude/analytics-browser v1)** - A TypeScript-first SDK that introduced the HTTP V2 API, plugin architecture, and modern JavaScript patterns while maintaining compatibility with existing implementations.

**Browser SDK 2.0 (@amplitude/analytics-browser v2+)** - The current flagship SDK featuring comprehensive autocapture functionality, unified marketing attribution, enhanced cookie management, and integration with Amplitude's broader product ecosystem.

**Specialized Components:**
- **Marketing Analytics SDK (@amplitude/marketing-analytics-browser)** - A maintenance-mode extension that adds advanced marketing attribution and UTM parameter tracking
- **Ampli Wrapper** - Code generation tool that creates strongly-typed APIs from Amplitude Data tracking plans for type-safe event tracking
- **Browser Unified SDK (@amplitude/unified)** - Beta integration layer providing single initialization for Analytics, Experiment, and Session Replay products
- **Autocapture Plugin** - Deprecated standalone plugin now integrated into Browser SDK 2.0's built-in autocapture functionality

## Key Nomenclature and Definitions

**Core Tracking Concepts:**
- **deviceId** - Unique browser identifier stored in cookies with AMP_{api_key} naming convention
- **sessionId** - Temporary session identifier with configurable timeout (default 30 minutes)
- **userId** - Custom user identifier for cross-device tracking, Base64 encoded in storage
- **Autocapture** - Automated event collection including page views, sessions, form interactions, file downloads, and element interactions

**API Methods:**
- **amplitude.init()** - SDK initialization with API key and configuration options
- **amplitude.track()** - Event logging with properties and metadata
- **amplitude.identify()** - User property management using Identify interface
- **amplitude.flush()** - Force immediate event transmission
- **ampli.load()** - Initialize Ampli wrapper with tracking plan
- **ampli.pull** - CLI command to generate typed APIs from tracking plans

**Configuration Systems:**
- **defaultTracking** - Autocapture configuration for attribution, page views, sessions, and interactions
- **cookieOptions** - Cookie management including expiration, secure flags, and sameSite policies
- **identityStorage** - Storage backend selection (cookies, localStorage, sessionStorage, none)
- **transportProvider** - Network transport method (fetch, xhr, sendBeacon)
- **serverZone** - Data residency configuration (US/EU)

**Plugin Architecture:**
- **EnrichmentPlugin** - Middleware for event data modification before transmission
- **DestinationPlugin** - Custom event routing and external integrations
- **Web Attribution Plugin** - Marketing attribution and UTM parameter capture

## Broader Product Ecosystem Integration

The Browser SDK serves as the foundational analytics layer within Amplitude's comprehensive digital analytics platform:

**Data Pipeline Integration:**
- Events flow through HTTP V2 API endpoints to Amplitude's ingestion infrastructure
- Integration with Amplitude Data for schema validation and tracking plan enforcement
- Support for cross-domain tracking and multi-instance deployments via instanceName configuration

**Marketing Attribution:**
- Comprehensive UTM parameter tracking (utm_source, utm_medium, utm_campaign, utm_term, utm_content)
- Click ID monitoring for major advertising platforms (gclid, fbclid, dclid, ttclid, twclid, li_fat_id)
- First-touch and multi-touch attribution modeling with configurable reset behavior

**Privacy and Compliance:**
- GDPR compliance through deferred initialization and consent management workflows
- CNIL France exemption support for analytics cookies
- User Privacy API integration for data subject access requests (DSAR)
- Configurable opt-out mechanisms and DNT flag handling

**Advanced Analytics Features:**
- Revenue tracking through Revenue interface with product-level attribution
- Group analytics for organizational and cohort analysis via setGroup() methods
- Cross-domain user journey tracking with shared deviceId persistence
- Offline mode support with local event queuing and automatic retry logic

## API Endpoints and CLI Commands

**CLI Operations:**
```bash
ampli pull [--path ./src/ampli]  # Generate typed tracking APIs
ampli status                     # Verify tracking plan synchronization
```

**Core SDK Methods:**
```javascript
// Initialization
amplitude.init('API_KEY', 'user@example.com', options)

// Event Tracking  
amplitude.track('Event Name', properties, options)
amplitude.identify(identifyObject)
amplitude.setGroup('orgId', 'company-123')

// Revenue Tracking
amplitude.revenue().setProductId('product-1').setPrice(29.99)

// Ampli Integration
ampli.load({ client: { apiKey: 'API_KEY' }})
ampli.eventName(properties)
```

**HTTP Endpoints:**
- Primary ingestion via HTTP V2 API with automatic batching and retry logic
- EU data residency support through serverZone configuration
- CORS-compliant cross-origin request handling with preflight optimization

The Browser SDK ecosystem provides a complete solution for web analytics, from basic event tracking to sophisticated marketing attribution and user behavior analysis, while maintaining strong integration with Amplitude's broader analytics and experimentation platform.
# Amplitude Browser SDK Product Overview

## High-Level Overview

The Amplitude Browser SDK is a JavaScript/TypeScript library designed for tracking user events and analytics in web applications. It enables developers to capture user interactions, identify users, manage sessions, track revenue, and analyze marketing attribution. The SDK has evolved through multiple versions, with Browser SDK 2.0 being the current recommended version, while older versions (JavaScript SDK and Browser SDK 1.0) are maintained but not actively developed.

Key features include:
- Event tracking with schema enforcement
- User identification and property management
- Session management
- Revenue tracking
- Marketing attribution tracking
- Autocapture functionality for automatic event tracking
- Cross-domain tracking
- Offline mode support
- Plugin architecture for extensibility
- Strongly typed APIs through Ampli wrappers

## Product Relationships and Features

### SDK Versions Evolution

1. **JavaScript SDK** (Maintenance Mode)
   - Original SDK for web applications
   - Basic event tracking, user identification, and revenue tracking
   - Web attribution and UTM parameter tracking

2. **Browser SDK 1.0** (Maintenance Mode)
   - Improved TypeScript/JavaScript library
   - Event batching and user identification
   - Session and device ID management
   - Plugin architecture introduction
   - Unified tracking methods

3. **Browser SDK 2.0** (Current Recommended Version)
   - Built-in Autocapture functionality (since v2.10.0)
   - Consolidated marketing attribution tracking
   - Simplified cookie management
   - Server-side user agent parsing
   - Streamlined plugin interface
   - Remote configuration capabilities

4. **Marketing Analytics Browser SDK**
   - Extension of Browser SDK for marketing attribution
   - Captures UTM parameters, referrers, and click IDs
   - Supports first-touch and multi-touch attribution
   - Page view tracking for traditional and single-page applications

5. **Ampli Wrapper**
   - Available for all SDK versions
   - Provides strongly typed API based on Amplitude Data tracking plans
   - Enforces event schemas to prevent bad instrumentation
   - Supports autocompletion for events and properties

### Feature Relationships

- **Event Tracking**: Core functionality across all SDK versions, with Browser SDK 2.0 offering the most advanced capabilities including built-in Autocapture.
  
- **User Identification**: Evolved from basic functionality in JavaScript SDK to more sophisticated options in Browser SDK 2.0 with improved identity storage options.

- **Marketing Attribution**: Initially a separate SDK (Marketing Analytics Browser SDK), now integrated into Browser SDK 2.0 with enhanced capabilities.

- **Plugin Architecture**: Introduced in Browser SDK 1.0 and refined in Browser SDK 2.0 with a more streamlined interface.

- **Ampli Wrapper**: Provides a consistent, strongly-typed layer across all SDK versions, with specific implementations for each SDK version.

## Key Nomenclature and Definitions

- **Ampli Wrapper**: A code-generated SDK wrapper that provides type-safe event tracking based on a tracking plan defined in Amplitude Data.

- **Autocapture**: Functionality that automatically tracks user interactions with web elements without requiring manual instrumentation.

- **Device ID**: A unique identifier for the device or browser used to track users across sessions.

- **Event**: A user action or occurrence that is tracked for analytics purposes.

- **Flush**: The process of sending batched events to Amplitude's servers.

- **Identity Storage**: Configuration option that determines how user identity information is stored (cookies, localStorage, etc.).

- **Marketing Attribution**: Tracking which marketing channels and campaigns drive user acquisition and engagement.

- **Plugin**: Modular components that extend the SDK's functionality.

- **Session**: A period of user activity, typically ending after a period of inactivity.

- **Tracking Plan**: A schema that defines the structure of events and properties to be tracked.

- **User Properties**: Attributes associated with a user that persist across sessions.

- **UTM Parameters**: URL parameters used to track the effectiveness of marketing campaigns.

## Product Ecosystem Integration

The Amplitude Browser SDK integrates with the broader Amplitude analytics ecosystem:

1. **Amplitude Data**: The Browser SDK works with tracking plans defined in Amplitude Data to ensure consistent event tracking.

2. **Amplitude Analytics**: All events tracked by the Browser SDK are sent to Amplitude Analytics for processing and visualization.

3. **Cross-Platform Tracking**: The Browser SDK can be used alongside other Amplitude SDKs (iOS, Android, etc.) to provide a complete view of user behavior across platforms.

4. **Server-Side Processing**: Browser SDK 2.0 leverages server-side processing for user agent parsing, reducing client-side computation.

5. **Plugin Ecosystem**: The SDK's plugin architecture allows integration with other tools and services.

## API Endpoints and Commands

### SDK Initialization

```javascript
// Browser SDK 2.0 initialization
import { init } from '@amplitude/analytics-browser';

init('API_KEY', {
  defaultTracking: {
    sessions: true,
    pageViews: true,
    formInteractions: true,
    fileDownloads: true
  }
});
```

### Event Tracking

```javascript
// Basic event tracking
track('Button Clicked', {
  buttonColor: 'blue',
  buttonText: 'Submit'
});

// Revenue tracking
revenue({
  price: 10.99,
  quantity: 2,
  productId: 'product-123'
});
```

### User Identification

```javascript
// Identify a user
identify('user-id-123', {
  userProp1: 'value1',
  userProp2: 'value2'
});

// Set user groups
setGroup('organization', 'org-123');
```

### Ampli CLI Commands

```bash
# Pull tracking plan from Amplitude Data
ampli pull

# Check status of tracking plan implementation
ampli status
```

### Plugin Registration

```javascript
// Register a plugin
import { init, add } from '@amplitude/analytics-browser';
import { userAgentPlugin } from '@amplitude/plugin-user-agent-enrichment-browser';

init('API_KEY');
add(userAgentPlugin());
```

### Flush Events

```javascript
// Manually flush events
flush().then(() => {
  console.log('Events sent to Amplitude');
});
```
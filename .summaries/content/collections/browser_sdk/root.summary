# Amplitude Browser SDK Product Overview

## High-Level Overview

Amplitude's Browser SDK is a JavaScript/TypeScript library for tracking user events and analytics in web applications. The SDK has evolved through multiple versions, with Browser SDK 2.0 being the current recommended version, while Browser SDK 1.0 and the legacy JavaScript SDK are in maintenance mode. The SDK enables developers to track user interactions, identify users, manage sessions, track revenue, and capture marketing attribution data.

Key features include:
- Event tracking with customizable properties
- User identification and user property management
- Session management and cross-domain tracking
- Revenue tracking
- Marketing attribution tracking (UTM parameters, referrers, click IDs)
- Autocapture functionality for automatic event tracking
- Offline mode support
- Plugin architecture for extensibility
- Strongly typed APIs through Ampli wrappers

## Product Relationships and Features

### SDK Versions and Relationships

1. **JavaScript SDK (Legacy)**: The original SDK, now in maintenance mode. Users are encouraged to migrate to Browser SDK 2.0.

2. **Browser SDK 1.0**: An intermediate version that improved upon the JavaScript SDK with a plugin architecture and promise-based callbacks. Also in maintenance mode.

3. **Browser SDK 2.0**: The current recommended SDK version with enhanced features including built-in autocapture, consolidated marketing attribution tracking, and simplified configuration.

4. **Marketing Analytics Browser SDK**: An extension of the Browser SDK specifically designed for marketing attribution tracking. Its functionality has been largely incorporated into Browser SDK 2.0.

5. **Ampli Wrappers**: Strongly typed API wrappers that work with the Browser SDKs to provide type safety, autocompletion, and schema enforcement based on tracking plans defined in Amplitude Data.

### Feature Relationships

- **Event Tracking**: Core functionality across all SDK versions, with Browser SDK 2.0 offering a more streamlined API.
  
- **Autocapture**: Originally a separate plugin, now built into Browser SDK 2.0 (since version 2.10.0).
  
- **Marketing Attribution**: Initially provided by the separate Marketing Analytics SDK, now consolidated into Browser SDK 2.0's default tracking capabilities.
  
- **User Identification**: Available across all SDK versions with consistent API patterns.
  
- **Plugin Architecture**: Introduced in Browser SDK 1.0 and refined in 2.0 for better extensibility.

## Key Nomenclature and Definitions

- **Ampli Wrapper**: A strongly typed API wrapper generated from Amplitude Data tracking plans that provides autocompletion, type safety, and schema enforcement.

- **Autocapture**: Functionality that automatically tracks user interactions like clicks, form submissions, and page views without manual instrumentation.

- **Device ID**: A unique identifier for the user's device, typically stored in cookies or local storage.

- **Event**: A user action or occurrence that is tracked for analytics purposes.

- **Identify**: API method used to set or update user properties without sending an event.

- **Plugin**: Modular components that extend SDK functionality, such as enrichment plugins that add data to events.

- **Session**: A period of user activity, typically ending after a period of inactivity.

- **Tracking Plan**: A schema defined in Amplitude Data that specifies the structure of events and properties.

- **User Properties**: Attributes associated with a user that persist across sessions.

- **UTM Parameters**: Marketing tracking parameters (source, medium, campaign, etc.) used for attribution.

## Product Ecosystem Integration

The Browser SDK integrates with the broader Amplitude ecosystem in several ways:

1. **Amplitude Analytics**: The SDK sends event data to Amplitude's analytics platform for processing and visualization.

2. **Amplitude Data**: The Ampli wrapper connects with tracking plans defined in Amplitude Data to ensure consistent event tracking.

3. **Cross-Platform Tracking**: The Browser SDK can be used alongside other Amplitude SDKs (iOS, Android, etc.) to track user journeys across platforms.

4. **EU Data Residency**: The SDK supports sending data to EU data centers for compliance with European regulations.

5. **Server-Side Integration**: Events tracked by the Browser SDK can be complemented by server-side tracking using Amplitude's server SDKs.

## API Endpoints and Commands

### SDK Initialization and Configuration

```javascript
// Browser SDK 2.0 initialization
import { init } from '@amplitude/analytics-browser';

init('API_KEY', {
  defaultTracking: {
    sessions: true,
    pageViews: true,
    formInteractions: true,
    fileDownloads: true
  }
});
```

### Core API Methods

- `track(eventName, eventProperties)`: Track an event with optional properties
- `identify(identifyObj)`: Set or update user properties
- `setUserId(userId)`: Set the user ID for the current user
- `setGroup(groupType, groupName)`: Associate a user with a group
- `revenue(revenueObj)`: Track revenue events
- `flush()`: Force send any unsent events

### Ampli CLI Commands

- `ampli pull`: Pull the latest tracking plan from Amplitude Data
- `ampli status`: Check the status of the local tracking plan against the remote version

### Plugin Interface

```javascript
// Example plugin implementation
const plugin = {
  name: 'custom-plugin',
  setup: (config) => {
    // Plugin setup code
  },
  execute: (context) => {
    // Plugin execution code
    return context;
  }
};
```

### Marketing Attribution Tracking

```javascript
// Configure marketing attribution in Browser SDK 2.0
init('API_KEY', {
  defaultTracking: {
    attribution: true
  }
});
```
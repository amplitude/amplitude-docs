## Amplitude Browser SDK Product Suite

Amplitude's Browser SDK is a comprehensive analytics tracking solution for web applications, providing multiple SDK versions and specialized tools for event tracking, user analytics, and marketing attribution. The product suite includes Browser SDK 1.x and 2.x, JavaScript SDK, Marketing Analytics SDK, and the Ampli code generation wrapper.

## Product Relationships and Architecture

The Browser SDK ecosystem follows an evolutionary architecture with clear upgrade paths:

**Core SDKs:**
- **JavaScript SDK (amplitude-js)** - Legacy SDK in maintenance mode, serving as the foundation
- **Browser SDK 1.x (@amplitude/analytics-browser)** - First-generation modern SDK, also in maintenance mode
- **Browser SDK 2.x (@amplitude/analytics-browser@2+)** - Current flagship SDK with enhanced autocapture capabilities
- **Marketing Analytics SDK (@amplitude/marketing-analytics-browser)** - Specialized extension for marketing attribution, now in maintenance mode

**Code Generation Layer:**
- **Ampli Wrapper** - Generates strongly-typed TypeScript/JavaScript APIs from Amplitude Data tracking plans, available for all SDK versions

The architecture promotes migration from legacy solutions to Browser SDK 2.x, which consolidates features from previous SDKs while adding enhanced autocapture functionality.

## Key Nomenclature and Definitions

**Core Tracking Concepts:**
- **deviceId/userId** - Primary user identifiers with validation via minIdLength
- **sessionId** - Session management with configurable timeout
- **Event Properties** - Custom data attached to tracked events
- **User Properties** - Persistent attributes managed via Identify interface
- **Group Properties** - Organization-level analytics via groupIdentify

**SDK Architecture:**
- **Plugins** - Extensible architecture with enrichment and destination plugin types
- **Transport** - Event delivery mechanisms including sendBeacon for reliability
- **Autocapture** - Automated event tracking without manual instrumentation
- **HTTP V2 API** - Modern Amplitude ingestion endpoint

**Configuration Management:**
- **serverZone** - Data residency control (US/EU)
- **flushQueueSize/flushIntervalMillis** - Batching and delivery optimization
- **trackingOptions** - Granular control over data collection
- **identityStorage** - Cookie vs localStorage for user persistence

**Marketing Attribution:**
- **UTM Parameters** - Campaign tracking (utm_source, utm_medium, utm_campaign, etc.)
- **Click ID Parameters** - Platform-specific attribution (gclid, fbclid, dclid)
- **First-touch/Multi-touch Attribution** - Attribution model configuration
- **Cross-domain Tracking** - Unified user tracking across domains

## Broader Product Ecosystem Integration

The Browser SDK integrates with Amplitude's broader analytics platform through several touchpoints:

**Amplitude Data Integration:**
- Ampli Wrapper connects to Amplitude Data tracking plans for schema validation
- Strongly-typed APIs ensure event consistency across teams
- CLI commands (`ampli pull`, `ampli status`) synchronize local implementations with centralized schemas

**Platform Compatibility:**
- Session Replay compatibility with Browser SDK 2.x
- Content Security Policy (CSP) support for enterprise environments
- Cross-Origin Resource Sharing (CORS) handling for distributed architectures

**Enterprise Features:**
- EU data residency via serverZone configuration
- Cookie management with AMP prefix for namespace isolation
- Remote configuration for dynamic SDK behavior
- Offline mode with queue management

## API Endpoints and CLI Commands

**Core SDK Methods:**
- `amplitude.init(apiKey, options)` - SDK initialization with configuration
- `amplitude.track(eventType, eventProperties)` - Event tracking
- `amplitude.identify(identifyObject)` - User property management
- `amplitude.groupIdentify(groupType, groupName, groupProperties)` - Group analytics
- `amplitude.flush()` - Force event queue delivery

**Ampli CLI Commands:**
- `ampli pull` - Download tracking plan and generate typed APIs
- `ampli status` - Verify implementation against tracking plan
- Installation via `npm install @amplitude/ampli`

**Plugin Integration:**
- `amplitude.add(plugin)` - Plugin registration
- EnrichmentPlugin/DestinationPlugin interfaces for custom functionality

**Autocapture Configuration:**
- `defaultTracking.attribution` - Marketing attribution settings
- `defaultTracking.pageViews` - Page view tracking configuration
- `defaultTracking.sessions` - Session management
- `defaultTracking.formInteractions` - Form tracking
- `defaultTracking.fileDownloads` - Download tracking

The SDK communicates with Amplitude's HTTP V2 API endpoint for event ingestion, supporting both real-time and batched delivery modes with configurable retry logic and offline queue management.
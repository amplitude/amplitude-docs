## Amplitude Browser SDK Product Suite

The Amplitude Browser SDK is a comprehensive analytics platform for web applications, providing event tracking, user analytics, and marketing attribution capabilities. The product suite consists of multiple SDK versions and specialized tools designed to capture, process, and analyze user behavior data in browser environments.

## Product Architecture and Relationships

### Core SDK Evolution
The product suite follows a clear evolutionary path with three main SDK generations:

**Legacy JavaScript SDK (amplitude-js)** - The original maintenance-mode SDK that established core analytics patterns including the `amplitude.getInstance()` API, `logEvent()` methods, and AMP_ cookie conventions.

**Browser SDK 1.x (@amplitude/analytics-browser v1)** - A TypeScript-first rewrite introducing the HTTP V2 API, plugin architecture, and modern promise-based APIs while maintaining backward compatibility patterns.

**Browser SDK 2.x (@amplitude/analytics-browser v2)** - The current flagship SDK featuring built-in autocapture functionality, consolidated marketing attribution, simplified configuration, and enhanced plugin capabilities.

### Specialized SDK Variants
**Marketing Analytics SDK (@amplitude/marketing-analytics-browser)** - An extension of Browser SDK 1.x specifically designed for marketing attribution tracking, including UTM parameters, referrer data, click IDs, and multi-touch attribution models.

**Browser Unified SDK (@amplitude/unified)** - A beta integration layer providing unified access to Analytics, Experiment, and Session Replay products through a single initialization point using `initAll()`.

### Code Generation Tools
**Ampli Wrappers** - Strongly-typed code generation tools that create JavaScript/TypeScript APIs from Amplitude Data tracking plans, available for JavaScript SDK, Browser SDK 1.0, and Browser SDK 2.0 with consistent CLI commands (`ampli pull`, `ampli status`) and core methods (`ampli.load()`, `ampli.identify()`, `ampli.track()`, `ampli.flush()`).

## Key Nomenclature and Definitions

### Core Analytics Concepts
- **deviceId**: Persistent browser identifier stored in cookies/localStorage
- **sessionId**: Time-bounded user session identifier with configurable timeout
- **userId**: Application-specific user identifier for cross-device tracking
- **API Key**: Project identifier for routing events to correct Amplitude project

### Event Tracking Terminology
- **track()**: Primary event logging method (replaces legacy `logEvent()`)
- **identify()**: User property management using Identify interface
- **Revenue**: Structured revenue event tracking with product/price/quantity
- **Group Properties**: Organization-level property management via `setGroup()`

### Cookie and Storage Conventions
- **AMP_ prefix**: Standard cookie naming with API key suffix (e.g., `AMP_API_KEY`)
- **AMP_MKTG_**: Marketing attribution cookie prefix for campaign data
- **identityStorage**: Configurable storage backend (cookies/localStorage/sessionStorage/none)
- **cookieOptions**: Comprehensive cookie configuration including expiration, domain, secure, sameSite

### Plugin Architecture
- **Enrichment Plugin**: Modifies event data before transmission
- **Destination Plugin**: Handles event transmission and routing
- **EnrichmentPlugin Interface**: Standard plugin contract with setup/execute methods

### Autocapture Features
- **Attribution Tracking**: Automatic UTM parameter and referrer capture
- **Page View Tracking**: Automatic page navigation monitoring
- **Session Tracking**: Automatic session start/end event generation
- **Form Interactions**: Automatic form submission tracking
- **File Downloads**: Automatic download link monitoring
- **Element Interactions**: Click tracking on specified elements
- **Network Tracking**: HTTP request/response monitoring

## Product Ecosystem Integration

### Data Pipeline Integration
All SDKs utilize Amplitude's **HTTP V2 API** for event transmission, supporting both individual event sending and batch processing with configurable queue management (`flushQueueSize`, `flushIntervalMillis`). The SDKs integrate with Amplitude's data pipeline through standardized event schemas and support **server-side user agent parsing** for enhanced data enrichment.

### Cross-Domain and Multi-Platform Support
The SDKs provide **cross-domain tracking** capabilities through URL parameter passing (`deviceIdFromUrlParam`) and support **serverZone** configuration for EU data residency requirements. Cookie management supports various compliance scenarios including **GDPR** and **CNIL** requirements through deferred initialization patterns.

### Plugin Ecosystem
The platform supports an extensible plugin architecture with official plugins including:
- **@amplitude/plugin-user-agent-enrichment-browser**: Server-side user agent parsing
- **@amplitude/plugin-page-url-enrichment-browser**: Automatic page URL property enrichment
- **@amplitude/plugin-autocapture-browser**: Deprecated standalone autocapture (now built-in)

### Development and Deployment Integration
The SDKs support multiple installation methods including **script loader**, **npm/yarn packages**, and **CDN distribution**. They provide **Content Security Policy (CSP)** compatibility, **TypeScript definitions**, and integration with build tools. The Ampli code generation tools integrate with CI/CD pipelines through CLI commands and support **ESLint/TSLint** configuration.

## API Endpoints and Command Line Interface

### Core SDK Methods
- `amplitude.init(apiKey, userId?, options?)` - SDK initialization
- `amplitude.track(eventType, eventProperties?, options?)` - Event tracking
- `amplitude.identify(identify, options?)` - User property management
- `amplitude.revenue(revenue, options?)` - Revenue event tracking
- `amplitude.flush()` - Force event queue transmission
- `amplitude.reset()` - Clear user data and reset state

### Ampli CLI Commands
- `ampli pull` - Download tracking plan and generate typed APIs
- `ampli status` - Verify implementation against tracking plan schema

### Configuration Endpoints
The SDKs support **remote configuration** through Amplitude's configuration API, enabling dynamic feature toggles and A/B testing integration. **Dynamic configuration** can be enabled via `useDynamicConfig` option for runtime behavior modification.

### Transport and Network Configuration
SDKs utilize **navigator.sendBeacon** for reliable event transmission with **XMLHttpRequest** fallback. Custom **serverUrl** configuration supports private cloud deployments and proxy configurations. **Offline mode** support enables event queuing during network unavailability with automatic retry mechanisms.
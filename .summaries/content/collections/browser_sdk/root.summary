# Amplitude Browser SDK Product Suite

Amplitude's Browser SDK is a comprehensive analytics tracking solution for web applications, providing multiple SDK variants and tools for implementing event tracking, user analytics, and marketing attribution in JavaScript and TypeScript environments.

## Product Architecture and Relationships

The Browser SDK ecosystem consists of several interconnected products:

**Core SDKs:**
- **Browser SDK 2.0** (`@amplitude/analytics-browser@2+`) - The current flagship SDK using HTTP V2 API
- **Browser SDK 1.0** (`@amplitude/analytics-browser@1.x`) - Legacy version in maintenance mode
- **JavaScript SDK** (`amplitude-js`) - Original legacy SDK in maintenance mode
- **Marketing Analytics SDK** (`@amplitude/marketing-analytics-browser`) - Specialized SDK for marketing attribution (maintenance mode)
- **Browser Unified SDK** (`@amplitude/unified`) - Beta integration point for Analytics, Experiment, and Session Replay

**Developer Tools:**
- **Ampli Wrappers** - Code generation tools that create strongly-typed TypeScript/JavaScript APIs from Amplitude Data tracking plans, available for all SDK versions
- **Autocapture Plugin** - Automated event tracking functionality (now built into Browser SDK 2.0)

## Key Nomenclature and Definitions

**Core Concepts:**
- **deviceId/userId/sessionId** - Primary identifiers for tracking users and sessions
- **Amplitude Data tracking plans** - Schema definitions for event structures and validation
- **HTTP V2 API** - Modern Amplitude ingestion endpoint used by current SDKs
- **CJS modules** - CommonJS module packaging format for generated Ampli code

**Event Tracking:**
- **track()** - Primary method for logging custom events
- **identify()** - Method for setting user properties via Identify interface
- **Revenue interface** - Structured revenue event tracking
- **Autocapture** - Automated tracking of page views, sessions, form interactions, file downloads, and element interactions

**Configuration:**
- **serverZone** - Data residency options (US/EU)
- **cookieOptions** - Cookie configuration including expiration, secure flags, sameSite settings
- **identityStorage** - Storage mechanism options (cookies, localStorage, sessionStorage, none)
- **defaultTracking** - Configuration for built-in event tracking features
- **flushQueueSize/flushIntervalMillis** - Batching and transmission settings

**Marketing Attribution:**
- **UTM parameters** - Campaign tracking parameters (utm_source, utm_medium, etc.)
- **Click IDs** - Platform-specific identifiers (gclid, fbclid, dclid)
- **Web Attribution** - Marketing channel attribution system (V1/V2 versions)
- **Cross-domain tracking** - Maintaining user identity across domains

**Privacy and Compliance:**
- **AMP_ cookie prefix** - Amplitude's cookie naming convention with API key scoping
- **GDPR compliance** - European privacy regulation support
- **CNIL France exemption** - French analytics cookie requirements
- **deferInitialization** - Consent management integration pattern

## Broader Product Ecosystem Integration

The Browser SDK integrates with Amplitude's broader analytics platform through:

**Data Pipeline:**
- Events flow through HTTP V2 API to Amplitude's ingestion system
- Server-side enrichment replaces client-side user agent parsing in newer versions
- Support for both US and EU data residency via serverZone configuration

**Developer Workflow:**
- **Amplitude CLI** (`ampli pull`, `ampli status`) for managing tracking plan synchronization
- **Ampli Wrappers** generate type-safe code from centralized tracking plans
- Migration paths provided between SDK versions to support product evolution

**Advanced Features:**
- **Plugin architecture** supporting enrichment and destination plugins
- **Session Replay** integration via Unified SDK
- **Experiment** (feature flagging) integration via Unified SDK
- **Remote configuration** for dynamic SDK behavior

## API Endpoints and CLI Commands

**CLI Commands:**
- `ampli pull` - Downloads latest tracking plan and generates typed code
- `ampli status` - Verifies tracking plan synchronization status

**Core SDK Methods:**
- `amplitude.init(apiKey, options)` - SDK initialization
- `amplitude.track(eventType, eventProperties)` - Event tracking
- `amplitude.identify(identifyObject)` - User property management
- `amplitude.flush()` - Force event transmission
- `amplitude.reset()` - Clear user data and reset state

**Unified SDK:**
- `initAll(options)` - Initialize Analytics, Experiment, and Session Replay together

**Installation Methods:**
- npm/yarn package installation
- Script loader implementation for CDN delivery
- RequireJS module loading support

The Browser SDK represents Amplitude's evolution from a simple event tracking library to a comprehensive web analytics platform, with clear migration paths and backward compatibility considerations as the product suite matures.
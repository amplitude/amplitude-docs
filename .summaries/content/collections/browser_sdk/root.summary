## Amplitude Browser SDK Product Ecosystem

The Amplitude Browser SDK is a comprehensive analytics tracking solution for web applications, offering multiple SDK versions and specialized tools for event tracking, user analytics, and marketing attribution. The ecosystem centers around strongly-typed JavaScript/TypeScript SDKs that integrate with Amplitude's analytics platform using the HTTP V2 API.

## Product Architecture and Relationships

### Core SDK Versions

**Browser SDK 2.0** (`@amplitude/analytics-browser`) represents the current flagship offering, featuring built-in autocapture functionality for tracking page views, sessions, form interactions, file downloads, element interactions, and network requests. This SDK includes integrated marketing attribution tracking with UTM parameter capture and click ID support.

**Browser SDK 1.0** (`@amplitude/analytics-browser@1.x`) operates in maintenance mode, providing similar core functionality but requiring separate plugins for advanced features like autocapture and web attribution.

**JavaScript SDK** (`amplitude-js`) serves as the legacy solution, also in maintenance mode, with users encouraged to migrate to Browser SDK 2.0 for enhanced features and performance.

**Marketing Analytics Browser SDK** (`@amplitude/marketing-analytics-browser`) extends the Browser SDK with specialized marketing attribution capabilities but is now in maintenance mode with functionality consolidated into Browser SDK 2.0.

**Browser Unified SDK** (`@amplitude/unified`) provides a single entry point for initializing Analytics, Experiment, and Session Replay features through the `initAll()` method with shared configuration.

### Code Generation and Type Safety

**Ampli Wrappers** generate strongly-typed TypeScript/JavaScript APIs from Amplitude Data tracking plans, available for all major SDK versions. These wrappers provide compile-time validation, autocompletion, and schema enforcement through generated methods like `ampli.load()`, `ampli.identify()`, `ampli.track()`, and `ampli.flush()`. The Ampli CLI supports commands like `ampli pull` and `ampli status` for synchronizing tracking plans.

## Key Nomenclature and Definitions

### Core Tracking Concepts

- **deviceId**: Unique identifier for device/browser instances, persisted in cookies with AMP_ prefix
- **userId**: User-specific identifier for cross-device tracking
- **sessionId**: Temporary identifier for user sessions with configurable timeout
- **Autocapture**: Built-in tracking of common web interactions without manual instrumentation
- **Identify**: Interface for managing user properties through operations like set, setOnce, add, append, prepend
- **Revenue**: Specialized tracking interface for e-commerce events with productId, price, and quantity

### Configuration Parameters

- **flushQueueSize**: Number of events to batch before sending
- **flushIntervalMillis**: Time interval for automatic event transmission
- **identityStorage**: Storage mechanism (cookies, localStorage, sessionStorage, none)
- **serverZone**: Data residency configuration (US/EU)
- **trackingOptions**: Granular control over automatic data collection
- **sendBeacon**: Transport method using navigator.sendBeacon for reliable event delivery

### Plugin Architecture

- **Enrichment Plugins**: Modify events before transmission (e.g., user agent parsing, URL enrichment)
- **Destination Plugins**: Handle event transmission to endpoints
- **Plugin Interface**: Extensible system with setup, execute, and teardown lifecycle methods

## Integration Patterns and API Endpoints

### Installation Methods
- **Script Loader**: Direct browser integration via CDN
- **npm/yarn**: Package manager installation for build systems
- **RequireJS**: AMD module support for legacy applications

### Core API Methods
- **track()**: Event logging with properties and options
- **identify()**: User property management
- **setGroup()**: Organization/group assignment
- **flush()**: Manual event queue transmission
- **reset()**: User anonymization and session clearing

### Advanced Features
- **Cross-domain tracking**: Shared identity across domains
- **Deferred initialization**: Consent management integration
- **Offline mode**: Event queuing during network unavailability
- **Remote configuration**: Server-side SDK configuration
- **Visual labeling**: Chrome extension for event debugging

## Cookie and Consent Management

The SDK implements first-party cookies with AMP_{api_key} naming convention for device identity persistence. Marketing attribution data uses AMP_MKTG_{api_key} cookies. The system supports GDPR compliance through deferred initialization patterns, opt-out mechanisms, and configurable storage backends. CNIL France exemptions are supported for analytics cookies meeting specific criteria.

## Migration Pathways

Clear migration paths exist from legacy implementations to Browser SDK 2.0, addressing breaking changes in API methods, configuration options, cookie structures, and plugin interfaces. The ecosystem emphasizes backward compatibility while encouraging adoption of modern features like autocapture, unified attribution tracking, and enhanced plugin architecture.
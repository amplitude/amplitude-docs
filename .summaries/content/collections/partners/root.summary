# Amplitude Partner Integration Platform

## Overview

Amplitude's Partner Integration Platform enables third-party partners to build and manage integrations with Amplitude's analytics and customer data platform. The platform supports three primary integration types:

1. **Event Ingestion Integrations**: Allow partners to send event data into Amplitude
2. **Cohort Syncing Integrations**: Enable the export of Amplitude behavioral cohorts to partner platforms
3. **Event Streaming Integrations**: Facilitate real-time forwarding of Amplitude events to partner destinations

The Integration Portal serves as the central hub where partners can configure, test, and submit these integrations for review before they become available to Amplitude customers.

## Product Relationships and Architecture

### Integration Portal

The Integration Portal is the gateway for partners to create and manage integrations with Amplitude. It provides:

- Self-service configuration of integration tiles
- Testing capabilities in a sandbox environment
- Submission workflow for Amplitude review
- Deployment management to the Amplitude Integration Catalog
- Co-marketing opportunities for approved integrations

### Integration Types and Relationships

1. **Event Ingestion Integrations**
   - Allow partners to send event data to Amplitude
   - Require a unique `partner_id` parameter in event payloads
   - Use Amplitude's HTTP v2 API for data transmission
   - Partners provide setup instructions for users

2. **Cohort Syncing Integrations**
   - Enable export of Amplitude behavioral cohorts to partner platforms
   - Support two implementation models:
     - **List-based**: Creates/updates lists of users in partner platforms
     - **Property-based**: Sets user properties in partner platforms
   - Use REST API calls with batch processing
   - Support scheduled syncs and retry mechanisms

3. **Event Streaming Integrations**
   - Forward Amplitude events to partner destinations in real-time
   - Support event filtering and property mapping
   - Use FreeMarker templates for payload configuration
   - Handle both event and identify forwarding

## Key Nomenclature and Definitions

- **Integration Portal**: Self-service platform for partners to build and manage Amplitude integrations
- **Partner_id**: Unique identifier assigned to partners for event ingestion tracking
- **Behavioral Cohorts**: Groups of users defined by their actions or properties in Amplitude
- **List-based Integration**: Cohort sync method that creates/updates lists of users in partner platforms
- **Property-based Integration**: Cohort sync method that sets user properties in partner platforms
- **FreeMarker Templates**: Templating system used to configure event streaming payloads
- **Integration Tile**: User-facing configuration interface for an integration
- **Batch Processing**: Handling multiple users in a single API call for efficiency

## Product Ecosystem Integration

Amplitude's Partner Integration Platform fits into the broader Amplitude ecosystem by:

1. **Extending Data Collection**: Event Ingestion integrations bring data from partner platforms into Amplitude's analytics engine
2. **Activating Insights**: Cohort Syncing allows behavioral segments created in Amplitude to be activated in partner platforms
3. **Distributing Data**: Event Streaming enables real-time forwarding of Amplitude data to partner destinations
4. **Expanding Ecosystem**: The Integration Catalog showcases all available integrations to Amplitude customers

## API Endpoints and Technical Specifications

### Event Ingestion
- Uses Amplitude's HTTP v2 API
- Requires `partner_id` parameter in event payloads
- Example endpoint: `https://api2.amplitude.com/2/httpapi`

### Cohort Syncing
For list-based integrations:
- Endpoints required:
  - Create/update list: `POST /lists`
  - Add users to list: `POST /lists/{$listId}/users`
  - Remove users from list: `DELETE /lists/{$listId}/users`

For property-based integrations:
- Endpoint required:
  - Update user properties: `POST /users`

### Event Streaming
- Supports customizable payload structure using FreeMarker templates
- Handles rate limiting (recommended: 10 requests/second)
- Supports various authentication methods (Basic Auth, API Key, OAuth)

## Implementation Considerations

1. **Batch Processing**: Cohort syncing should support batch sizes of 1000+ users
2. **Error Handling**: Implementations should classify errors as retryable or non-retryable
3. **Authentication**: Support for various authentication methods (Basic Auth, API Key, OAuth)
4. **Custom Fields**: Allow configuration of destination-specific fields
5. **Testing**: Comprehensive testing required before submission for review
6. **Payload Configuration**: FreeMarker templates for customizing event streaming payloads
7. **Rate Limits**: Consider partner platform rate limits in implementation
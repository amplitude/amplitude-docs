## Amplitude Experiment SDK Suite

Amplitude Experiment is a comprehensive feature flagging and experimentation platform that provides client-side and server-side SDKs across multiple programming languages and platforms. The platform enables developers to implement feature flags, conduct A/B tests, and manage feature rollouts with sophisticated targeting capabilities including cohort-based targeting and account-level bucketing.

## Product Architecture and Evaluation Modes

The Experiment platform operates through two primary evaluation modes:

**Remote Evaluation**: SDKs fetch flag configurations and variants from Amplitude's servers in real-time using the `fetch()` or `fetchV2()` methods. This mode ensures the most up-to-date flag states but requires network connectivity for each evaluation.

**Local Evaluation**: SDKs download flag configurations locally and evaluate variants client-side using `start()`, `evaluate()`, or `evaluateV2()` methods. This mode provides faster performance and offline capability but requires periodic synchronization of flag configurations.

The **Evaluation Proxy** serves as a bridge component, enabling local evaluation on unsupported platforms through a Docker-based service (`amplitudeinc/evaluation-proxy`) that provides assignment event tracking with 24-hour deduplication and hourly cohort synchronization.

## SDK Portfolio and Platform Coverage

### Client-Side SDKs
- **JavaScript SDK** (`@amplitude/experiment-js-client`): Browser-based implementation with npm/yarn installation
- **React Native SDK** (`@amplitude/experiment-react-native-client`): Cross-platform mobile development with AsyncStorage dependency
- **Android SDK** (`experiment-android-client`): Native Android implementation via Maven Central
- **iOS SDK**: Native iOS implementation via CocoaPods/Swift Package Manager

### Server-Side SDKs
- **Node.js SDK** (`@amplitude/experiment-node-server`): Server-side JavaScript implementation
- **JVM SDK**: Java/Kotlin implementation supporting both languages
- **Python SDK** (`amplitude-experiment`): Python 3.6+ compatible implementation
- **PHP SDK**: PHP 7.4+ server-side implementation
- **Go SDK** (`github.com/amplitude/experiment-go-server`): Go language implementation
- **Ruby SDK** (`amplitude-experiment` gem): Ruby implementation

## Key Nomenclature and Concepts

**Deployment Key**: Authentication credential used to initialize SDK clients and associate them with specific Amplitude projects and environments.

**Flag Key**: Unique identifier for individual feature flags within experiments.

**Variants**: The different versions or treatments that users can receive for a given flag, containing configuration data and metadata.

**ExperimentUser**: User object containing properties like `user_id`, `device_id`, `user_properties`, and `group_properties` used for targeting and bucketing decisions.

**Exposure Tracking**: Automatic or manual tracking of when users are exposed to specific flag variants, essential for experiment analysis.

**Cohort Targeting**: Advanced targeting capability that allows flags to target users based on behavioral cohorts defined in Amplitude Analytics.

**Account-Level Bucketing**: Feature that enables consistent flag experiences across users within the same organization or account using group properties.

## Integration Patterns and Provider Interfaces

### Analytics Integration
SDKs provide deep integration with Amplitude Analytics through methods like `initializeWithAmplitudeAnalytics()`, enabling automatic user context sharing and exposure event tracking. Third-party analytics integrations are supported for Segment and mParticle.

### Provider Interfaces
- **ExperimentUserProvider**: Interface for dynamic user context management
- **ExposureTrackingProvider**: Interface for custom exposure event handling
- **AssignmentTrackingProvider**: Server-side interface for assignment event tracking

### Configuration Management
**ExperimentConfig/ExperimentConfigBuilder**: Configuration objects supporting:
- `fetchOnStart`/`pollOnStart`: Automatic flag fetching behaviors
- `automaticExposureTracking`: Automatic exposure event generation
- `serverZone`: EU/US data residency configuration
- `initialVariants`/bootstrapping: Pre-loading flag states for faster initialization

## Advanced Features and Enterprise Capabilities

**Cohort Synchronization**: Server-side SDKs support `CohortSyncConfig` for targeting users based on Amplitude behavioral cohorts, with configurable sync intervals and cohort size limits.

**Flag Streaming**: Real-time flag configuration updates through `StreamUpdates` configuration, reducing polling overhead.

**Assignment Configuration**: Automatic assignment event tracking with deduplication and custom provider support.

**Device ID Synchronization**: `AmplitudeCookie` utilities enable consistent device identification between client and server implementations.

## API Endpoints and Configuration

### Core Methods
- **Initialization**: `initializeRemote()`, `initializeLocal()`, `initializeWithAmplitudeAnalytics()`
- **Remote Evaluation**: `fetch()`, `fetchV2()`, `fetch_async()`
- **Local Evaluation**: `start()`, `evaluate()`, `evaluateV2()`
- **Variant Access**: `variant()`, `getAllVariants()`

### Configuration Parameters
- `fetchTimeoutMillis`, `fetchRetries`: Network timeout and retry configuration
- `flagConfigPollingIntervalMillis`: Local evaluation sync frequency
- `maxCohortSize`: Cohort targeting size limits
- `assignmentConfig`: Assignment tracking configuration

### Deployment Options
The Evaluation Proxy supports Kubernetes deployment via Helm charts (`evaluation-proxy-helm`) with Redis for persistent storage, YAML configuration management, and stateless scaling behind load balancers on port 3546.

## Broader Product Ecosystem Integration

Amplitude Experiment operates as a core component within the broader Amplitude Digital Analytics Platform, leveraging shared user data, behavioral cohorts, and analytics infrastructure. The tight integration with Amplitude Analytics enables sophisticated targeting based on user behavior patterns and provides comprehensive experiment analysis capabilities. The platform's multi-language SDK support and flexible deployment options position it as an enterprise-grade solution for organizations implementing feature management and experimentation workflows across their entire technology stack while maintaining consistent user experiences and robust analytics integration.
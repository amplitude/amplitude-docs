## Amplitude Experiment SDK Suite

Amplitude Experiment is a comprehensive feature flagging and experimentation platform that provides both remote and local evaluation capabilities across multiple programming languages and platforms. The platform enables developers to implement A/B testing, feature toggles, and targeted feature rollouts with sophisticated user segmentation and cohort targeting.

## Product Architecture and Evaluation Models

The Experiment platform operates on two primary evaluation models:

**Remote Evaluation** fetches flag variants from Amplitude's servers in real-time using deployment keys, making API calls to retrieve user-specific configurations. This approach ensures flags are always current but introduces network latency.

**Local Evaluation** downloads flag configurations to the client and evaluates variants locally, offering faster performance through client-side processing. Local evaluation supports advanced features like flag streaming, cohort synchronization, and automatic assignment tracking.

The **Evaluation Proxy** serves as a bridge service for unsupported platforms, providing local evaluation capabilities through a Docker-deployed service (amplitudeinc/evaluation-proxy) that handles assignment event tracking with 24-hour deduplication and hourly cohort syncing.

## SDK Portfolio and Platform Coverage

### Server-Side SDKs
- **Node.js SDK** (@amplitude/experiment-node-server): Supports both evaluation modes with comprehensive configuration options including fetchTimeoutMillis, fetchRetries, and cohortSyncConfig
- **JVM SDK**: Java/Kotlin implementation with Maven/Gradle support, featuring CompletableFuture async operations and group-level bucketing
- **Go SDK** (github.com/amplitude/experiment-go-server): Lightweight implementation with flag streaming and ServerZone configuration
- **Python SDK** (amplitude-experiment): Python 3.6+ compatible with fetch_v2/evaluate_v2 methods and async support
- **Ruby SDK** (amplitude-experiment gem): Ruby 2.0+ support with darwin/amd64 and linux/arm64 architecture compatibility
- **PHP SDK**: PHP 7.4+ implementation with GuzzleHTTPClient and PSR logger interface support

### Client-Side SDKs
- **JavaScript SDK** (@amplitude/experiment-js-client): Browser-based implementation with npm/yarn/script installation options
- **React Native SDK** (@amplitude/experiment-react-native-client): Cross-platform mobile solution requiring @react-native-async-storage/async-storage
- **Android SDK** (experiment-android-client): Native Android implementation via Maven Central
- **iOS SDK**: Native iOS support through CocoaPods and Swift Package Manager
- **React Native Legacy SDK**: Maintenance-mode SDK for iOS/Android only (no web support)

## Core Nomenclature and Concepts

**Deployment Keys** authenticate SDK instances and determine flag configuration access. **Flag Keys** identify specific feature flags within experiments. **Variants** represent different flag states or values returned to users.

**ExperimentUser** objects contain user identification and properties for targeting, supporting user_properties, group_properties, and device_id fields. **Cohort Targeting** enables sophisticated user segmentation through CohortSyncConfig with configurable maxCohortSize and sync intervals.

**Assignment Tracking** automatically records when users receive flag variants, with configurable AssignmentConfig and DefaultAssignmentTrackingProvider implementations. **Exposure Tracking** captures when users actually encounter flag-controlled features through ExposureTrackingProvider interfaces.

## Integration Ecosystem and Analytics

The platform integrates deeply with **Amplitude Analytics** through initializeWithAmplitudeAnalytics methods, enabling automatic device ID synchronization via **AmplitudeCookie** parsing. Third-party analytics integrations include **Segment Analytics** and **mParticle**.

**ServerZone** configuration supports both US (ServerZone.US) and EU (ServerZone.EU) data residency requirements, with corresponding serverUrl and cohortServerUrl endpoints.

## Configuration and Deployment Patterns

SDKs support **bootstrapping** through initialVariants and initialFlags configuration, enabling immediate flag access before remote fetches complete. **Flag streaming** (StreamUpdates) provides real-time configuration updates, while **polling intervals** (flagConfigPollingIntervalMillis, FlagConfigPollingInterval) control batch update frequency.

The Evaluation Proxy deploys as stateless instances behind load balancers, configured via YAML with projects containing apiKey, secretKey, and managementKey credentials. **Redis persistent storage** supports cohort data caching and assignment deduplication.

## API Patterns and Method Signatures

Common SDK patterns include:
- **Initialization**: `initializeRemote()`, `initializeLocal()`, `ExperimentClient.initialize()`
- **Evaluation**: `fetch()`, `fetchV2()`, `evaluate()`, `evaluateV2()`, `start()`
- **Variant Access**: `variant()`, `variant.value`, flag key-based retrieval
- **Lifecycle**: `start()`, `stop()`, `clear()`, `refreshFlagConfigs()`

The platform operates on port 3546 for proxy services and supports management API endpoints for deployment updates and configuration management.
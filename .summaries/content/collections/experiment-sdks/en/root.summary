# Amplitude Experiment: Feature Flag and Experimentation Platform

Amplitude Experiment is a comprehensive feature flag and experimentation platform that enables developers to implement feature flags, run A/B tests, and manage experiments across various platforms and programming languages. The platform supports both client-side and server-side implementations with flexible evaluation options.

## Key Features

- **Feature Flag Management**: Create, deploy, and manage feature flags across applications
- **Remote and Local Evaluation**: Support for both server-dependent and offline evaluation modes
- **Automatic Exposure Tracking**: Built-in tracking of feature flag exposures
- **Cohort Targeting**: Target specific user segments with features
- **Analytics Integration**: Native integration with Amplitude Analytics and support for third-party analytics providers
- **Multi-platform Support**: SDKs for various platforms including mobile, web, and server environments
- **Account-level Bucketing**: Consistent user experiences across devices

## Product Architecture

Amplitude Experiment consists of several components that work together:

1. **SDK Clients**: Platform-specific libraries that integrate with applications
2. **Evaluation Proxy**: Service for local evaluation within your infrastructure
3. **Flag Configuration**: Centralized management of feature flags and experiments
4. **Analytics Integration**: Connection to Amplitude Analytics or third-party providers

## Evaluation Methods

Amplitude Experiment supports two primary evaluation methods:

### Remote Evaluation
- Server-dependent evaluation where the SDK makes API calls to Amplitude servers
- Suitable for client-side applications (mobile, web)
- Requires network connectivity
- Uses client-side deployment keys

### Local Evaluation
- Offline evaluation where flag configurations are downloaded to the client
- Suitable for server-side applications or performance-critical scenarios
- Operates without continuous network dependency
- Uses server-side deployment keys
- Supports advanced targeting including cohort-based targeting

## SDK Ecosystem

Amplitude Experiment provides SDKs for multiple platforms:

### Client-side SDKs
- **JavaScript**: Web applications
- **React Native**: Cross-platform mobile applications
- **iOS**: Native iOS applications (Swift)
- **Android**: Native Android applications

### Server-side SDKs
- **Node.js**: JavaScript server environments
- **JVM**: Java and Kotlin applications
- **Python**: Python applications
- **Ruby**: Ruby applications
- **Go**: Go applications
- **PHP**: PHP applications

## Core Concepts and Nomenclature

- **Variant**: A specific version or configuration of a feature flag
- **ExperimentUser**: Object representing a user with properties for targeting and evaluation
- **Deployment Key**: Authentication key for accessing Experiment services (server-side or client-side)
- **Exposure**: Event recorded when a user is exposed to a feature flag
- **Assignment**: The specific variant a user is assigned to for a feature flag
- **Bootstrapping**: Process of pre-loading flag configurations
- **Cohort Targeting**: Targeting users based on predefined segments
- **Flag Configuration**: Settings that define how a feature flag behaves
- **Flag Streaming**: Real-time updates to flag configurations
- **User Provider**: Component that supplies user information for evaluation

## Evaluation Proxy

The Evaluation Proxy is a service that enables local evaluation within your infrastructure, particularly useful for:

- Platforms without native SDKs
- Enhancing evaluation with large cohort targeting
- Automatic tracking of assignment events with 24-hour deduplication

The proxy can be deployed using Docker or Kubernetes and supports configuration via YAML or environment variables. Redis is recommended for persistent storage.

## API Endpoints and Methods

### Common SDK Methods

Most SDKs implement these core methods:

- **initialize**: Set up the client with configuration options
- **fetch/fetchV2**: Retrieve flag variants for a user
- **evaluate/evaluateV2**: Evaluate flag variants locally
- **variant**: Get a specific flag variant for a user
- **exposure/track**: Record exposure events
- **setUser**: Update the current user for evaluation

### Evaluation Proxy API

- `GET /v1/vardata`: Fetch variant data for a user
- `POST /v1/track`: Track assignment events

## Integration with Amplitude Analytics

Amplitude Experiment integrates natively with Amplitude Analytics for:

- Automatic exposure tracking
- User property synchronization
- Experiment results analysis
- Cohort definition and targeting

## Configuration Options

Common configuration options across SDKs include:

- **Server Zone**: US or EU data residency options
- **Debug Mode**: Enhanced logging for development
- **Timeout**: Network request timeout settings
- **Polling Interval**: Frequency of flag configuration updates
- **Bootstrap**: Initial flag configuration data
- **User Provider**: Custom user data provider implementation
- **Assignment Tracking Provider**: Custom implementation for tracking assignments

## Implementation Patterns

1. **Initialize the client** with your deployment key
2. **Define a user** with relevant properties for targeting
3. **Fetch variants** for the user
4. **Access flag variants** in your application logic
5. **Track exposures** automatically or manually

The platform supports both synchronous and asynchronous patterns depending on the SDK and use case.
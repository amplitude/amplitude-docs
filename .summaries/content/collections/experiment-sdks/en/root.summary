## Amplitude Experiment SDK Suite

Amplitude Experiment is a comprehensive feature flagging and experimentation platform that provides client-side and server-side SDKs across multiple programming languages and platforms. The platform enables developers to implement feature flags, conduct A/B tests, and manage user experiences through controlled feature rollouts with sophisticated targeting capabilities.

## Product Architecture and Evaluation Models

The Amplitude Experiment ecosystem operates on two primary evaluation models:

**Remote Evaluation**: SDKs fetch pre-computed variants from Amplitude's servers via API calls. This approach is simpler to implement but requires network requests for each evaluation. Remote evaluation clients use methods like `fetch()`, `fetchV2()`, or `fetch_async()` to retrieve variants for specific users.

**Local Evaluation**: SDKs download flag configurations and evaluate variants locally on the client or server. This provides faster performance and offline capability but requires more complex setup. Local evaluation clients use methods like `start()`, `evaluate()`, `evaluateV2()`, or `evaluate_v2()` and maintain local flag configuration caches.

The **Evaluation Proxy** serves as a bridge solution, enabling local evaluation capabilities on platforms without native SDK support while providing centralized assignment tracking and cohort synchronization.

## Platform Coverage and SDK Implementations

### Client-Side SDKs
- **JavaScript**: `@amplitude/experiment-js-client` for web applications
- **React Native**: `@amplitude/experiment-react-native-client` with async storage dependency
- **Android**: `experiment-android-client` via Maven Central
- **iOS**: Available through CocoaPods and Swift Package Manager

### Server-Side SDKs
- **Node.js**: `@amplitude/experiment-node-server` 
- **JVM**: Java/Kotlin implementation supporting both evaluation modes
- **Python**: `amplitude-experiment` package (Python 3.6+)
- **Ruby**: `amplitude-experiment` gem (Ruby 2.0+)
- **PHP**: Server-side implementation (PHP 7.4+)
- **Go**: `github.com/amplitude/experiment-go-server`

## Core Concepts and Nomenclature

**Deployment Key**: Authentication credential used to initialize SDK clients and identify the experiment environment.

**Flag Key**: Unique identifier for individual feature flags within experiments.

**Variants**: The different versions or values that a feature flag can return, containing the actual configuration or feature state.

**ExperimentUser**: User object containing identification and properties used for targeting and bucketing decisions.

**Exposure Tracking**: Automatic or manual tracking of when users are exposed to specific variants, enabling accurate experiment analysis.

**Cohort Targeting**: Advanced targeting capability that allows flags to target specific user cohorts defined in Amplitude Analytics.

**Bootstrapping**: Pre-loading initial variants or flag configurations to reduce latency and enable offline functionality.

## Integration Patterns and Analytics

### Amplitude Analytics Integration
Most SDKs provide seamless integration with Amplitude Analytics through methods like `initializeWithAmplitudeAnalytics()`, enabling automatic user identification, device ID synchronization via `AmplitudeCookie` parsing, and streamlined exposure tracking.

### Third-Party Analytics Integration
SDKs support integration with external analytics providers (such as Segment) through provider interfaces:
- **ExposureTrackingProvider**: Custom exposure event tracking
- **ExperimentUserProvider**: Dynamic user property management

## Advanced Configuration and Features

### Cohort Synchronization
Server-side SDKs support cohort targeting through `CohortSyncConfig` settings, enabling flags to target users based on behavioral cohorts defined in Amplitude with configurable sync intervals and size limits.

### Assignment Tracking
Automatic assignment tracking via `AssignmentConfig` or `DefaultAssignmentTrackingProvider` ensures accurate experiment measurement with built-in deduplication (24-hour windows in the Evaluation Proxy).

### Flag Configuration Management
Local evaluation clients support:
- **Polling**: Regular flag configuration updates via `flagConfigPollingIntervalMillis`
- **Streaming**: Real-time updates through `streamUpdates` or `StreamUpdates`
- **Bootstrap**: Initial flag configurations to reduce startup latency

### Geographic and Infrastructure Options
- **ServerZone Configuration**: Support for EU data residency through `ServerZone.EU` settings
- **Load Balancer Compatibility**: Stateless service design enables horizontal scaling
- **Docker Deployment**: Evaluation Proxy available as `amplitudeinc/evaluation-proxy` with Kubernetes Helm chart support

## API Endpoints and Service Architecture

The Evaluation Proxy operates on port 3546 and provides management API endpoints for deployment updates. The service integrates with Redis for persistent storage and supports both YAML and environment variable configuration methods.

Server-side SDKs typically support both synchronous and asynchronous operations, with languages like Java/Kotlin using `CompletableFuture` patterns and Ruby providing callback-based `fetch_async` methods.

The platform supports sophisticated targeting including account-level bucketing, group properties, and fallback variant handling, making it suitable for enterprise-scale feature management and experimentation workflows.
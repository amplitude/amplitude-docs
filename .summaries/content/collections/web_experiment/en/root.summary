## Amplitude Web Experimentation

Amplitude Web Experimentation is a comprehensive A/B testing and experimentation platform that enables teams to run client-side experiments without requiring code changes. The platform centers around a Visual Editor that allows users to create and modify website elements, implement URL redirects, and inject custom code to test different user experiences.

## Product Architecture and Feature Relationships

The Web Experimentation platform consists of several interconnected components that work together to deliver seamless experimentation capabilities:

**Core Script and Implementation**: The foundation is a dynamically-sized JavaScript script (79KB base + ~1KB per flag) served from `cdn.amplitude.com` with two-layer CDN/browser caching. The script supports both synchronous and asynchronous loading patterns, with anti-flicker snippets to prevent visual inconsistencies during experiment evaluation.

**Visual Editor and Actions**: The Visual Editor serves as the primary interface for creating experiments without code changes. It supports multiple action types including element modifications (display, visibility, text, background, positioning), URL redirects with query parameter retention, and custom code injection (JavaScript, CSS, HTML). The editor provides utility functions like `waitForElement` and `utils.remove` for DOM manipulation and cleanup.

**Pages and Targeting System**: The Pages functionality controls experiment scope through sophisticated URL targeting rules (URL Matches Exactly, Contains, Regex patterns, Starts/Ends With). This integrates with a dual-layer targeting system that evaluates browser properties locally and user properties remotely, supporting audience segmentation based on device characteristics, geolocation, behavioral cohorts, and UTM parameters.

**Multi-Page Application Support**: The platform maintains experiment state across page navigations using session storage persistence, enabling complex experiment flows that span multiple pages while preserving variant assignments and visual editor functionality.

## Key Nomenclature and Definitions

**Web Experiment**: The primary experiment type that runs client-side modifications to websites, distinct from server-side feature experiments in targeting capabilities and implementation approach.

**Variants**: Different versions of an experiment that users are bucketed into, each containing specific actions that modify the user experience.

**Actions**: The specific modifications applied by variants, categorized as element changes, URL redirects, or custom code injections.

**Pages**: URL targeting configurations that determine where experiments run, using various matching operators and conditions.

**Visual Editor**: The no-code interface for creating and modifying experiments, with preview and navigation modes for testing across multiple pages.

**Anti-flicker**: A mechanism that prevents visual inconsistencies during experiment loading, with a 1-second timeout for remote property evaluation.

**Bucketing**: The process of assigning users to experiment variants based on rollout percentages and distribution settings.

**Impression Events**: Tracking events (`$impression` transformed to `[Experiment] Impression`) that record user exposure to experiments for analysis and billing purposes.

## Ecosystem Integration

Web Experimentation integrates extensively with Amplitude's broader analytics ecosystem and third-party platforms:

**Analytics Integration**: Impression events automatically flow into Amplitude Analytics with experiment user properties set for segmentation and analysis. The platform supports Device ID consistency and Amplitude ID resolution for unified user tracking.

**Third-Party CDPs**: Native integrations with Segment and Tealium through the IntegrationPlugin interface, plus custom integration capabilities for other customer data platforms.

**CMS and Tag Management**: Direct integrations with WordPress (plugin), Shopify (app), and Google Tag Manager (custom HTML tag) for simplified deployment across different technology stacks.

**Content Security Policy**: Supports CSP implementations with appropriate `script-src` directives and Cross-Origin-Opener-Policy configurations.

## API Endpoints and Technical Implementation

**Script Loading**: Primary script endpoint at `cdn.amplitude.com` with dynamic sizing based on active experiments and flags.

**IntegrationPlugin Interface**: Standardized API for third-party integrations supporting user identification, property enrichment, and event forwarding.

**Utility Functions**: 
- `waitForElement()` for DOM element detection
- `utils.remove()` for cleanup operations
- Session storage APIs for state persistence

**Targeting Evaluation**: Local evaluation for browser properties (<1ms synchronous) and remote evaluation for user properties with anti-flicker overlay management.

## Post-Experiment Workflow

The platform includes comprehensive post-experiment capabilities for transitioning winning variants to production. This involves statistical significance analysis, production code migration to eliminate client-side overhead, experiment deactivation, and cleanup processes to reduce technical debt and impression volume costs. The workflow emphasizes moving successful experiments from client-side evaluation to permanent code implementations for optimal performance.
# Web Experiment Product Overview

Web Experiment is an Amplitude product that enables non-technical users to create and run A/B tests on websites by visually modifying elements without coding. The product allows for creating website variants, targeting specific pages and audiences, and analyzing the results of experiments to make data-driven decisions.

## Key Features and Concepts

- **Visual Editor**: A WYSIWYG interface that allows users to modify website elements without coding knowledge
- **Element Changes**: Ability to modify display, visibility, text, background, and position of elements
- **Custom Code Actions**: Support for injecting JavaScript, HTML, and CSS into variants
- **URL Redirects**: Capability to redirect users to different URLs as part of an experiment
- **Targeting**: Page-level targeting via URL matching and audience targeting based on user properties
- **Anti-flicker Technology**: Prevents flickering during experiment loading
- **Performance Optimization**: Minimal impact with two-layer caching (CDN and browser)
- **Integration Options**: Support for third-party CDPs, CMSs, and tag managers

## Product Relationships and Architecture

Web Experiment integrates with the broader Amplitude ecosystem:

1. **Amplitude Experiment**: Web Experiment is a component of Amplitude's experimentation platform
2. **Amplitude Analytics**: Experiment impressions are tracked as events (`[Experiment] Impression`) for analysis
3. **Flag Evaluation**: Uses Amplitude's flag evaluation system for determining which variant to show users
4. **Visual Editor**: Provides a no-code interface for creating variants within the Amplitude platform

The implementation flow consists of:
1. Adding the Web Experiment script to a website
2. Creating experiments with variants using the Visual Editor
3. Setting targeting rules for pages and audiences
4. Launching the experiment
5. Analyzing results
6. Migrating winning variants to production code

## Key Nomenclature and Definitions

- **Variant**: A modified version of a webpage created for testing
- **Flag Key**: Unique identifier for an experiment
- **Impression**: An event recorded when a user sees an experiment variant
- **Bucketing**: The process of assigning users to specific variants based on distribution settings
- **Anti-flicker Snippet**: Code that prevents visual flickering during experiment loading
- **Page Targeting**: Rules that determine which pages an experiment runs on
- **Audience Targeting**: Rules that determine which users see an experiment
- **Rollout Percentage**: The portion of users included in an experiment
- **Variant Distribution**: How users are allocated across different variants

## Integration with Product Ecosystem

Web Experiment works within Amplitude's experimentation and analytics platform:

1. **Experiment Creation**: Experiments are created in the Amplitude interface
2. **Data Collection**: Impression events are sent to Amplitude Analytics
3. **Analysis**: Results are analyzed using Amplitude's analytics capabilities
4. **User Properties**: Experiment participation is stored as user properties for segmentation
5. **Third-party Integrations**: Supports integration with Segment, Tealium, and other CDPs
6. **CMS Support**: Dedicated plugins for WordPress and implementation guides for Shopify

## Technical Implementation

### Script Implementation

```html
<!-- Synchronous implementation -->
<script src="https://cdn.experiment.amplitude.com/experiment.js"></script>
<script>
  experiment.initiate({
    apiKey: 'YOUR-API-KEY',
    // Optional configuration
  });
</script>

<!-- Asynchronous implementation with anti-flicker -->
<script>
  !function(){var e=document.createElement("style");e.textContent=":root{opacity:0;transition:opacity 0.5s;}";document.head.appendChild(e);window.setTimeout(function(){document.documentElement.style.opacity="1"},500)}();
</script>
<script async src="https://cdn.experiment.amplitude.com/experiment.js"></script>
<script>
  window.experimentConfig = {
    apiKey: 'YOUR-API-KEY',
    // Optional configuration
  };
</script>
```

### Utility Functions

Web Experiment provides utility functions for dynamic page modifications:

```javascript
// Wait for an element to appear in the DOM
experiment.utils.waitForElement('.selector', (element) => {
  // Modify the element
});

// Remove an element
experiment.utils.remove('.selector');
```

### Event Tracking

Impression events are automatically tracked with the following properties:
- `flag_key`: The experiment identifier
- `variant`: The variant the user is seeing
- `experiment_key`: The experiment name
- `$impression`: Set to true for impression events

## Post-Experiment Workflow

After an experiment reaches statistical significance:
1. Analyze results to determine the winning variant
2. Implement the winning variant in production code
3. Deactivate the experiment in Amplitude
4. Document the experiment results and implementation details
5. Remove the experiment from the Web Experiment configuration to reduce technical debt and optimize performance

The documentation emphasizes that experiments should not be left running at 100% allocation indefinitely, as this can impact performance and create technical debt.
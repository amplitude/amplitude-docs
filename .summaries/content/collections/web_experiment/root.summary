## Amplitude Web Experimentation

Amplitude Web Experimentation is a comprehensive A/B testing and experimentation platform that enables teams to run client-side experiments without requiring code changes. The platform provides a Visual Editor for creating experiments through point-and-click modifications, supports custom code injection, and offers sophisticated targeting and performance optimization features.

### Core Features and Use Cases

The platform supports multiple experiment types including A/B tests and multi-armed bandit experiments. Key capabilities include:

- **Visual Editor**: Point-and-click experiment creation with real-time DOM manipulation
- **Element Modifications**: Change display properties, visibility, text content, backgrounds, and element positioning
- **URL Redirects**: Client-side redirects with query parameter retention and session history evaluation
- **Custom Code Actions**: JavaScript, CSS, and HTML injection with utility functions for DOM manipulation
- **Advanced Targeting**: Page-level and audience-based targeting with local and remote property evaluation
- **Performance Optimization**: Dynamic script sizing, multi-layer caching, and anti-flicker functionality

## Product Relationships and Architecture

### Script Implementation and Integration
The Web Experimentation platform centers around a standalone JavaScript script that can be implemented synchronously or asynchronously. The script integrates with:

- **Amplitude Browser SDK**: For unified analytics and user tracking
- **Third-party CDPs**: Including Segment and Tealium through IntegrationPlugin interface
- **CMS Platforms**: WordPress and Shopify plugins for easy integration
- **Tag Managers**: Google Tag Manager custom HTML tag support

### Experiment Components Hierarchy
```
Web Experiment
├── Pages (URL targeting and scoping)
├── Actions (variant modifications)
├── Targeting (audience and page evaluation)
└── Tracking (impression events and analytics)
```

### Pages and Variant Scoping
Pages functionality controls where experiments run through URL targeting rules, including URL Matches Exactly, URL Contains, URL Starts With, URL Ends With, and URL Matches Regex operators. Each variant can be scoped to specific pages, with the Visual Editor providing URL preview capabilities.

## Key Nomenclature and Definitions

### Technical Terms
- **Anti-flicker Snippet**: Code that prevents page flickering during experiment evaluation with 1-second timeout
- **Bucketing**: Process of assigning users to experiment variants based on rollout and distribution settings
- **Device ID/Amplitude ID**: User identification mechanisms for consistent experiment assignment
- **IntegrationPlugin**: Interface for third-party CDP integrations with experiment user object passing
- **Impression Events**: Tracking events (`$impression` transformed to `[Experiment] Impression`) fired when users are exposed to variants

### Operational Concepts
- **Flag Key/Variant Properties**: Experiment identifiers and variant assignments tracked in analytics
- **MTU (Monthly Tracked Users)**: Billing metric for experiment analysis
- **Rollout/Distribution**: Traffic allocation mechanisms for experiment variants
- **Stale-while-revalidate**: Caching strategy with 60-second max-age for performance optimization

### Utility Functions
- **waitForElement**: DOM utility for element availability checking
- **utils.remove**: Cleanup function for single-page applications using MutationObserver

## Broader Product Ecosystem Integration

### Analytics and Data Pipeline
Web Experimentation integrates deeply with Amplitude's analytics ecosystem through impression event tracking and user property enrichment. Events flow through the standard Amplitude data pipeline, enabling experiment analysis within Amplitude Analytics dashboards.

### Performance and Infrastructure
The platform leverages Amplitude's global CDN infrastructure with endpoints for US (cdn.amplitude.com) and EU (cdn.eu.amplitude.com) data centers. Dynamic script sizing starts at 79KB base with ~1KB per additional flag, optimized through two-layer CDN/browser caching.

### Enterprise Features
Growth Enterprise plans include advanced custom code actions and enhanced DOM manipulation capabilities, indicating tiered feature availability across Amplitude's product offerings.

## API Endpoints and Technical Implementation

### CDN Endpoints
- **US Data Center**: `cdn.amplitude.com`
- **EU Data Center**: `cdn.eu.amplitude.com`

### Integration Methods
- **Segment Integration**: Query parameter-based integration for CDP data flow
- **Tealium Integration**: iQ and AudienceStream compatibility with experimentIntegration window variable
- **Custom Integration**: IntegrationPlugin interface for bespoke CDP connections

### Security Considerations
Implementation requires Content Security Policy script-src allowlisting and Cross-Origin-Opener-Policy configuration for proper functionality.

### Post-Experiment Workflow
The platform includes comprehensive post-experiment processes including winner analysis, production code migration, experiment deactivation, and technical debt cleanup to optimize performance and reduce impression volume costs.
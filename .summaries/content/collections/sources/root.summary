# Amplitude Data Sources and Instrumentation

## High-Level Overview

Amplitude is an analytics platform that enables organizations to track and analyze user behavior across digital products. The platform collects data from various sources, tracks user sessions, revenue, and unique users, and provides tools for data analysis and visualization. Key features include third-party platform integration, cross-device user identification, session tracking, revenue tracking, data export capabilities, and ingestion debugging.

## Product Relationships and Features

### Data Sources and Integration

Amplitude Data connects to third-party platforms through the Sources interface, which consists of:

1. **Sources List**: Displays all connected data sources with metrics on event volume and throttled users
2. **Ingestion Debugger**: Provides tools to troubleshoot data ingestion issues

Users can add new data sources through the Catalog, which offers various pre-built integrations. The platform supports both direct SDK instrumentation and third-party data imports, enabling cross-platform analytics.

### Tracking and Instrumentation

Amplitude provides three core tracking capabilities:

1. **User Tracking**: Identifies unique users through a three-ID system:
   - Device ID: Automatically generated for each device
   - User ID: Custom identifier set by the application
   - Amplitude ID: Internal identifier that links Device IDs and User IDs

2. **Session Tracking**: Defines and tracks user sessions differently for:
   - Mobile applications: Based on app foreground/background status
   - Web applications: Based on activity timeouts
   
   Sessions can be customized through SDK configuration or HTTP API calls.

3. **Revenue Tracking**: Captures purchase data through:
   - `logRevenueV2` method for in-app purchases
   - Custom event tracking for non-app purchases
   - Revenue properties ($revenue, $price, $quantity)
   - Receipt validation for purchase verification

### Data Export and Analysis

Amplitude offers data export capabilities with important considerations:

- Data exported via Export API or to Snowflake/Redshift may show discrepancies compared to Amplitude charts
- Timezone differences exist between platforms (Amplitude uses project timezone while Export API uses UTC)
- Different time references are used (Export API uses server_upload_time rather than event time)

## Key Nomenclature and Definitions

- **Amplitude ID**: Internal identifier tracking unique users across devices and sessions
- **Device ID**: Identifier for a specific device (IDFA, IDFV, AdID, or custom)
- **User ID**: Custom identifier set by the application for logged-in users
- **Session ID**: Unique identifier for a user's session, generated as a Unix timestamp
- **client_event_time**: Timestamp when an event occurred on the client device
- **server_upload_time**: Timestamp when Amplitude servers received the event
- **$revenue**: Property indicating the total revenue from a purchase
- **$price**: Property indicating the price of a single item
- **$quantity**: Property indicating the number of items purchased
- **Sources List**: Interface showing connected data sources and their metrics
- **Ingestion Debugger**: Tool for troubleshooting data ingestion issues
- **User merging**: Process where Amplitude combines multiple Amplitude IDs belonging to the same user

## Product Ecosystem Integration

Amplitude's data sources functionality integrates with the broader ecosystem by:

1. Feeding collected data into Amplitude's analytics platform for unified analysis
2. Enabling cross-platform user journey analysis through session and user tracking
3. Providing revenue data for specialized charts like Revenue LTV
4. Supporting data export to external warehouses (Snowflake/Redshift) for custom analysis
5. Supporting both real-time analytics and historical data analysis

## API Endpoints and Technical Implementation

### HTTP API
- Amplitude provides an HTTP API for sending events, including session and revenue tracking
- The Export API uses server_upload_time and UTC timezone for data retrieval

### SDK Methods
- **logRevenueV2**: Preferred method for tracking revenue events
- **setUserId**: Sets the User ID for identifying logged-in users
- **regenerateDeviceId**: Creates a new Device ID for the current user
- Session tracking methods include Start Session events, End Session events, and session timeout configuration

### Implementation Considerations
- Session length is calculated as the difference between maximum and minimum client_event_time within a session
- Hidden, inactive, or deleted events are excluded from session length calculations
- Cross-domain tracking requires special configuration to maintain user identity
- Receipt validation should be implemented for accurate revenue tracking
- Time zone differences must be considered when comparing data across platforms
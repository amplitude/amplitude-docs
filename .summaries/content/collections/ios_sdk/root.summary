## Amplitude iOS SDK Product Suite

The Amplitude iOS SDK ecosystem is a comprehensive analytics, experimentation, and user behavior tracking solution for iOS applications. It consists of multiple interconnected SDKs designed to provide full-spectrum user analytics capabilities, from basic event tracking to advanced session replay and feature experimentation. The suite supports iOS, macOS, tvOS, watchOS, and visionOS platforms with comprehensive privacy compliance and App Store requirements adherence.

## Product Relationships and Architecture

The iOS SDK ecosystem follows an evolutionary three-generation architecture:

**Legacy iOS SDK (Amplitude-iOS)** serves as the original Objective-C foundation in maintenance mode, featuring middleware architecture and HTTP v1 API integration with traditional instance-based patterns for core analytics functionality.

**iOS Swift SDK (Amplitude-Swift)** represents the modern Swift-first replacement, implementing a plugin architecture that supersedes the legacy middleware system. It utilizes HTTP v2 API and eliminates the instance() pattern in favor of direct SDK interaction.

**Unified SDK (AmplitudeUnified)** functions as a beta orchestration layer that combines the Analytics SDK (AmplitudeSwift), Experiment SDK, and Session Replay SDK under unified initialization and configuration with automatic identity synchronization across all components.

**Ampli Wrapper** provides a code generation layer compatible with any core SDK, delivering strongly-typed event tracking methods generated from Amplitude tracking plans for enhanced developer experience and data quality assurance.

## Key Nomenclature and Definitions

**AutocaptureOptions** - Configuration object enabling automatic collection of sessions, app lifecycles, screen views, network requests, and user interactions without manual instrumentation requirements.

**Plugin Architecture** - The modern SDK's extensible framework featuring enrichment plugins for data transformation and destination plugins for data routing, replacing the legacy middleware pattern.

**AMPIdentify/Identify** - User property management classes providing methods including set, setOnce, add, remove, append, and prepend for comprehensive user attribute manipulation.

**AMPRevenue/Revenue** - Revenue tracking objects designed for e-commerce analytics with detailed product information, quantities, and pricing data.

**Device ID Lifecycle** - Comprehensive management of device identifiers including IDFA (Identifier for Advertisers), IDFV (Identifier for Vendor), and custom device ID generation with regenerateDeviceId functionality.

**Session Management** - Automated session tracking with configurable minTimeBetweenSessionsMillis, session timeout handling, and out-of-session event support using sessionId -1.

**Tracking Options** - Privacy and compliance controls including COPPA enablement, location data management (disableCity, disableIPAddress), and carrier information control.

**Group Analytics** - Multi-level user organization system with setGroup, groupIdentify, and logEventWithGroups for account-based and organizational analytics structures.

**Storage Protocol** - Customizable data persistence layer allowing custom storage provider implementation for event queuing and user data management.

## Broader Product Ecosystem Integration

The iOS SDKs integrate comprehensively into Amplitude's analytics platform through multiple integration points:

**Amplitude Analytics Platform** receives event data from all SDKs via ingestion endpoints with EU data residency support through AMPServerZone.EU configuration and dynamic configuration capabilities via useDynamicConfig.

**Amplitude Experiment** integrates seamlessly through the Unified SDK, providing feature flagging via amplitude.experiment.fetch() and amplitude.experiment.variant() methods with automatic user context synchronization.

**Session Replay** offers iOS-specific session recording through amplitude.sessionReplay.startRecording() and stopRecording() methods for detailed user behavior analysis.

**Tracking Plans** connect with Amplitude's schema management system through the Ampli CLI for type-safe event implementation and validation workflows.

## API Endpoints and Command Line Interfaces

**Ampli CLI Commands:**
- `ampli pull` - Downloads strongly-typed tracking methods from Amplitude tracking plans
- `ampli status` - Verifies CLI configuration and connection status

**Core SDK Methods:**
- `track()` - Event logging with properties and configuration options
- `identify()` - User property updates and management
- `setUserId()` / `setDeviceId()` - Identity management and assignment
- `logRevenueV2()` - Revenue event tracking with detailed attribution
- `flush()` - Force immediate event upload to servers
- `setOptOut()` / `setOffline()` - Privacy controls and connectivity management

**Installation Methods:**
- Swift Package Manager integration with Amplitude-Swift package
- CocoaPods installation using AmplitudeSwift pod
- Carthage support with github "amplitude/Amplitude-Swift"

**Network and Interaction Tracking:**
- URLSession monitoring with NetworkTrackingOptions configuration
- UIControl and UIGestureRecognizer tracking via method swizzling
- Frustration detection including rage clicks and dead clicks analysis
- CaptureRule configuration with statusCodeRange and allowlist/blocklist patterns

The SDK suite provides automatic handling of iOS 16+ carrier tracking deprecation, comprehensive privacy manifest compliance for App Store requirements, and advanced autocapture capabilities for user interactions, network requests, and application lifecycle events without requiring manual instrumentation.
# Amplitude iOS SDK Product Overview

## Product Overview

Amplitude's iOS SDK is a comprehensive analytics solution for iOS applications, enabling developers to track user behavior, manage user properties, and analyze app performance. The SDK is available in two versions: the newer iOS Swift SDK (Amplitude-Swift) and the maintenance iOS SDK (Amplitude-iOS). Both versions support event tracking, user identification, revenue tracking, and session management, with the Swift SDK offering enhanced features and a plugin-based architecture.

## Key Features and Capabilities

1. **Event Tracking**: Track user actions and app interactions with custom properties
2. **User Identification**: Associate events with specific users through userId and deviceId
3. **User Properties**: Set, increment, and manage user attributes
4. **Revenue Tracking**: Monitor in-app purchases and revenue events
5. **Session Management**: Configure and track user sessions
6. **Autocapture**: Automatically collect screen views, app lifecycle events, and deep links
7. **Offline Support**: Queue events when offline and send when connectivity is restored
8. **Privacy Controls**: COPPA compliance, EU data residency, and privacy manifest support
9. **Plugin Architecture**: Extend functionality through custom plugins (Swift SDK)

## Product Relationships and Architecture

### SDK Versions

1. **iOS Swift SDK (Amplitude-Swift)**
   - Modern Swift-based implementation
   - Plugin architecture for extensibility
   - Enhanced configuration options
   - Primary recommended SDK for new implementations

2. **Maintenance iOS SDK (Amplitude-iOS)**
   - Legacy Objective-C based implementation
   - Maintained for backward compatibility
   - Being phased out in favor of the Swift SDK

3. **Ampli Wrapper**
   - Code generation layer that provides strongly-typed events
   - Works with the Swift SDK
   - Ensures type safety and consistent event tracking

### Integration Methods

Both SDKs support multiple integration methods:
- CocoaPods
- Swift Package Manager
- Carthage (maintenance SDK only)

## Key Nomenclature and Definitions

- **AmplitudeSwift**: Class name for the Swift SDK implementation
- **Amplitude**: Class name for the maintenance SDK implementation
- **Identify**: API for setting user properties
- **Track**: API for sending events to Amplitude
- **Group**: API for associating users with organizations or groups
- **Revenue**: API for tracking monetary transactions
- **Plugin**: Modular component that extends the Swift SDK functionality
- **Middleware**: Component that can modify events before sending (maintenance SDK)
- **deviceId**: Unique identifier for the device
- **userId**: Custom identifier for the user
- **sessionId**: Identifier for a user session
- **Ampli**: Generated wrapper providing type-safe event tracking

## Product Ecosystem Integration

The iOS SDK integrates with the broader Amplitude ecosystem:

1. **Amplitude Analytics Platform**: All tracked events are sent to Amplitude's analytics platform for analysis
2. **Ampli CLI**: Command-line tool for generating type-safe tracking code based on a tracking plan
3. **Data Destinations**: Events can be forwarded to other platforms through Amplitude's data routing
4. **Identity Resolution**: User identification aligns with Amplitude's cross-platform identity resolution

## API Endpoints and Implementation

### Swift SDK Initialization

```swift
import AmplitudeSwift

let amplitude = Amplitude(
    configuration: Configuration(
        apiKey: "YOUR-API-KEY",
        defaultTracking: DefaultTrackingOptions(
            sessions: true,
            appLifecycles: true,
            screenViews: true,
            deepLinks: true
        )
    )
)
```

### Event Tracking

```swift
// Basic event tracking
amplitude.track(
    eventType: "Button Clicked",
    eventProperties: ["buttonColor": "blue"]
)

// With event options
amplitude.track(
    eventType: "Purchase",
    eventProperties: ["price": 10.99],
    options: EventOptions(userId: "user-123")
)
```

### User Identification

```swift
// Set user ID
amplitude.setUserId("user-123")

// Set user properties
let identify = Identify()
identify.set(property: "premium", value: true)
identify.add(property: "loginCount", value: 1)
amplitude.identify(identify: identify)
```

### Ampli Wrapper Usage

```swift
// Initialize Ampli
let ampli = Ampli()
ampli.load(LoadOptions(client: AmplitudeSwift(apiKey: "API-KEY")))

// Track strongly-typed events
ampli.songPlayed(name: "Song Name", duration: 240)
```

### Command Line Invocations (Ampli CLI)

```bash
# Pull tracking plan
ampli pull

# Check status of tracking plan implementation
ampli status
```

## Migration Considerations

When migrating from the maintenance SDK to the Swift SDK:

1. Update dependencies to use AmplitudeSwift
2. Replace initialization code with the new Configuration object
3. Update event tracking calls to match the new API
4. Adapt user property management to the new Identify API
5. Implement plugins to replace middleware functionality
6. Review and update session configuration

The migration guide provides detailed instructions for each step of the transition process.
# Amplitude iOS SDK Product Overview

## Product Overview

The Amplitude iOS SDK is a comprehensive analytics solution for iOS applications that enables developers to track user behavior, manage user properties, and analyze app usage patterns. The SDK family consists of multiple components:

1. **iOS Swift SDK (AmplitudeSwift)** - The modern, Swift-native implementation with plugin architecture
2. **Maintenance iOS SDK (Amplitude-iOS)** - The legacy Objective-C based SDK
3. **Ampli Wrapper** - A type-safe code generation tool that creates strongly-typed methods based on a tracking plan
4. **Unified SDK for Swift** - A wrapper that integrates Analytics, Experiment, and Session Replay products

The SDK supports both Swift and Objective-C applications and offers various installation methods including CocoaPods, Carthage, and Swift Package Manager.

## Product Relationships and Architecture

### SDK Versions and Relationships

- **iOS Swift SDK (AmplitudeSwift)** is the current recommended SDK, built with a modern plugin architecture.
- **Maintenance iOS SDK (Amplitude-iOS)** is the legacy SDK that is still supported but not actively developed.
- **Migration Path**: A clear migration path exists from the maintenance SDK to the Swift SDK, with documented API differences.
- **Ampli Wrapper** works with either SDK version but provides additional type safety and tracking plan compliance.
- **Unified SDK** sits as a higher-level abstraction that combines multiple Amplitude products.

### Plugin Architecture

The iOS Swift SDK uses a plugin architecture that allows for:
- Custom event processing
- Middleware implementation
- Integration with other Amplitude products
- Extensibility for custom functionality

### Integration Options

The SDKs can be used in several ways:
1. Direct SDK implementation (Swift or Objective-C)
2. Through the Ampli Wrapper for type-safe implementation
3. Via the Unified SDK when using multiple Amplitude products

## Key Nomenclature and Definitions

- **Event**: An action that a user performs in the application
- **User Properties**: Attributes associated with a user that persist across sessions
- **Group**: A collection of users that can have shared properties
- **Session**: A period of user activity, defined by configurable timeout parameters
- **Device ID**: A unique identifier for the device, which can be automatically generated or custom-defined
- **User ID**: A custom identifier for the user, typically set after authentication
- **Identify**: The process of setting or updating user properties
- **Tracking Plan**: A schema that defines the expected events and properties for an application
- **Middleware**: Custom code that can intercept and modify events before they're sent to Amplitude
- **Plugin**: Modular components that extend the SDK's functionality

## Product Ecosystem Integration

### Analytics Integration

The iOS SDK sends event data to Amplitude Analytics, where it can be:
- Visualized in dashboards
- Used for cohort analysis
- Exported to other platforms
- Used for funnel analysis

### Experiment Integration

Through the Unified SDK, the iOS SDK integrates with Amplitude Experiment to:
- Fetch feature flags and experiment variants
- Track experiment exposures
- Provide consistent user experiences based on experiment assignments

### Session Replay Integration

The Unified SDK also integrates with Session Replay to:
- Capture user interactions
- Record screen states
- Provide visual context to analytics events

### Data Destination Options

The SDK supports:
- Standard US data center
- EU data residency option
- Server-side API endpoint customization

## API and Implementation Details

### Key API Methods

#### Event Tracking
```swift
// Swift SDK
amplitude.track(
    eventType: "Button Clicked",
    eventProperties: ["buttonColor": "blue"]
)

// Maintenance SDK
[[Amplitude instance] logEvent:@"Button Clicked" 
                withEventProperties:@{@"buttonColor": @"blue"}];
```

#### User Identification
```swift
// Swift SDK
amplitude.identify(
    Identify()
        .set("userType", value: "premium")
        .add("loginCount", value: 1)
)

// Maintenance SDK
AMPIdentify *identify = [[AMPIdentify identify] set:@"userType" value:@"premium"];
[identify add:@"loginCount" value:[NSNumber numberWithInt:1]];
[[Amplitude instance] identify:identify];
```

#### Revenue Tracking
```swift
// Swift SDK
amplitude.revenue(
    Revenue()
        .setProductId("com.company.productId")
        .setPrice(3.99)
        .setQuantity(2)
)

// Maintenance SDK
AMPRevenue *revenue = [[[AMPRevenue revenue] setProductIdentifier:@"com.company.productId"] setPrice:[NSNumber numberWithDouble:3.99]];
[revenue setQuantity:2];
[[Amplitude instance] logRevenueV2:revenue];
```

### Configuration Options

```swift
// Swift SDK
let amplitude = Amplitude(
    configuration: Configuration(
        apiKey: "YOUR-API-KEY",
        defaultTracking: DefaultTrackingOptions(
            sessions: true,
            appLifecycles: true,
            deepLinks: true
        ),
        flushQueueSize: 30,
        flushIntervalMillis: 10000
    )
)

// Maintenance SDK
[Amplitude instance].trackingSessionEvents = YES;
[Amplitude instance].eventUploadThreshold = 30;
[Amplitude instance].eventUploadPeriodSeconds = 10;
```

### Command Line Tools (Ampli)

The Ampli CLI provides commands for working with the Ampli Wrapper:

```bash
# Pull tracking plan
ampli pull

# Check implementation status
ampli status
```

## Advanced Features

1. **Autocapture** - Automatically track screen views, network requests, and element interactions
2. **Offline Mode** - Queue events when offline and send when connectivity is restored
3. **Session Management** - Configure session timeouts and tracking
4. **COPPA Control** - Compliance with Children's Online Privacy Protection Act
5. **SSL Pinning** - Enhanced security for API communications
6. **Dynamic Configuration** - Server-side configuration options
7. **App Clips Support** - Analytics for iOS App Clips
8. **Privacy Manifest** - Support for Apple's privacy manifest requirements
9. **Middleware** - Custom event processing before sending to Amplitude
10. **Group Identify** - Set and update properties for groups of users
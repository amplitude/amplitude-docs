# Amplitude iOS SDK Product Suite

The Amplitude iOS SDK product suite delivers comprehensive analytics, experimentation, and session replay capabilities for iOS applications through multiple SDK offerings. The suite encompasses a maintenance iOS SDK (Amplitude-iOS), a modern iOS Swift SDK (Amplitude-Swift), a unified SDK wrapper, and the Ampli code generation tool for type-safe event tracking.

## Product Relationships and Architecture

The iOS SDK ecosystem consists of four interconnected components operating in a hierarchical migration and integration model:

**Core SDKs:**
- **Maintenance iOS SDK (Amplitude-iOS)**: Legacy SDK in maintenance mode supporting both Swift and Objective-C with traditional initialization patterns
- **iOS Swift SDK (Amplitude-Swift)**: Modern replacement featuring enhanced plugin architecture, improved performance, and configuration-based initialization
- **Unified SDK (AmplitudeUnified)**: Beta wrapper integrating Analytics, Experiment, and Session Replay SDKs with unified identity management and cross-product synchronization

**Development Tools:**
- **Ampli Wrapper**: Code generation tool creating strongly-typed event tracking methods from Amplitude tracking plans, compatible with all core SDKs

The architectural progression flows from maintenance SDK → Swift SDK → unified SDK, with Ampli serving as an overlay tool for type-safe implementation across any SDK choice. The unified SDK represents the convergence point for organizations requiring multiple Amplitude products with synchronized user identity and session management.

## Key Nomenclature and Definitions

**Core Analytics Concepts:**
- **Event Tracking**: Primary analytics function using `track()` (Swift SDK) or `logEvent()` (maintenance SDK) for behavioral data capture
- **User Identification**: Associating events with users via `identify()` method with user properties for demographic and behavioral segmentation
- **Device ID Management**: Automatic device identification using IDFA (Identifier for Advertisers), IDFV (Identifier for Vendor), or custom identifiers
- **Session Tracking**: Automatic user session lifecycle management with configurable timeout periods via `minTimeBetweenSessionsMillis`
- **Revenue Tracking**: Specialized event type for purchase and transaction data using dedicated `revenue()` methods

**Technical Architecture:**
- **Plugin System**: Modern architecture in Swift SDK replacing middleware pattern, supporting enrichment plugins (data modification) and destination plugins (data routing)
- **Autocapture**: Automatic tracking of sessions, app lifecycles, screen views, element interactions, and network requests without manual instrumentation
- **Storage Providers**: Configurable data persistence mechanisms (PersistentStorage in Swift SDK vs SQLite in maintenance SDK)
- **Tracking Plans**: Schema definitions for events that generate type-safe code via Ampli, ensuring implementation consistency

**Configuration Objects:**
- **Configuration**: Main SDK setup object replacing direct initialization parameters, centralizing all SDK behavior controls
- **TrackingOptions**: Granular controls for device property collection (IP address, platform data, carrier information)
- **LoadOptions**: Ampli-specific configuration for code generation, validation rules, and runtime behavior

## Broader Product Ecosystem Integration

The iOS SDK suite integrates deeply with Amplitude's comprehensive analytics and optimization platform:

**Data Pipeline Integration:**
- Events transmit to Amplitude's HTTP v2 API endpoints (`api2.amplitude.com`) for processing and analysis
- EU data residency support via `serverZone` configuration routing to European infrastructure
- Real-time and batch data transmission with configurable flush policies (`flushQueueSize`, `flushIntervalMillis`)

**Cross-Product Synchronization:**
- Unified SDK maintains consistent user identity across Analytics, Experiment, and Session Replay products
- Shared user properties, device identifiers, and session management across all integrated products
- Synchronized configuration inheritance and tracking option propagation

**Privacy and Compliance Framework:**
- Apple Privacy Manifest compliance with NSPrivacyTracking declarations for App Store requirements
- COPPA (Children's Online Privacy Protection Act) compliance controls for applications serving minors
- Comprehensive opt-out mechanisms and data control features for GDPR/CCPA compliance
- SSL certificate pinning support for enhanced security in enterprise environments

## API Endpoints and Implementation Details

**Installation Methods:**
- CocoaPods: `pod 'AmplitudeSwift'` (modern) or `pod 'Amplitude'` (maintenance)
- Swift Package Manager: Direct GitHub repository integration with version pinning
- Carthage: Binary framework distribution for modular dependency management

**Core API Methods:**
- Event tracking: `amplitude.track("EventName", eventProperties: properties)`
- User identification: `amplitude.identify(identify)` with user property objects
- Revenue tracking: `amplitude.revenue(revenue)` for monetization analytics
- Group management: `amplitude.setGroup(groupType: "team", groupName: "engineering")` for B2B analytics
- Session control: `amplitude.flush()` for immediate data transmission bypassing queue limits

**Ampli CLI Commands:**
- `ampli pull`: Generate type-safe tracking code from centrally managed tracking plans
- `ampli status`: Verify implementation compliance against tracking plan specifications
- Installation: `npm install -g @amplitude/ampli` for global CLI access

**Critical Configuration Parameters:**
- `flushQueueSize`: Event count threshold triggering automatic transmission (default varies by SDK)
- `flushIntervalMillis`: Time-based transmission interval for batching optimization
- `minTimeBetweenSessionsMillis`: Session timeout configuration defining session boundaries
- `minIdLength`: Minimum user/device ID validation length for data quality
- `migrateLegacyData`: Automatic data migration flag when upgrading from maintenance SDK
- `serverZone`: Geographic data routing control (`US` or `EU`)

The SDK suite provides comprehensive debugging through configurable log levels (`LogLevel.DEBUG`, `LogLevel.WARN`), offline mode support for network-constrained environments with local queuing, and extensive customization options for enterprise deployments requiring specific data handling, custom storage providers, or advanced privacy controls.
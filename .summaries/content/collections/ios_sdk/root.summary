## Amplitude iOS SDK Product Suite

The Amplitude iOS SDK ecosystem is a comprehensive analytics, experimentation, and user behavior tracking platform for iOS applications. It encompasses multiple interconnected SDKs designed to provide complete visibility into user interactions, A/B testing capabilities, and session recording functionality across Apple's ecosystem of devices.

## Product Relationships and Architecture

### Core SDK Evolution
The product suite follows a clear evolutionary architecture:
- **Legacy iOS SDK (Amplitude-iOS)**: Maintenance-mode SDK with instance-based architecture using `logEvent()` methods
- **iOS Swift SDK (Amplitude-Swift)**: Modern replacement featuring configuration-based initialization and extensible plugin architecture
- **Unified SDK (AmplitudeUnified)**: Beta wrapper that consolidates Analytics, Experiment, and Session Replay capabilities into a single integration

### Ampli Integration Layer
The **Ampli wrapper** provides a strongly-typed abstraction layer above the core SDKs, generating type-safe event tracking code from Amplitude tracking plans. It supports both Swift and Objective-C implementations and integrates with the underlying SDK infrastructure through CLI-generated code.

### Unified Product Integration
The **Unified SDK** represents the convergence strategy, wrapping:
- AmplitudeSwift (Analytics SDK) for event tracking
- Experiment SDK for A/B testing and feature flags
- Session Replay SDK for iOS-specific user session recording

## Key Nomenclature and Definitions

### Core Tracking Concepts
- **Events**: User actions tracked via `track()` method (modern) or `logEvent()` (legacy)
- **User Properties**: Persistent user attributes managed through `identify()` API with operations including set, setOnce, unset, add, append, and prepend
- **Revenue Tracking**: Specialized event type using `AMPRevenue` class for purchase and monetization analytics
- **Groups**: User segmentation mechanism via `groupIdentify()` for organizational and cohort analytics

### Identity Management
- **Device ID**: Unique device identifier utilizing IDFV (Identifier for Vendor) or UUID with configurable lifecycle management
- **User ID**: Custom identifier enabling cross-device user tracking and session continuity
- **IDFA**: Advertiser ID requiring explicit user consent and Apple Privacy Manifest compliance

### Session and Behavior Tracking
- **Autocapture**: Automated tracking of sessions, app lifecycles, screen views, network requests, and UI element interactions
- **Frustration Interactions**: Advanced behavior analytics including rage clicks and dead clicks detection
- **Session Management**: Configurable session boundaries via `minTimeBetweenSessionsMillis` parameter

### Technical Architecture
- **Plugin System**: Extensible architecture supporting enrichment and destination plugins for data processing
- **Middleware**: Legacy customization system using `AMPMiddlewarePayload` for event transformation
- **Configuration Objects**: Modern initialization pattern using `AnalyticsConfig`, `ExperimentPlugin.Config`, and `SessionReplayPlugin.Config`

## Broader Product Ecosystem Integration

### Multi-Platform Support
The iOS SDKs integrate within Amplitude's cross-platform analytics ecosystem, supporting iOS, macOS, tvOS, watchOS, and visionOS platforms with Swift and Objective-C compatibility. This enables unified user journey tracking across web and mobile platforms.

### Data Pipeline Integration
- **HTTP v2 API**: Modern event ingestion endpoint with improved performance
- **EU Data Residency**: `setServerZone` configuration for GDPR compliance and data localization
- **Batch Processing**: Configurable via `eventUploadThreshold` and `eventUploadPeriodSeconds` parameters
- **Offline Mode**: Local storage with automatic synchronization when connectivity resumes

### Privacy and Compliance Framework
- **Apple Privacy Manifest**: Required declarations including `NSPrivacyTracking` and `NSPrivacyCollectedDataTypes`
- **COPPA Control**: Children's Online Privacy Protection Act compliance features
- **Tracking Options**: Granular data collection control via `AMPTrackingOptions`
- **Opt-out Controls**: User privacy preferences management through `setOptOut()` API

## Installation and Implementation Methods

### Package Management
- **Swift Package Manager**: Primary installation method for modern SDKs
- **CocoaPods**: Traditional dependency management with pod specifications
- **Carthage**: Binary framework distribution support

### CLI Tools and APIs
- **Ampli CLI**: Code generation tool with commands including `ampli pull` for downloading tracking plans and `ampli status` for validation
- **Runtime APIs**: 
  - `amplitude.experiment.fetch()` for retrieving feature flags
  - `amplitude.experiment.variant()` for A/B test assignment
  - `amplitude.sessionReplay.startRecording()` for session capture initiation
- **Configuration Methods**: `LoadOptions` for SDK initialization, `migrateLegacyData` for SDK transitions

### Development and Debug Tools
- **Debug Configuration**: `logLevel` settings and comprehensive troubleshooting capabilities
- **Remote Configuration**: `enableAutoCaptureRemoteConfig` for dynamic feature management
- **Migration Utilities**: Seamless data transition tools for upgrading from legacy implementations

The ecosystem demonstrates Amplitude's evolution toward a unified, privacy-compliant analytics platform while maintaining backward compatibility and providing clear migration paths for existing implementations across Apple's device ecosystem.
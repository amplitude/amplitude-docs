## Amplitude iOS SDK Product Suite

The Amplitude iOS SDK ecosystem is a comprehensive analytics, experimentation, and user behavior tracking platform for iOS applications. It provides multiple interconnected SDKs supporting Swift and Objective-C implementations across iOS, macOS, tvOS, watchOS, and visionOS platforms.

## Product Architecture and Relationships

### Core SDK Evolution
The product suite represents an evolution from legacy maintenance SDKs to modern Swift-based implementations:

- **Legacy iOS SDK (Amplitude-iOS)**: Maintenance mode SDK with AMPIdentify and AMPRevenue classes
- **iOS Swift SDK (Amplitude-Swift)**: Modern replacement featuring plugin architecture and autocapture capabilities
- **Unified SDK (AmplitudeUnified)**: Beta wrapper consolidating Analytics, Experiment, and Session Replay functionality

### Ampli Code Generation Layer
The Ampli wrapper provides strongly-typed event tracking through code generation from Amplitude tracking plans, generating type-safe event classes and methods that wrap underlying SDK calls.

### Integration Hierarchy
```
Ampli Wrapper (Type-safe code generation)
    ↓
Unified SDK (Beta - Multi-product wrapper)
    ↓
Individual SDKs (Analytics, Experiment, Session Replay)
    ↓
Core Amplitude Platform
```

## Key Nomenclature and Definitions

### Core Concepts
- **Tracking Plan**: Schema definition for events and properties used by Ampli code generation
- **Autocapture**: Automatic tracking of sessions, app lifecycles, screen views, element interactions, and network requests
- **Plugin Architecture**: Extensible system for enrichment and destination plugins in the Swift SDK
- **Device ID Lifecycle**: Management of IDFA/IDFV identifiers with iOS privacy compliance

### Configuration Objects
- **Configuration**: Swift SDK initialization object replacing instance-based patterns
- **LoadOptions**: Ampli wrapper configuration for environment and client settings
- **TrackingOptions**: Controls for disabling specific tracking fields
- **AnalyticsConfig/ExperimentPlugin.Config/SessionReplayPlugin.Config**: Unified SDK component configurations

### Event and User Management
- **BaseEvent**: Core event class in Swift SDK replacing logEvent patterns
- **AMPIdentify/identify**: User property management (legacy vs modern APIs)
- **AMPRevenue/Revenue**: Revenue tracking implementations
- **EventOptions**: Per-event configuration including deviceId overrides

## Installation and Package Management

All SDKs support multiple installation methods:
- **CocoaPods**: Pod specifications for each SDK component
- **Swift Package Manager (SPM)**: Native Swift package integration
- **Carthage**: Binary framework distribution

Key package identifiers:
- `AmplitudeSwift` (Analytics SDK)
- `AmplitudeUnified` (Unified wrapper)
- Legacy `Amplitude-iOS` (maintenance mode)

## API Patterns and Methods

### Core Tracking Methods
- **Swift SDK**: `amplitude.track()`, `amplitude.identify()`, `amplitude.setGroup()`
- **Legacy SDK**: `logEvent()`, `setUserId()`, `setDeviceId()`
- **Ampli**: `Ampli.instance.track()`, `Ampli.instance.identify()`, strongly-typed event methods

### CLI Integration
- **ampli pull**: Downloads generated tracking code from Amplitude
- **ampli status**: Verifies implementation against tracking plan

### Specialized APIs
- **Session Management**: `minTimeBetweenSessionsMillis`, autocapture session tracking
- **Revenue Tracking**: Dedicated revenue event types and validation
- **Group Analytics**: `groupIdentify()`, `setGroup()` for account-level tracking
- **Offline Support**: Queue management and network connectivity handling

## Ecosystem Integration

### Apple Platform Compliance
- **Privacy Manifest**: NSPrivacyTracking declarations for App Store requirements
- **COPPA Compliance**: `enableCoppaControl()` for children's privacy
- **IDFA/IDFV Management**: Automatic device ID lifecycle with iOS 14+ privacy changes
- **App Extensions Support**: Compatibility with tvOS, watchOS, App Clips

### Data Residency and Configuration
- **EU Data Residency**: `setServerZone()` configuration
- **Custom Endpoints**: `setServerUrl()` for proxy or custom infrastructure
- **Batch Processing**: `useBatch`, `flushQueueSize`, `flushIntervalMillis` for performance optimization

### Migration and Compatibility
The ecosystem provides clear migration paths from legacy implementations to modern Swift-based SDKs, with the Unified SDK representing the future direction for multi-product integration. The plugin architecture enables extensibility while maintaining backward compatibility through Objective-C bridging support.
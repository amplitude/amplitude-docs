## Amplitude iOS SDK Product Ecosystem

The Amplitude iOS SDK ecosystem provides comprehensive analytics and experimentation capabilities for iOS applications through multiple SDK offerings designed for different use cases and migration paths. The ecosystem centers around event tracking, user analytics, and experimentation features with strong TypeScript-like type safety through code generation.

## Product Architecture and Relationships

### Core SDK Offerings

**iOS Swift SDK (Amplitude-Swift)** serves as the modern, actively developed analytics SDK featuring a plugin-based architecture that replaced the maintenance-mode iOS SDK (Amplitude-iOS). The Swift SDK introduces configuration-object initialization, migrates from `logEvent()` to `track()` methods, and transitions from SQLite to PersistentStorage with HTTP v2 API endpoints.

**Maintenance iOS SDK (Amplitude-iOS)** represents the legacy offering built on instance-based initialization with `AMPIdentify` and `AMPRevenue` classes, SQLite storage, and HTTP v1 endpoints. This SDK remains in maintenance mode with migration paths to the Swift SDK.

**Unified SDK (Beta)** provides a wrapper architecture combining Analytics SDK (AmplitudeSwift), Experiment SDK, and Session Replay SDK under a single interface with unified identity management and simplified configuration.

**Ampli Wrapper** generates strongly-typed event tracking methods from Amplitude tracking plans, supporting both Swift and Objective-C with compile-time type safety for event properties and user attributes.

### Integration and Installation

All SDKs support multiple installation methods including CocoaPods, Swift Package Manager (SPM), and Carthage. The ecosystem maintains backward compatibility through migration utilities like `migrateLegacyData` configuration for transitioning from legacy SQLite storage to modern PersistentStorage systems.

## Key Nomenclature and Definitions

### Core Analytics Concepts

**Event Tracking**: Primary analytics function using `track()` (Swift SDK) or `logEvent()` (maintenance SDK) methods with event properties and optional configurations like `outOfSession` parameters.

**User Identification**: Managed through `identify()` API with user properties, `setUserId()`, `setDeviceId()`, and device ID lifecycle management using IDFV, UUID, or custom identifiers.

**Revenue Tracking**: Implemented via `AMPRevenue` class (maintenance SDK) or revenue tracking methods (Swift SDK) with `productId`, `quantity`, and `price` parameters.

**User Groups**: Organizational feature using `setGroup()` with `groupType` and `groupName` parameters, plus `groupIdentifyWithGroupType` for group property management.

### Advanced Features

**Autocapture**: Automated tracking system capturing sessions, app lifecycles, screen views, element interactions (including frustration interactions like rage clicks and dead clicks), and network requests with configurable `captureRules`, `ignoreHosts`, and `statusCodeRange`.

**Plugin Architecture**: Extensible system supporting enrichment and destination plugins with `PluginType` classifications, replacing the middleware system from the maintenance SDK.

**Session Management**: Configurable session tracking with `minTimeBetweenSessionsMillis`, automatic session boundaries, and session replay capabilities in the Unified SDK.

### Configuration and Privacy

**Tracking Options**: Privacy controls through `TrackingOptions` and `AMPTrackingOptions` to disable specific tracking fields, COPPA compliance via `enableCoppaControl`, and Apple privacy manifest compliance with `NSPrivacyTracking` and `NSPrivacyCollectedDataTypes`.

**Data Residency**: EU data residency support through `setServerZone` configuration and regional endpoint routing.

**Device Identification**: IDFA/IDFV handling with plugin implementations, carrier tracking via `CTTelephonyNetworkInfo` (deprecated in iOS 16), and custom device ID management.

## API Endpoints and CLI Integration

### Ampli CLI Integration
- `@amplitude/ampli` npm package installation
- `ampli pull` command for tracking plan code generation
- `ampli status` verification for implementation validation
- `LoadOptions` configuration for runtime behavior

### Configuration Parameters
- `flushQueueSize` and `flushInterval`/`flushIntervalMillis` for batch processing
- `eventUploadThreshold` and `eventUploadPeriodSeconds` for upload timing
- `minIdLength` for identifier validation
- `sessionSampleRate` and `scrollSampleRate` for Session Replay

### Experimentation Integration
- `amplitude.experiment.fetch()` for variant retrieval
- `amplitude.experiment.variant()` for assignment access
- `amplitude.experiment.exposure()` for exposure tracking

## Broader Ecosystem Integration

The iOS SDK ecosystem integrates with Amplitude's broader analytics platform through HTTP v2 API endpoints, supporting cross-platform tracking plans via Ampli code generation. The architecture supports tvOS, watchOS, iOS extensions, and App Clips with platform-specific optimizations.

Session Replay functionality remains iOS-platform exclusive within the Unified SDK, while experimentation features integrate with Amplitude's broader A/B testing platform. The plugin architecture enables custom storage providers through the Storage protocol and network connectivity management via `NetworkConnectivityCheckerPlugin` for offline mode support.

Remote configuration capabilities through `enableAutoCaptureRemoteConfig` allow dynamic feature management, while SSL pinning and comprehensive privacy controls ensure enterprise-grade security and compliance requirements.
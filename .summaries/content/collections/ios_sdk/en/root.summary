# Amplitude iOS SDK Product Overview

## Product Overview

The Amplitude iOS SDK is a comprehensive analytics solution for iOS applications that enables developers to track user behavior, analyze engagement patterns, and make data-driven decisions. The SDK ecosystem consists of multiple components that work together to provide analytics, experimentation, and session replay capabilities for iOS applications written in Swift and Objective-C.

### Key Features

- **Event Tracking**: Capture user interactions and custom events with rich metadata
- **User Identification**: Associate events with specific users and track user properties
- **Revenue Tracking**: Monitor in-app purchases and revenue metrics
- **Session Management**: Track user sessions with configurable timeouts
- **Autocapture**: Automatically track screen views, app lifecycle events, and user interactions
- **Offline Support**: Queue events when offline and send when connectivity is restored
- **Privacy Controls**: COPPA compliance, opt-out mechanisms, and privacy manifest support
- **Type-Safe Event Tracking**: Through the Ampli wrapper, based on a tracking plan
- **Experimentation**: A/B testing and feature flagging through Experiment SDK
- **Session Replay**: Record and replay user sessions for debugging and UX analysis

## Product Relationships and Architecture

The Amplitude iOS SDK ecosystem consists of several related components:

1. **Amplitude-iOS** (Maintenance SDK): The original Objective-C based SDK, now in maintenance mode
2. **Amplitude-Swift** (iOS Swift SDK): The newer Swift-based SDK with a plugin architecture
3. **Ampli Wrapper**: A type-safe wrapper generated from a tracking plan
4. **Unified SDK**: A wrapper that combines Analytics, Experiment, and Session Replay SDKs

The relationship between these components is hierarchical:

- The **Unified SDK** sits at the top level, providing a simplified interface to multiple Amplitude products
- The **iOS Swift SDK** (Amplitude-Swift) is the core analytics implementation with a modern plugin architecture
- The **Ampli Wrapper** is built on top of either SDK to provide type-safety based on a tracking plan
- The **Maintenance SDK** (Amplitude-iOS) is the legacy implementation being phased out

## Key Nomenclature and Definitions

- **AmplitudeSwift**: The main class for the Swift SDK that handles initialization and event tracking
- **AmplitudeUnified**: The main class for the Unified SDK that combines multiple Amplitude products
- **Ampli**: The generated wrapper class that provides type-safe event tracking
- **Event**: A user action or occurrence that is tracked, containing properties and metadata
- **Identify**: An operation to set or update user properties
- **User Properties**: Attributes associated with a user (e.g., name, email, preferences)
- **Group**: A collection of users that can have shared properties
- **Session**: A period of user engagement with the app, defined by configurable timeout
- **Device ID**: A unique identifier for the device, used for tracking
- **User ID**: A custom identifier for the user, typically from your authentication system
- **Tracking Plan**: A schema that defines events, their properties, and validation rules
- **Plugin**: An extension point in the Swift SDK architecture for adding functionality
- **Middleware**: Code that can intercept and modify events before they're sent to Amplitude

## Product Ecosystem Integration

The Amplitude iOS SDK integrates with the broader Amplitude product ecosystem in several ways:

1. **Analytics Platform**: Events tracked by the SDK are sent to Amplitude's analytics backend for processing, visualization, and analysis
2. **Experiment**: The Unified SDK includes integration with Amplitude Experiment for A/B testing and feature flagging
3. **Session Replay**: The Unified SDK includes integration with Session Replay for recording and replaying user sessions
4. **Data Destinations**: Events collected can be forwarded to other tools in your stack through Amplitude's data routing capabilities
5. **Tracking Plan**: The Ampli wrapper is generated from a tracking plan defined in Amplitude's Data management tools

## API Endpoints and Implementation Details

### Installation Options

- **CocoaPods**: `pod 'AmplitudeSwift'` or `pod 'AmplitudeUnified'`
- **Swift Package Manager**: Add the package URL `https://github.com/amplitude/Amplitude-Swift`
- **Carthage**: `github "amplitude/Amplitude-Swift"` (for the Swift SDK)

### Key API Methods

#### Swift SDK (AmplitudeSwift)

```swift
// Initialization
let amplitude = Amplitude(configuration: Configuration(apiKey: "API_KEY"))

// Event Tracking
amplitude.track(event: BaseEvent(eventType: "Button Clicked"))

// User Identification
amplitude.identify(identify: Identify().set(property: "user_type", value: "premium"))

// Revenue Tracking
amplitude.revenue(revenue: Revenue(price: 3.99, quantity: 1))

// Flushing Events
amplitude.flush()
```

#### Ampli Wrapper

```swift
// Initialization
let ampli = Ampli()
ampli.load(LoadOptions(client: AmplitudeSwift(configuration: Configuration(apiKey: "API_KEY"))))

// Type-safe Event Tracking
ampli.songPlayed(name: "Song Name", duration: 240)

// Status Verification
ampli.getStatus() // Returns implementation status
```

#### Unified SDK

```swift
// Initialization
let amplitude = AmplitudeUnified.getInstance(
    configuration: UnifiedConfiguration(
        apiKey: "API_KEY",
        analyticsConfiguration: AnalyticsConfiguration(),
        experimentConfiguration: ExperimentConfiguration(),
        sessionReplayConfiguration: SessionReplayConfiguration()
    )
)

// Using Analytics
amplitude.analytics.track(eventType: "Button Clicked")

// Using Experiment
let variant = amplitude.experiment.variant("flag-key")

// Using Session Replay
amplitude.sessionReplay.start()
```

The iOS SDK uses Amplitude's HTTP V2 API endpoint for sending events, with automatic batching and retry logic built in.
## Amplitude iOS SDK Product Suite

The Amplitude iOS SDK ecosystem consists of multiple interconnected SDKs and tools designed to provide comprehensive analytics, experimentation, and user behavior tracking for iOS applications. The suite includes the legacy iOS SDK (maintenance mode), the modern iOS Swift SDK, the Ampli code generation wrapper, and the unified SDK that combines analytics, experimentation, and session replay capabilities.

## Product Relationships and Architecture

The iOS SDK ecosystem follows an evolutionary architecture with three main generations:

**Legacy iOS SDK (Amplitude-iOS)** - The original Objective-C based SDK in maintenance mode, featuring middleware architecture and HTTP v1 API integration. This SDK provides core analytics functionality with traditional instance-based patterns.

**iOS Swift SDK (Amplitude-Swift)** - The modern replacement built with Swift-first design, implementing a plugin architecture that replaces the legacy middleware system. It utilizes HTTP v2 API and removes the instance() pattern in favor of direct SDK interaction.

**Unified SDK (AmplitudeUnified)** - A beta wrapper that orchestrates the Analytics SDK (AmplitudeSwift), Experiment SDK, and Session Replay SDK under a single initialization and configuration system with automatic identity synchronization.

**Ampli Wrapper** - A code generation layer that works with any of the core SDKs to provide strongly-typed event tracking methods generated from Amplitude tracking plans.

## Key Nomenclature and Definitions

**AutocaptureOptions** - Configuration object for automatic event collection including sessions, app lifecycles, screen views, network requests, and user interactions without manual instrumentation.

**Plugin Architecture** - The modern SDK's extensible system with enrichment plugins (data transformation) and destination plugins (data routing), replacing the legacy middleware pattern.

**AMPIdentify/Identify** - User property management classes providing methods like set, setOnce, add, remove, append, and prepend for user attribute manipulation.

**AMPRevenue/Revenue** - Revenue tracking objects for e-commerce analytics with product details, quantities, and pricing information.

**Device ID Lifecycle** - Management of device identifiers including IDFA (Identifier for Advertisers), IDFV (Identifier for Vendor), and custom device ID generation with regenerateDeviceId functionality.

**Session Management** - Automatic session tracking with configurable minTimeBetweenSessionsMillis, session timeout handling, and out-of-session event support (sessionId -1).

**Tracking Options** - Privacy and compliance controls including COPPA enablement, location data disabling (disableCity, disableIPAddress), and carrier information control.

**Group Analytics** - Multi-level user organization with setGroup, groupIdentify, and logEventWithGroups for account-based or organizational analytics.

**Storage Protocol** - Customizable data persistence layer allowing custom storage provider implementation for event queuing and user data management.

## Broader Product Ecosystem Integration

The iOS SDKs integrate into Amplitude's comprehensive analytics platform through several key touchpoints:

**Amplitude Analytics Platform** - All SDKs send event data to Amplitude's ingestion endpoints with support for EU data residency through AMPServerZone.EU configuration and dynamic configuration via useDynamicConfig.

**Amplitude Experiment** - The Unified SDK provides seamless integration with feature flagging through amplitude.experiment.fetch() and amplitude.experiment.variant() methods with automatic user context synchronization.

**Session Replay** - iOS-specific session recording capabilities through amplitude.sessionReplay.startRecording() and stopRecording() methods for user behavior analysis.

**Tracking Plans** - Integration with Amplitude's schema management through the Ampli CLI (ampli pull command) for type-safe event implementation and validation.

## API Endpoints and Command Line Interfaces

**Ampli CLI Commands:**
- `ampli pull` - Downloads strongly-typed tracking methods from Amplitude tracking plans
- `ampli status` - Verifies CLI configuration and connection

**Core SDK Methods:**
- `track()` - Event logging with properties and options
- `identify()` - User property updates
- `setUserId()` / `setDeviceId()` - Identity management
- `logRevenueV2()` - Revenue event tracking
- `flush()` - Force event upload
- `setOptOut()` / `setOffline()` - Privacy and connectivity controls

**Installation Methods:**
- Swift Package Manager with Amplitude-Swift package
- CocoaPods with AmplitudeSwift pod
- Carthage with github "amplitude/Amplitude-Swift"

**Network and Interaction Tracking:**
- URLSession monitoring with NetworkTrackingOptions
- UIControl and UIGestureRecognizer tracking via method swizzling
- Frustration detection including rage clicks and dead clicks
- CaptureRule configuration with statusCodeRange and allowlist/blocklist patterns

The SDK suite supports iOS, macOS, tvOS, watchOS, and visionOS platforms with comprehensive privacy manifest compliance for App Store requirements and automatic handling of iOS 16+ carrier tracking deprecation.
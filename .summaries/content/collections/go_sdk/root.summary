# Amplitude Go SDK

The Amplitude Go SDK is a comprehensive analytics tracking solution for Go applications that provides two complementary approaches to event tracking and user analytics. The SDK enables developers to instrument their applications with robust analytics capabilities through either a direct SDK implementation or a strongly-typed wrapper called Ampli, supporting event tracking, user property management, revenue analytics, and extensible data processing through a plugin architecture.

## Product Relationship and Architecture

The Go SDK ecosystem operates through a two-tier architecture designed for flexibility and type safety:

**Core SDK (`analytics-go`)** serves as the foundational layer, providing direct API access for all analytics operations including event tracking, user management, and server communication. This component handles low-level operations such as HTTP requests, retry logic, batching, and data persistence.

**Ampli Wrapper** functions as a code generation layer that creates strongly-typed tracking libraries from Amplitude Data tracking plans. Ampli generates Go code that wraps the core SDK functionality while providing compile-time type safety, IDE autocomplete support, and schema validation for defined events and properties.

The architectural relationship follows a dependency pattern where Ampli-generated code internally utilizes the `analytics-go` SDK for actual data transmission, while adding a type-safe interface layer that prevents runtime errors and ensures tracking plan compliance.

## Key Nomenclature and Definitions

**Tracking Plans**: Centralized schema definitions stored in Amplitude Data that specify event structures, property types, validation rules, and documentation. These serve as the authoritative source for Ampli code generation and ensure consistency across development teams.

**Events**: Discrete user actions or system occurrences tracked within applications, characterized by an EventType identifier and associated with either UserID or DeviceID for proper attribution and analysis.

**User Properties**: Persistent attributes associated with individual users, managed through Identify operations that support various update methods including Set (overwrite), SetOnce (set if not exists), Add (increment numeric), Append (add to array), and Prepend (add to array beginning).

**Groups**: Organizational or categorical entities that users can belong to, managed through SetGroup operations for assignment and GroupIdentify operations for group-level property management, utilizing groupType and groupName parameters for hierarchical organization.

**Revenue Tracking**: Specialized event handling for monetary transactions using structured Revenue objects containing Price, Quantity, ProductID, and RevenueType fields for comprehensive e-commerce analytics.

**Plugins**: Extensible processing components that implement custom data handling logic, categorized as PluginTypeEnrichment for data modification/enhancement or PluginTypeDestination for custom routing/transmission, each implementing Execute and Setup methods.

**Batching**: Performance optimization mechanism controlled by FlushQueueSize (events per batch), FlushInterval (time-based flushing), and UseBatch (enable/disable) parameters for efficient API communication and reduced network overhead.

## Broader Product Ecosystem Integration

The Go SDK integrates seamlessly into Amplitude's comprehensive analytics ecosystem through multiple integration points:

**Amplitude Data Synchronization**: Ampli maintains direct connectivity to Amplitude Data tracking plans, enabling schema-driven development workflows where backend tracking implementations automatically stay synchronized with centrally managed event definitions and validation rules.

**Cross-Platform SDK Consistency**: The Go SDK follows established patterns and conventions used across Amplitude's multi-language SDK family, ensuring consistent implementation approaches, configuration patterns, and behavioral expectations across JavaScript, Python, Java, and other platform SDKs.

**Global Infrastructure Compatibility**: Configurable ServerZone (EU/US) and ServerURL options enable compliance with international data residency requirements while integrating with Amplitude's distributed global infrastructure for optimal performance and regulatory compliance.

**Extensible Storage Architecture**: The pluggable storage system with InMemoryStorage as default and StorageFactory interface enables integration with various persistence mechanisms including Redis, database systems, or custom storage solutions, with MaxStorageCapacity providing resource management controls.

## API Endpoints and CLI Commands

**Installation and Setup**:
```bash
go get github.com/amplitude/analytics-go  # Core SDK installation
npm install -g @amplitude/ampli           # Ampli CLI global installation
```

**Ampli CLI Operations**:
```bash
ampli pull    # Downloads tracking library from Amplitude Data tracking plans
ampli status  # Verifies local tracking plan synchronization status
```

**Core SDK API Methods**:
- Client initialization using `Config` struct with comprehensive configuration options
- `Track(EventType, UserID, DeviceID, EventProperties)` for general event recording
- `Identify(UserID, DeviceID, UserProperties)` for user property management
- `SetGroup(UserID, DeviceID, GroupType, GroupName)` for group assignment
- `GroupIdentify(GroupType, GroupName, GroupProperties)` for group property management
- `Revenue(UserID, DeviceID, RevenueProperties)` for structured revenue tracking
- `Flush()` for immediate event queue transmission

**Ampli Generated API Methods**:
- `Load(LoadOptions)` for client initialization with tracking plan configuration
- `Identify(UserID, IdentifyProperties)` with builder pattern for type-safe user properties
- Event-specific tracking methods generated from tracking plans (e.g., `SongPlayed(UserID, SongPlayedProperties)`)
- `Flush()` for manual queue management and immediate transmission

**Configuration Parameters**:
- **Retry Configuration**: RetryBaseInterval, RetryThrottledInterval, FlushMaxRetries for robust error handling
- **Batch Processing**: FlushQueueSize, FlushInterval, UseBatch for performance optimization
- **Regional Compliance**: ServerZone, ServerURL for data residency and custom endpoints
- **Storage Management**: StorageFactory, MaxStorageCapacity for persistence and resource control
- **Plugin System**: Plugin registration and configuration for custom data processing workflows

The SDK architecture supports both imperative programming through direct API calls and declarative approaches through Ampli's generated type-safe interfaces, accommodating different development methodologies while maintaining consistent data collection standards and ensuring tracking plan compliance across application lifecycles.
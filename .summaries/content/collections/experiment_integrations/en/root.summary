# Amplitude Experiment Integrations: Contentful

## Overview

Amplitude Experiment is a platform that enables A/B testing and feature flagging capabilities across various content management systems and platforms. The Contentful integration is a specific plugin that allows content creators to define and manage experiment variations directly within Contentful while using Amplitude Experiment to control which variations are shown to users.

## Key Features

- **Content Variation Management**: Create multiple content variations within Contentful that can be controlled through Amplitude Experiment
- **Seamless Integration**: Connect Contentful content models with Amplitude Experiment flags
- **Dynamic Content Delivery**: Serve different content variants to users based on experiment assignments
- **Front-End Implementation**: Render appropriate content variants based on experiment decisions

## Product Relationships and Architecture

The Contentful integration for Amplitude Experiment consists of two main components:

1. **Contentful Configuration**: Setting up variant containers within Contentful content models
2. **Front-End Implementation**: Code that fetches experiment decisions and renders the appropriate content variant

The integration works by:
- Defining experiment variations as content entries in Contentful
- Associating these variations with experiment flags in Amplitude
- Using the front-end code to determine which variation to display based on experiment decisions

## Key Nomenclature and Definitions

- **Variant Container**: A Contentful content type that holds different variations of content for an experiment
- **Flag Key**: The unique identifier for an experiment in Amplitude Experiment
- **Reference Field**: A field in Contentful that links to other content entries, used to associate variations with a container
- **variationsCollection**: The collection of content variations available for an experiment
- **meta object**: Contains experiment metadata including the flag key
- **experiment.variant()**: Function used to fetch the appropriate variant based on user assignment

## Integration in the Product Ecosystem

The Contentful integration is part of Amplitude Experiment's broader ecosystem of integrations that enable experimentation across different platforms. This integration specifically bridges the gap between content management in Contentful and experimentation control in Amplitude.

The integration allows content teams to work within their familiar Contentful environment while leveraging Amplitude's experimentation capabilities for decision-making and analytics.

## Implementation Details

### Contentful Configuration

1. Create a Variant Container content model with:
   - A reference field to link to content variations
   - A JSON object field to store experiment metadata

2. Configure the JSON metadata with:
   ```json
   {
     "flagKey": "your-experiment-flag-key"
   }
   ```

### Front-End Implementation

The front-end code needs to:

1. Fetch content from Contentful including the variant container
2. Extract the experiment flag key from the metadata
3. Use Amplitude Experiment's client to determine the assigned variant
4. Render the appropriate content variation

Example GraphQL query structure:
```graphql
{
  variantContainer(id: "container-id") {
    variationsCollection {
      items {
        # variation fields
      }
    }
    meta {
      # contains flagKey
    }
  }
}
```

The integration requires a Management API key from Contentful for proper configuration and setup.
# Amplitude Experiment Integrations: Contentful

## Overview

Amplitude Experiment is a platform that provides A/B testing and feature flagging capabilities across different content management systems. The Contentful integration allows content creators to define and manage experiment variations directly within Contentful while using Amplitude Experiment to control which variations are shown to users.

## Key Features

- **Content Variation Management**: Create and manage multiple content variations within Contentful
- **Seamless Integration**: Connect Contentful content models with Amplitude Experiment flags
- **Dynamic Content Delivery**: Serve different content variants based on experiment assignments
- **Front-End Implementation**: Render appropriate content variants using experiment decisions

## Product Relationships and Architecture

The Contentful integration consists of two primary components:

1. **Contentful Configuration**: Setting up variant containers within Contentful content models
2. **Front-End Implementation**: Code that fetches experiment decisions and renders the appropriate content variant

The integration workflow:
- Define experiment variations as content entries in Contentful
- Associate variations with experiment flags in Amplitude
- Use front-end code to determine which variation to display based on experiment decisions

## Key Nomenclature and Definitions

- **Variant Container**: A Contentful content type that contains different variations of content for an experiment
- **Flag Key**: The unique identifier for an experiment in Amplitude Experiment
- **Reference Field**: A Contentful field that links to other content entries, used to associate variations with a container
- **variationsCollection**: The collection of content variations available for an experiment
- **meta object**: Contains experiment metadata including the flag key
- **experiment.variant()**: Function used to fetch the appropriate variant based on user assignment

## Integration in the Product Ecosystem

The Contentful integration is part of Amplitude Experiment's broader ecosystem of platform integrations. This integration specifically bridges content management in Contentful with experimentation control in Amplitude.

The integration enables content teams to work within their familiar Contentful environment while leveraging Amplitude's experimentation capabilities for decision-making and analytics.

## Implementation Details

### Contentful Configuration

1. Create a Variant Container content model with:
   - A reference field to link to content variations
   - A JSON object field to store experiment metadata

2. Configure the JSON metadata with:
   ```json
   {
     "flagKey": "your-experiment-flag-key"
   }
   ```

### Front-End Implementation

The front-end implementation requires:

1. Fetching content from Contentful including the variant container
2. Extracting the experiment flag key from the metadata
3. Using Amplitude Experiment's client to determine the assigned variant
4. Rendering the appropriate content variation

Example GraphQL query structure:
```graphql
{
  variantContainer(id: "container-id") {
    variationsCollection {
      items {
        # variation fields
      }
    }
    meta {
      # contains flagKey
    }
  }
}
```

The integration requires a Management API key from Contentful for proper configuration and setup.
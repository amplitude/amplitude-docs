# Amplitude Instrumentation Product Overview

## Product Overview

Amplitude is an analytics platform that provides tools for tracking, analyzing, and optimizing user behavior across digital products. The instrumentation component consists of various SDKs that enable developers to implement analytics tracking in their applications across multiple platforms.

Key features include:
- Cross-platform SDK support (web, mobile, server-side, and game development)
- Type-safe event tracking through the Ampli wrapper tool
- Flexible configuration options including dynamic server selection and middleware/plugins
- Experiment capabilities for A/B testing and feature flagging
- Debugging and troubleshooting tools for ensuring data quality

Primary use cases include tracking user interactions, implementing A/B tests, ensuring data quality through type-safe implementations, and routing analytics data to multiple destinations.

## Product Relationships and Features

The Amplitude instrumentation ecosystem consists of:

1. **Analytics SDKs** - Core SDKs for different platforms that handle event tracking, user identification, and data transmission.

2. **Ampli Wrapper** - A code generation tool creating type-safe wrappers around Amplitude SDKs based on tracking plans defined in Amplitude Data.

3. **Experiment SDKs** - Specialized SDKs for implementing A/B tests and feature flags.

4. **SDK Extensions**:
   - **Middleware** (legacy) - Custom code that runs on every event for enrichment, transformation, filtering, or routing.
   - **Plugins** (current) - Modern replacement for middleware with improved architecture.

5. **Dynamic Configuration** - Automatically selects optimal server endpoints based on user location.

The Analytics SDKs are categorized as either client-side (running on user devices) or server-side (running on backend servers), with developers able to implement a hybrid approach using both types.

## Key Nomenclature and Definitions

1. **Client-side Sources** - Code running on user devices that directly captures user interactions.

2. **Server-side Sources** - Code running on servers that can send events to Amplitude, used for sensitive operations or backend events.

3. **SDK Lifecycle Phases**:
   - **Developer Preview** - Early access, not recommended for production
   - **General Availability (GA)** - Stable release suitable for production
   - **Maintenance** - No new features, only critical bug fixes
   - **End-of-Support (EOS)** - No longer maintained or supported

4. **MiddlewarePayload** - Data structure passed through middleware functions containing event data that can be modified.

5. **Plugin Types**:
   - **Enrichment Plugins** - Modify event properties or filter events
   - **Destination Plugins** - Route events to third-party services

6. **Dynamic Configuration** - Feature that automatically selects the optimal server URL based on user location.

7. **Ampli Wrapper** - Generated code providing type-safe interfaces for tracking events according to a predefined tracking plan.

## Product Ecosystem Integration

Amplitude's instrumentation tools integrate with the broader ecosystem through:

1. **Amplitude Data** - Analytics SDKs send event data to Amplitude Data for storage and analysis. Ampli uses tracking plans defined in Amplitude Data.

2. **Amplitude Experiment** - Experiment SDKs connect with Amplitude Experiment to implement A/B tests and feature flags.

3. **Third-party Integrations** - Plugins/middleware route data to other platforms like Segment, Google Analytics, Hotjar, and FullStory.

4. **Data Residency Options** - SDKs support different server endpoints for data residency requirements, including EU data residency.

## API Endpoints and Commands

### SDK Initialization Examples

**Browser JavaScript/TypeScript:**
```javascript
import * as amplitude from '@amplitude/analytics-browser';
amplitude.init('YOUR_API_KEY');
```

**iOS Swift:**
```swift
Amplitude.instance().initializeApiKey("YOUR_API_KEY")
```

**Android Kotlin:**
```kotlin
Amplitude.getInstance().initialize(context, "YOUR_API_KEY")
```

### Event Tracking Examples

**Basic Event:**
```javascript
amplitude.track('Button Clicked');
```

**Event with Properties:**
```javascript
amplitude.track('Purchase', { price: 10.99, item: 'Product Name' });
```

### User Identification:
```javascript
amplitude.identify(
  new amplitude.Identify().set('user_type', 'premium')
);
```

### Ampli CLI Commands:
```bash
# Install Ampli CLI
npm install -g @amplitude/ampli

# Pull tracking plan
ampli pull

# Generate SDK wrapper
ampli status
```

### HTTP API Endpoints:
- **HTTP V2 API** - Used for server-side event ingestion
- **Batch API** - For uploading multiple events in a single request

The SDKs automatically handle these API calls, but they can also be used directly for custom implementations.
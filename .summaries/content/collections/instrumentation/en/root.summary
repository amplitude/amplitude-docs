# Amplitude Instrumentation Product Overview

## Product Overview

Amplitude Instrumentation is a comprehensive analytics tracking and experimentation platform that enables developers to implement robust event tracking across multiple platforms. The product consists of Analytics SDKs, Experiment SDKs, and supporting tools like Ampli that ensure data quality and consistency. Amplitude's instrumentation solutions support both client-side and server-side implementations across web, mobile, and backend environments, with features for type safety, dynamic configuration, and extensibility through middleware and plugins.

## Product Relationships and Architecture

### Core Components

1. **Analytics SDKs**: The foundation of Amplitude's instrumentation offering, available for multiple platforms:
   - Browser/JavaScript
   - Mobile (iOS, Android)
   - Cross-platform frameworks (React Native, Flutter, Unity, Unreal)
   - Server-side (Node.js, Go, Python, Java)

2. **Experiment SDKs**: Dedicated SDKs for implementing A/B testing and feature flagging functionality.

3. **Ampli**: A code generation tool that creates type-safe wrappers around Amplitude SDKs based on tracking plans defined in Amplitude Data.

4. **SDK Middleware and Plugins**: Extension mechanisms that allow customization of event processing pipelines.

### Implementation Approaches

Amplitude supports three primary implementation approaches:

1. **Client-side instrumentation**: Code running directly on user devices (mobile apps, web browsers).
2. **Server-side instrumentation**: Code running on backend servers.
3. **Hybrid instrumentation**: Combination of both approaches for comprehensive tracking.

## Key Nomenclature and Definitions

- **Tracking Plan**: A schema that defines events, properties, and user properties for consistent analytics implementation.
- **Ampli Wrapper**: A generated type-safe SDK wrapper that enforces tracking plan compliance.
- **SDK Middleware**: Custom code that runs on every event for enrichment, transformation, filtering, or routing.
- **SDK Plugins**: Extensions that add functionality to SDKs through enrichment or destination capabilities.
- **Dynamic Configuration**: Feature that automatically selects optimal server endpoints based on user location.
- **Event**: A discrete user action or system occurrence that is tracked in Amplitude.
- **User Properties**: Attributes associated with users that persist across sessions.
- **SDK Lifecycle Phases**: Four stages of SDK support (Developer Preview, General Availability, Maintenance, End-of-Support).

## Product Ecosystem Integration

Amplitude's instrumentation tools integrate with the broader Amplitude ecosystem:

1. **Amplitude Data**: Houses tracking plans that Ampli uses to generate type-safe wrappers.
2. **Amplitude Analytics**: Receives and processes events from all SDKs for analysis.
3. **Amplitude Experiment**: Uses Experiment SDKs to deliver feature flags and A/B tests.
4. **Third-party Integrations**: Through destination plugins, events can be routed to services like Segment, Hotjar, Google Analytics, and FullStory.

## API Endpoints and Commands

### API Endpoints
- **HTTP V2 API**: Primary endpoint for sending events (`https://api2.amplitude.com/2/httpapi`)
- **Batch Event Upload API**: For sending events in batches
- **Evaluation API**: Used by Experiment SDKs

### Ampli CLI Commands
- `ampli status`: Checks implementation status against tracking plan
- `ampli pull`: Pulls the latest tracking plan and generates updated SDK wrapper

### SDK Initialization
```javascript
// Browser example
amplitude.init('YOUR_API_KEY', {
  serverUrl: 'https://api.eu.amplitude.com', // Optional: EU data residency
});
```

### Event Tracking
```javascript
// Basic event tracking
amplitude.track('Button Clicked', {
  buttonColor: 'blue',
  buttonText: 'Submit'
});

// With Ampli (type-safe)
ampli.buttonClicked({
  buttonColor: 'blue',
  buttonText: 'Submit'
});
```

### Middleware Registration
```javascript
amplitude.addEventMiddleware((payload, next) => {
  // Modify or filter events
  next(payload);
});
```

The Amplitude Instrumentation suite provides developers with flexible, robust tools for implementing analytics across diverse platforms while maintaining data quality through type safety, middleware, and plugins.
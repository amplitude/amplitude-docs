# Amplitude Analytics Unity SDK

## Overview

The Amplitude Analytics Unity SDK is a plugin that integrates Amplitude's analytics capabilities into Unity projects (version 2019.3.11 or higher). It serves as a wrapper for the native Amplitude iOS and Android SDKs, allowing game developers to track user behavior, manage user properties, and analyze revenue metrics across mobile platforms from within their Unity projects.

## Key Features

- **Cross-Platform Analytics**: Seamlessly works across iOS and Android platforms
- **Event Tracking**: Capture user interactions and custom events
- **User Property Management**: Store and update attributes about users
- **Revenue Tracking**: Monitor in-app purchases and revenue metrics
- **Session Management**: Configure and track user sessions
- **COPPA Compliance**: Controls for applications targeting children
- **EU Data Residency**: Option to store data in EU data centers
- **Dynamic Configuration**: Server-side configuration capabilities

## Installation Methods

The SDK can be installed through multiple methods:
1. **Unity Package Manager (UPM)**: Add the package via Git URL
2. **Manual Installation**: Download and import the Unity package directly
3. **CocoaPods/Gradle**: Configure native dependencies for iOS/Android

## Initialization and Configuration

The SDK must be initialized with an API key:

```csharp
Amplitude amplitude = Amplitude.getInstance();
amplitude.init("YOUR_API_KEY");
```

Configuration options include:
- Setting log level
- Enabling COPPA controls
- Configuring EU data residency
- Setting custom user IDs
- Configuring session timeouts
- Enabling IDFA tracking

## Event Tracking

Events are tracked using the `logEvent` method:

```csharp
// Basic event
amplitude.logEvent("Button Clicked");

// Event with properties
Dictionary<string, object> eventProperties = new Dictionary<string, object>();
eventProperties.Add("property1", "value1");
amplitude.logEvent("Button Clicked", eventProperties);
```

## User Properties Management

The SDK provides methods to set, unset, and manage user properties:

```csharp
// Set a user property
amplitude.setUserProperty("user_type", "premium");

// Set multiple properties
Dictionary<string, object> userProps = new Dictionary<string, object>();
userProps.Add("age", 25);
userProps.Add("gender", "female");
amplitude.setUserProperties(userProps);

// Increment a property
amplitude.add("login_count", 1);
```

## Revenue Tracking

In-app purchases can be tracked with the Revenue API:

```csharp
Revenue revenue = new Revenue().setProductId("com.company.app.productid")
                              .setPrice(3.99)
                              .setQuantity(1);
amplitude.logRevenueV2(revenue);
```

## Session Management

The SDK automatically manages sessions with configurable timeout periods:

```csharp
// Set session timeout to 10 minutes (in milliseconds)
amplitude.setSessionTimeoutMillis(10 * 60 * 1000);
```

## Advanced Features

- **COPPA Controls**: Enable restrictions for child-directed apps
- **Dynamic Configuration**: Fetch and apply server-side configurations
- **Opt-out Tracking**: Allow users to opt out of analytics
- **Identity Management**: Set device IDs and user IDs
- **Offline Processing**: Queue events when offline for later transmission

## Integration with Amplitude Ecosystem

The Unity SDK integrates with the broader Amplitude analytics platform, allowing developers to:
- View event data in Amplitude dashboards
- Perform cohort analysis
- Track user journeys
- Analyze retention metrics
- Create custom reports and visualizations

The SDK serves as the data collection layer, sending information to Amplitude's analytics backend where it can be analyzed through the Amplitude web interface.

## Key API Methods

- `getInstance()`: Get the Amplitude SDK instance
- `init(string apiKey)`: Initialize the SDK
- `logEvent(string eventType, Dictionary<string, object> eventProperties)`: Track events
- `setUserId(string userId)`: Identify a user
- `setUserProperties(Dictionary<string, object> userProperties)`: Set user attributes
- `logRevenueV2(Revenue revenue)`: Track revenue events
- `setSessionTimeoutMillis(long timeout)`: Configure session timeout
- `enableCoppaControl()`: Enable COPPA compliance features
- `setServerUrl(string serverUrl)`: Set custom server URL for EU data residency
## Amplitude Python SDK

The Amplitude Python SDK is a comprehensive analytics tracking solution for Python 3.6+ applications that enables developers to send events, user properties, and revenue data to Amplitude's analytics platform. The SDK consists of two main components: the core Python SDK (`amplitude-analytics`) and the Ampli wrapper, which provides strongly-typed event tracking through code generation.

### Core Components and Features

**Python SDK (`amplitude-analytics`)**
The foundational SDK provides event tracking capabilities through a flexible client that supports both individual event sending and batch operations. Key features include configurable flush behavior, retry mechanisms, plugin architecture, and comprehensive user and group management.

**Ampli Wrapper**
A code generation layer that creates strongly-typed event classes from Amplitude Data tracking plans, ensuring type safety and reducing implementation errors. The wrapper uses the `@amplitude/ampli` CLI tool for code generation and management.

### Product Relationships and Architecture

The two components work in a layered architecture:
- **Ampli Wrapper** sits on top of the core Python SDK, providing type safety and code generation
- **Core Python SDK** handles the underlying event transmission, batching, and plugin management
- Both components share common configuration options and event structures
- The Ampli wrapper generates event classes that ultimately use the core SDK's `BaseEvent` structure

### Key Nomenclature and Definitions

**Event Management:**
- `BaseEvent`: Core event structure containing event_type, user_id, device_id, and event_properties
- `EventOptions`: Configuration for individual events including device_id overrides
- `flush()`: Method to immediately send queued events to Amplitude

**User and Group Management:**
- `Identify`: Operations for setting user properties (set, add, append, prepend, remove, unset)
- `set_group()`: Associates users with specific groups using group_type and group_name
- `group_identify()`: Sets properties on user groups
- `user_id` and `device_id`: Primary user identification methods

**Configuration:**
- `LoadOptions`/`LoadClientOptions`: Initialization configuration for Ampli wrapper
- `flush_queue_size`: Number of events to batch before auto-flushing
- `flush_interval_millis`: Time interval for automatic queue flushing
- `flush_max_retries`: Retry attempts for failed requests
- `server_zone`: Geographic server selection (US/EU)
- `use_batch`: Toggle between batch API and individual event endpoints

**Revenue Tracking:**
- `Revenue`: Interface for tracking monetary transactions with product_id, quantity, price, and revenue_type

**Plugin System:**
- `EventPlugin`: Base plugin interface for event processing
- `DestinationPlugin`: Plugins that send events to external destinations
- `PluginType.ENRICHMENT`: Plugins that modify events before transmission

### Ecosystem Integration

The Python SDK integrates into Amplitude's broader analytics ecosystem through:
- **Amplitude Data**: Provides tracking plan management and code generation for the Ampli wrapper
- **HTTP API Endpoints**: Events are sent to `httpapi` endpoints with support for both individual and batch transmission
- **Storage Providers**: Pluggable storage system including `InMemoryStorageProvider` for event queuing
- **Multi-language SDK Family**: Shares common patterns and concepts with other Amplitude SDKs

### CLI and API Operations

**Ampli CLI Commands:**
- `ampli pull`: Downloads and generates typed event classes from tracking plans
- `ampli status`: Verifies implementation status against tracking plan

**Core SDK Methods:**
- `track()`: Send events with optional EventOptions and callback functions
- `identify()`: Set user properties using Identify operations
- `group_identify()`: Manage group properties
- `flush()`: Force immediate transmission of queued events

**Installation:**
- Core SDK: `pip install amplitude-analytics`
- Ampli CLI: `npm install -g @amplitude/ampli`

The SDK supports both synchronous and asynchronous operations with comprehensive error handling, retry logic, and callback support for monitoring event transmission success.
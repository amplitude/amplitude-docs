# Amplitude Python SDK

The Amplitude Python SDK is a comprehensive analytics tracking solution for Python applications (3.6+) that enables developers to capture and analyze user behavior data within their applications.

## Key Features and Concepts

- **Event Tracking**: Capture user interactions and custom events in Python applications
- **User Identification**: Associate events with specific users and track user properties
- **Group Analytics**: Track and analyze user behavior within organizational groups
- **Revenue Tracking**: Monitor purchase events and revenue metrics
- **Batch Processing**: Efficiently send events in batches to minimize network requests
- **Plugins System**: Extend functionality through custom plugins
- **Strongly-Typed Tracking**: Use the Ampli wrapper for type-safe event tracking based on a defined tracking plan

## Product Architecture and Relationships

The Amplitude Python SDK consists of two main components:

1. **Core Python SDK (`amplitude-analytics`)**: The foundation library that handles:
   - Event tracking and processing
   - User identification
   - Communication with Amplitude's servers
   - Batch management
   - Plugin architecture

2. **Ampli Wrapper**: A strongly-typed layer built on top of the core SDK that:
   - Provides type safety and validation for tracking events
   - Enforces tracking plan compliance
   - Offers code completion and compile-time checking
   - Simplifies implementation of complex tracking requirements

The relationship between these components is hierarchical:
- The Ampli wrapper depends on the core SDK and provides a more structured interface
- The core SDK handles the underlying event processing, batching, and transmission
- Both components can be used independently, but the Ampli wrapper offers additional type safety benefits

## Key Nomenclature and Definitions

- **BaseEvent**: The fundamental data structure representing an event to be tracked
- **EventOptions**: Configuration options for individual event tracking calls
- **LoadOptions**: Configuration options when initializing the Ampli wrapper
- **Identify**: Operations that update user properties without sending events
- **Group**: A collection of users that can be analyzed together (e.g., organizations, accounts)
- **Plugin**: Extension points that can modify events or add functionality to the SDK
- **Tracking Plan**: A schema that defines the expected events and their properties
- **Flush**: The process of sending batched events to Amplitude's servers
- **User Properties**: Attributes associated with a user that persist across sessions
- **Event Properties**: Attributes associated with a specific event occurrence

## Integration with Amplitude Ecosystem

The Python SDK integrates with the broader Amplitude product ecosystem:

1. **Amplitude Analytics Dashboard**: Events tracked via the SDK appear in the Amplitude analytics dashboard for visualization and analysis
2. **Ampli CLI**: Command-line tool used to pull tracking plan definitions and generate type-safe code
3. **Tracking Plan**: Defined in Amplitude, enforced by the Ampli wrapper
4. **Data Destinations**: Events can be forwarded to other tools in the Amplitude ecosystem
5. **Experiment**: Can be used alongside Amplitude Experiment for feature flagging and A/B testing

## API and Usage Examples

### Core SDK Installation and Initialization
```python
pip install amplitude-analytics

from amplitude import Amplitude

amplitude = Amplitude("API_KEY")
amplitude.init()
```

### Tracking Events with Core SDK
```python
from amplitude import BaseEvent

amplitude.track(
    BaseEvent(
        event_type="Button Clicked",
        user_id="user@example.com",
        event_properties={"buttonColor": "blue"}
    )
)
```

### Ampli Wrapper Installation and Usage
```python
pip install amplitude-analytics

from ampli import Ampli

ampli = Ampli()
ampli.load({
    "client": {
        "apiKey": "API_KEY",
        "configuration": {
            "logLevel": "INFO"
        }
    }
})

# Track a strongly-typed event
ampli.song_played(
    user_id="user@example.com",
    song_id="song-123",
    song_name="Highway to Hell"
)
```

### Ampli CLI Commands
```bash
# Pull tracking plan and generate code
ampli pull

# Check tracking plan implementation status
ampli status
```

### User Identification
```python
from amplitude import Identify

# With core SDK
amplitude.identify(
    Identify(
        user_id="user@example.com",
        user_properties={"$set": {"plan": "premium"}}
    )
)

# With Ampli wrapper
ampli.identify(
    user_id="user@example.com",
    device_id="device-id",
    user_properties={
        "set": {"plan": "premium"},
        "setOnce": {"first_login_time": "2021-07-12T23:18:00.000Z"}
    }
)
```

### Group Operations
```python
# Set a group for a user
amplitude.set_group("org", "org-123", user_id="user@example.com")

# Update group properties
amplitude.group_identify("org", "org-123", {"$set": {"plan": "enterprise"}})
```

### Flushing Events
```python
# Manually flush events
amplitude.flush()

# Flush events with Ampli
ampli.flush()
```
## Amplitude Experiment Troubleshooting

Amplitude Experiment is a feature flagging and A/B testing platform that enables controlled rollouts and experimentation through variant assignment and exposure tracking. The troubleshooting documentation covers common issues that arise during experiment execution, focusing on data integrity, user assignment accuracy, and proper event tracking.

## Product Relationships and Features

The troubleshooting guides center around four core diagnostic areas within Amplitude Experiment:

**Assignment and Exposure Event System**: The platform operates on a dual-event model where assignment events track when users are bucketed into variants, while exposure events capture actual feature interactions. This relationship is critical for accurate experiment analysis and forms the foundation for most troubleshooting scenarios.

**Variant Distribution and Bucketing**: The system manages user allocation through configurable variant distribution weights, bucketing salts, and sticky bucketing mechanisms. These components work together to ensure consistent user experiences while enabling controlled experiment modifications.

**Identity Management**: Amplitude Experiment handles multiple identity types (device ID, user ID, Amplitude ID) and supports identity transitions, particularly around anonymous-to-authenticated user flows and account switching scenarios.

**Experiment Lifecycle Management**: The platform supports experiment runs with configurable parameters, allowing for experiment restarts, configuration changes, and analysis window adjustments without losing historical data.

## Key Nomenclature and Definitions

**Assignment Event**: Generated when a user is bucketed into a variant through `fetch()` calls, establishing the user's experiment participation.

**Exposure Event**: Triggered when users interact with variant-controlled features via `variant()` calls, indicating actual feature exposure.

**Variant Jumping**: When users are exposed to multiple variants for a single experiment, either through legitimate targeting changes or problematic identity mismatches.

**Sample Ratio Mismatch (SRM)**: Occurs when observed variant allocation significantly differs from configured allocation percentages, indicating potential experiment integrity issues.

**Sticky Bucketing**: Ensures users remain in their assigned variants across sessions, maintaining experiment consistency.

**Bucketing Salt**: A randomization parameter that determines user-to-variant assignment, which can be modified to create new experiment runs.

**Fallback Variant**: Default variant served when users don't meet targeting criteria or during local evaluation exclusions.

**Experiment Key (expKey)**: Unique identifier for experiment runs, updated when creating new experiment iterations.

## Broader Product Ecosystem Integration

Amplitude Experiment integrates deeply with the Amplitude Analytics platform, leveraging user streams and event data for comprehensive experiment analysis. The system supports both remote and local evaluation modes, with local evaluation providing performance benefits while requiring careful identity management.

The platform connects with multiple SDK implementations across platforms (JavaScript, Android, iOS, React Native), each with specific version requirements for advanced features like experiment restart support. The Evaluation API serves as the central endpoint for variant assignment and configuration retrieval.

Experiment data flows into Amplitude's broader analytics ecosystem, enabling sophisticated analysis through user timelines, diagnostic charts, and cumulative exposure tracking. The system supports advanced targeting through rule-based criteria, mutual exclusion groups, and inclusion lists.

## API Endpoints and Technical Implementation

**Core SDK Methods**:
- `fetch()`: Retrieves variant assignments and generates assignment events
- `variant()`: Accesses variant values and triggers exposure events

**Evaluation API**: Central service endpoint that processes experiment configurations and returns variant assignments based on user properties and targeting rules.

**SDK Version Requirements**:
- JavaScript SDK v1.10.2+ for experiment restart support
- Android SDK v1.10.0+ for experiment restart support  
- iOS SDK v1.11.0+ for experiment restart support
- React Native SDK v1.2.0+ for experiment restart support

The troubleshooting framework emphasizes proper identity management between assignment and exposure tracking, with specific attention to device ID and user ID consistency across the experiment lifecycle. This ensures accurate attribution and prevents common issues like exposures without assignments and variant jumping anomalies.
## Amplitude Experiment Troubleshooting

Amplitude Experiment is a feature flagging and experimentation platform that enables controlled rollouts and A/B testing. The troubleshooting documentation covers critical diagnostic scenarios that can compromise experiment integrity and data quality, focusing on assignment and exposure event tracking, user identity management, and statistical validity.

## Product Relationships and Features

The troubleshooting guides address four interconnected diagnostic areas within Amplitude Experiment:

**Core Event Tracking System**: The platform relies on two fundamental event types - assignment events (generated when users are bucketed into variants) and exposure events (triggered when users actually see variant experiences). The relationship between these events forms the foundation for experiment analysis and diagnostics.

**Identity Management**: User identity handling spans multiple identifier types (user ID, device ID, Amplitude ID) and scenarios including anonymous user merging, account switching, and cross-device experiences. Identity consistency between assignment and exposure tracking is critical for accurate experimentation.

**Allocation and Bucketing**: The system manages variant distribution through configurable weights, sticky bucketing for consistent user experiences, and bucketing salts for randomization. These components work together to ensure proper statistical distribution and user assignment stability.

**Diagnostic Infrastructure**: Built-in diagnostic tools including the "Exposures without Assignments" chart, sample ratio mismatch detection, and user timeline analysis provide visibility into experiment health and data quality issues.

## Key Nomenclature and Definitions

**Assignment Event**: Generated when a user is bucketed into a variant through `fetch()` calls or remote evaluation, establishing the user's experimental group membership.

**Exposure Event**: Triggered when users actually encounter variant experiences through `variant()` calls, representing real interaction with experimental treatments.

**Variant Jumping**: Occurs when users are exposed to multiple variants for a single experiment, either through normal operational changes or problematic identity/configuration issues.

**Sample Ratio Mismatch (SRM)**: Statistical deviation where observed variant allocation differs significantly from configured allocation percentages, indicating potential experiment integrity issues.

**Sticky Bucketing**: Ensures users remain in consistent variants across sessions by persisting assignment decisions, preventing user experience inconsistencies.

**Bucketing Key/Salt**: Parameters controlling user assignment randomization and distribution across variants, with salt changes enabling experiment rerandomization.

**Fallback Variant**: Default variant served when users don't meet targeting criteria or during system failures, requiring careful exposure tracking to avoid analysis contamination.

**Experiment Key**: Unique identifier property enabling experiment run differentiation and historical data exclusion when creating new experiment iterations.

## Broader Product Ecosystem Integration

Amplitude Experiment integrates deeply with the broader Amplitude analytics ecosystem through event-based architecture and identity resolution systems. The platform leverages Amplitude's user identification and behavioral tracking infrastructure to maintain consistent user experiences across touchpoints.

The experimentation platform supports both remote evaluation (server-side assignment) and local evaluation (client-side assignment) patterns, with SDKs handling exposure tracking and variant delivery. Integration with Amplitude's analytics enables sophisticated funnel analysis from assignment through exposure to conversion events.

Mutual exclusion capabilities allow experiments to coordinate resource allocation, preventing users from participating in conflicting tests simultaneously. This ecosystem approach ensures experimental validity while maintaining user experience quality.

## API Endpoints and Technical Implementation

**Core SDK Methods**:
- `fetch()`: Retrieves variant assignments and generates assignment events
- `variant()`: Accesses variant values and triggers exposure events

**Evaluation API**: Supports `experiment_key` parameter for experiment run differentiation and historical data management.

**Event Properties**:
- `expKey`: Variant property containing experiment key for run-specific analysis
- Bucketing parameters for assignment control and randomization

**Diagnostic Endpoints**: User timeline analysis and assignment-to-exposure funnel tracking through Amplitude's event stream infrastructure.

The platform requires specific SDK versions to support advanced features like experiment keys, with version compatibility determining available troubleshooting and analysis capabilities.
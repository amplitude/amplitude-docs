# Amplitude API Suite

## Product Overview

Amplitude provides a comprehensive suite of APIs for analytics, user management, and data integration. The platform enables businesses to track user behavior, manage user data, create cohorts, and integrate with other systems. Key features include event tracking, user identification, data export, privacy management, and behavioral analysis.

The platform supports various use cases including sending event data to Amplitude servers, retrieving analytics data for dashboards and reports, managing user identities and properties, creating and analyzing user cohorts, ensuring compliance with privacy regulations, and integrating with identity providers and other systems.

## Product Relationships and Architecture

The Amplitude API suite consists of four interconnected components:

1. **Data Ingestion APIs**:
   - HTTP V2 API: Primary method for sending event data
   - Batch Event Upload API: For large volume uploads (up to 20MB)
   - Identify API: Updates user properties without sending events
   - Group Identify API: Sets properties on user groups
   - Attribution API: Tracks attribution campaign events

2. **Data Retrieval APIs**:
   - Export API: Extracts raw event data
   - Dashboard REST API: Retrieves analyzed data from dashboards
   - User Profile API: Accesses user properties and recommendations
   - Behavioral Cohorts API: Works with user segments

3. **Data Management APIs**:
   - User Privacy API: Handles GDPR/CCPA compliance and data deletion
   - User Mapping API: Connects user identities across projects
   - Taxonomy API: Manages event schema
   - Lookup Table API: Provides property augmentation and mapping

4. **Integration and Enhancement APIs**:
   - SCIM API: Handles user provisioning and identity management
   - Chart Annotations API: Documents important events on charts
   - Releases API: Tracks product releases
   - Event Streaming Metrics API: Monitors data delivery

## Key Nomenclature and Definitions

- **device_id**: Unique identifier for a device or browser
- **user_id**: Unique identifier for a user, set by the client application
- **event_type**: Name of the action being tracked
- **insert_id**: Unique identifier for an event used for deduplication
- **user_properties**: Attributes associated with a user
- **event_properties**: Attributes associated with a specific event
- **group_properties**: Attributes associated with a group of users
- **cohort**: Segment of users defined by behavioral criteria
- **amplitude_id**: Amplitude's internal user identifier
- **global_user_id**: Identifier used to connect users across projects

Property operations:
- **$set**: Sets a property value
- **$setOnce**: Sets a property value only if not already set
- **$add**: Increments a numeric property
- **$append/$prepend**: Adds values to a list property
- **$unset**: Removes a property

## Product Ecosystem Integration

Amplitude's API suite integrates with the broader Amplitude product ecosystem:

1. **Analytics Platform**: The HTTP V2 API and Batch Event Upload API feed data into Amplitude's analytics engine for processing and storage.

2. **Dashboard and Reporting**: The Dashboard REST API provides programmatic access to the same data displayed in Amplitude's web interface.

3. **User Management**: The Identify API, User Mapping API, and SCIM API maintain consistent user identities across the platform.

4. **Data Governance**: The Taxonomy API and User Privacy API support data governance capabilities, ensuring proper classification and compliance.

5. **Cross-Project Analysis**: The Portfolio add-on enables cross-project user counting through the User Mapping API.

6. **Activation**: The User Profile API requires an Activation plan and enables personalization use cases.

## API Endpoints and Usage

### Core Endpoints

- **Event Ingestion**: 
  - US: `https://api2.amplitude.com/2/httpapi`
  - EU: `https://api.eu.amplitude.com/2/httpapi`

- **User Identification**: 
  - US: `https://api2.amplitude.com/identify`
  - EU: `https://api.eu.amplitude.com/identify`

- **Data Export**: `https://amplitude.com/api/2/export`
- **Dashboard Data**: `https://amplitude.com/api/3/chart/[chart_id]/query`
- **User Privacy**: `https://amplitude.com/api/2/deletions/users`
- **Taxonomy Management**: `https://data-api.amplitude.com/v1/taxonomy`

### Authentication

Most Amplitude APIs use HTTP Basic Authentication with API keys:
- API Key and Secret Key for most endpoints
- SCIM Key for the SCIM API
- JWT tokens for some specialized endpoints

### Rate Limits

- HTTP V2 API: 1000 events per second per device/user ID
- User Profile API: 600 requests per minute per organization
- SCIM API: 100 requests per minute
- Dashboard REST API: Cost-based model with concurrent request limits
- User Privacy API: 10 requests per second

### Example API Call (HTTP V2)

```
POST /2/httpapi HTTP/1.1
Host: api2.amplitude.com
Content-Type: application/json
Accept: */*

{
  "api_key": "YOUR_API_KEY",
  "events": [
    {
      "user_id": "user@example.com",
      "device_id": "C8F9E604-F01A-4BD9-95C6-8E5357DF265D",
      "event_type": "watch_tutorial",
      "time": 1396381378123,
      "event_properties": {
        "tutorial_id": "125",
        "tutorial_length": 10
      }
    }
  ]
}
```
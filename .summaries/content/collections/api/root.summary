# Amplitude Analytics API Platform

Amplitude provides a comprehensive suite of REST APIs for analytics data ingestion, user management, data export, and platform configuration. The platform supports both real-time event tracking and batch data operations with enterprise-grade features for user privacy, taxonomy management, and cross-project analytics.

## Product Architecture and Feature Relationships

### Core Data Ingestion APIs
The platform centers around event data collection through multiple ingestion endpoints:
- **HTTP V2 API** (`/2/httpapi`) serves as the primary server-to-server event ingestion endpoint
- **Batch Event Upload API** handles bulk data uploads with 20MB payload limits
- **Identify API** (`/identify`) manages user property updates and user ID to device ID mappings
- **Group Identify API** (`/groupidentify`) enables group-level analytics through the Accounts add-on
- **Attribution API** (`/attribution`) processes advertising attribution events using platform-specific identifiers

### Data Access and Export Systems
Multiple APIs provide programmatic access to stored analytics data:
- **Export API** (`/api/2/export`) enables bulk event data extraction with 4GB limits and zipped JSON responses
- **Dashboard REST API** offers structured access to analytics insights including funnels, retention, and revenue metrics
- **User Profile API** (`profile-api.amplitude.com/v1/userprofile`) retrieves comprehensive user profiles with computed properties and recommendations

### Enterprise Management Features
Advanced organizational capabilities include:
- **Taxonomy API** for Enterprise users to manage event schemas, properties, and data classifications
- **SCIM 2.0 API** for automated user provisioning and Identity Provider integration
- **Behavioral Cohorts API** supporting cohort export/import with Amazon S3 integration
- **Lookup Table APIs** (v1 deprecated, v3 current) for CSV-based property augmentation

### Compliance and Privacy Tools
Regulatory compliance is supported through:
- **User Privacy API** for GDPR/CCPA data deletion with 30-day scheduling
- **CCPA DSAR API** for Data Subject Access Requests with asynchronous processing
- **User Mapping API** for cross-project user identity management via Portfolio add-on

### Operational and Monitoring APIs
Platform operations are supported by:
- **Event Streaming Metrics API** for monitoring delivery performance with 90-day retention
- **Releases API** for deployment tracking and chart annotations
- **Chart Annotations API** for programmatic chart annotation management

## Key Nomenclature and Definitions

### Core Identifiers
- **amplitude_id**: Amplitude's internal user identifier
- **user_id**: Customer-defined user identifier
- **device_id**: Device-specific identifier for anonymous tracking
- **session_id**: Session tracking identifier
- **insert_id**: Event deduplication identifier

### Authentication Methods
- **API Key**: Primary authentication for event ingestion (`api_key` parameter)
- **HTTP Basic Authentication**: Used for management APIs with username/password
- **Secret Key**: Server-side authentication for User Profile API
- **SCIM Key**: Specialized authentication for user provisioning

### Property Types and Operations
- **event_properties**: Event-specific attributes
- **user_properties**: User-level attributes with operations ($set, $setOnce, $add, $append, $prepend, $unset)
- **group_properties**: Group-level attributes for Accounts add-on
- **computed_properties**: Derived user attributes

### Rate Limiting and Throttling
- **EPS (Events Per Second)**: Rate limiting metric (1000 events/second/device for batch uploads)
- **Cost-based limiting**: Enterprise API rate limiting using cost units
- **Throttling responses**: HTTP 429 status codes for rate limit violations

### Data Classification
- **PII (Personally Identifiable Information)**: Sensitive data classification
- **SENSITIVE**: Internal sensitive data classification
- **REVENUE**: Revenue-related property classification

## Product Ecosystem Integration

### Regional Data Residency
The platform supports data residency requirements with region-specific endpoints:
- **US Region**: `api2.amplitude.com`, `api.amplitude.com`
- **EU Region**: `api.eu.amplitude.com` (limited API availability)

### Add-on Product Integration
Several APIs require specific Amplitude add-ons:
- **Accounts Add-on**: Required for Group Identify API and group-level analytics
- **Portfolio Add-on**: Enables User Mapping API for cross-project user identity
- **Activation Plan**: Required for User Profile API access
- **Enterprise Plan**: Required for Taxonomy API and advanced SCIM features

### Third-party Integration Points
- **Identity Providers**: SCIM API integrates with Okta, JumpCloud, and other IdPs
- **Amazon S3**: Cohorts API uses S3 pre-signed URLs for large file transfers
- **Advertising Platforms**: Attribution API supports iOS (idfa, idfv) and Android (adid, android_app_set_id) advertising identifiers

## Key API Endpoints and Invocations

### Primary Ingestion Endpoints
```
POST https://api2.amplitude.com/2/httpapi
POST https://api2.amplitude.com/batch
POST https://api2.amplitude.com/identify
POST https://api2.amplitude.com/groupidentify
POST https://api2.amplitude.com/attribution
```

### Data Access Endpoints
```
GET https://amplitude.com/api/2/export
GET https://profile-api.amplitude.com/v1/userprofile
GET https://amplitude.com/api/2/events/segmentation
```

### Management Endpoints
```
GET/POST/PUT/DELETE https://data-api.amplitude.com/api/3/lookup_table
GET/POST/PUT/DELETE https://amplitude.com/api/2/taxonomy/*
POST https://amplitude.com/api/2/deletions/users
POST https://amplitude.com/api/2/dsar/requests
```

The platform implements comprehensive rate limiting, supports both synchronous and asynchronous operations, and provides detailed error handling with specific HTTP status codes for different failure scenarios.